"use strict";(self["webpackChunk"]=self["webpackChunk"]||[]).push([[5669],{72793:(e,t,s)=>{s.r(t),s.d(t,{default:()=>x});var a=s(20641),l=s(90033),o=s(53751);const r={class:"main-content"},c={key:0,class:"loading_page spinner spinner-primary mr-3"},i={id:"autocomplete",class:"autocomplete"},d=["placeholder"],u={class:"autocomplete-result-list"},n=["onMousedown"],h={class:"table-responsive"},p={class:"table table-hover table-md"},_={scope:"col"},b={scope:"col"},m={scope:"col"},y={key:0},v={colspan:"3"},k={key:1},g=(0,a.Lk)("i",{class:"i-Edit"},null,-1),f=(0,a.Lk)("i",{class:"i-Power-2"},null,-1),w=(0,a.Lk)("i",{class:"i-Billing"},null,-1),L={key:0,class:"barcode-row",id:"print_barcode_label"},C={class:"head_barcode text-left",style:{"padding-left":"10px","font-weight":"bold"}},F={class:"barcode-name"},P={class:"barcode-price"},$={class:"head_barcode text-left",style:{"padding-left":"10px","font-weight":"bold"}},E={class:"barcode-name"},S={class:"barcode-price"};function X(e,t,s,X,B,T){const W=(0,a.g2)("breadcumb"),I=(0,a.g2)("v-select"),q=(0,a.g2)("b-form-invalid-feedback"),N=(0,a.g2)("b-form-group"),V=(0,a.g2)("validation-provider"),z=(0,a.g2)("validation-observer"),x=(0,a.g2)("b-col"),U=(0,a.g2)("barcode",!0),G=(0,a.g2)("b-row");return(0,a.uX)(),(0,a.CE)("div",r,[(0,a.bF)(W,{page:e.$t("Printbarcode"),folder:e.$t("Products")},null,8,["page","folder"]),B.isLoading?((0,a.uX)(),(0,a.CE)("div",c)):(0,a.Q3)("",!0),B.isLoading?(0,a.Q3)("",!0):((0,a.uX)(),(0,a.Wv)(G,{key:1},{default:(0,a.k6)((()=>[(0,a.bF)(x,{md:"6",class:"mb-3"},{default:(0,a.k6)((()=>[(0,a.bF)(z,{ref:"show_Barcode"},{default:(0,a.k6)((()=>[(0,a.bF)(V,{name:"warehouse",rules:{required:!0}},{default:(0,a.k6)((()=>[(0,a.bF)(N,{"slot-scope":"{ valid, errors }",label:e.$t("warehouse")+" *"},{default:(0,a.k6)((()=>[(0,a.bF)(I,{class:(0,l.C4)({"is-invalid":!!e.errors.length}),state:!e.errors[0]&&(!!e.valid||null),onInput:T.Selected_Warehouse,modelValue:B.barcode.warehouse_id,"onUpdate:modelValue":t[0]||(t[0]=e=>B.barcode.warehouse_id=e),reduce:e=>e.value,placeholder:e.$t("Choose_Warehouse"),options:B.warehouses.map((e=>({label:e.name,value:e.id})))},null,8,["class","state","onInput","modelValue","reduce","placeholder","options"]),(0,a.bF)(q,null,{default:(0,a.k6)((()=>[(0,a.eW)((0,l.v_)(e.errors[0]),1)])),_:1})])),_:1},8,["label"])])),_:1})])),_:1},512)])),_:1}),(0,a.bF)(x,{md:"12",class:"mb-5"},{default:(0,a.k6)((()=>[(0,a.Lk)("h6",null,(0,l.v_)(e.$t("ProductName")),1),(0,a.Lk)("div",i,[(0,a.Lk)("input",{placeholder:e.$t("Scan_Search_Product_by_Code_Name"),onInput:t[1]||(t[1]=e=>B.search_input=e.target.value),onKeyup:t[2]||(t[2]=e=>T.search(B.search_input)),onFocus:t[3]||(t[3]=(...e)=>T.handleFocus&&T.handleFocus(...e)),onBlur:t[4]||(t[4]=(...e)=>T.handleBlur&&T.handleBlur(...e)),ref:"product_autocomplete",class:"autocomplete-input"},null,40,d),(0,a.bo)((0,a.Lk)("ul",u,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(B.product_filter,(e=>((0,a.uX)(),(0,a.CE)("li",{class:"autocomplete-result",onMousedown:t=>T.SearchProduct(e)},(0,l.v_)(T.getResultValue(e)),41,n)))),256))],512),[[o.aG,B.focused]])])])),_:1}),(0,a.bF)(x,{md:"12"},{default:(0,a.k6)((()=>[(0,a.Lk)("div",h,[(0,a.Lk)("table",p,[(0,a.Lk)("thead",null,[(0,a.Lk)("tr",null,[(0,a.Lk)("th",_,(0,l.v_)(e.$t("ProductName")),1),(0,a.Lk)("th",b,(0,l.v_)(e.$t("CodeProduct")),1),(0,a.Lk)("th",m,(0,l.v_)(e.$t("Quantity")),1)])]),(0,a.Lk)("tbody",null,[""===B.product.code?((0,a.uX)(),(0,a.CE)("tr",y,[(0,a.Lk)("td",v,(0,l.v_)(e.$t("NodataAvailable")),1)])):((0,a.uX)(),(0,a.CE)("tr",k,[(0,a.Lk)("td",null,(0,l.v_)(B.product.name),1),(0,a.Lk)("td",null,(0,l.v_)(B.product.code),1),(0,a.Lk)("td",null,[(0,a.bo)((0,a.Lk)("input",{"onUpdate:modelValue":t[5]||(t[5]=e=>B.barcode.qte=e),class:"form-control w-50 h-25",id:"qte",type:"number",name:"qte"},null,512),[[o.Jo,B.barcode.qte,void 0,{number:!0}]])])]))])])])])),_:1}),(0,a.bF)(x,{md:"12"},{default:(0,a.k6)((()=>[(0,a.bF)(N,{label:e.$t("Paper_size")},{default:(0,a.k6)((()=>[(0,a.bF)(I,{modelValue:B.paper_size,"onUpdate:modelValue":t[6]||(t[6]=e=>B.paper_size=e),onInput:T.Selected_Paper_size,reduce:e=>e.value,placeholder:e.$t("Paper_size"),options:[{label:"40 per sheet (a4) (1.799 * 1.003)",value:"style40"},{label:"30 per sheet (2.625 * 1)",value:"style30"},{label:"24 per sheet (a4) (2.48 * 1.334)",value:"style24"},{label:"20 per sheet (4 * 1)",value:"style20"},{label:"18 per sheet (a4) (2.5 * 1.835)",value:"style18"},{label:"14 per sheet (4 * 1.33)",value:"style14"},{label:"12 per sheet (a4) (2.5 * 2.834)",value:"style12"},{label:"10 per sheet (4 * 2)",value:"style10"}]},null,8,["modelValue","onInput","reduce","placeholder"])])),_:1},8,["label"])])),_:1}),(0,a.bF)(x,{md:"12"},{default:(0,a.k6)((()=>[(0,a.Lk)("button",{onClick:t[7]||(t[7]=e=>T.submit()),type:"submit",class:"btn btn-primary btn-sm m-1"},[g,(0,a.eW)(" "+(0,l.v_)(e.$t("Updat")),1)]),(0,a.Lk)("button",{onClick:t[8]||(t[8]=e=>T.reset()),type:"submit",class:"btn btn-danger btn-sm m-1"},[f,(0,a.eW)(" "+(0,l.v_)(e.$t("Reset")),1)]),(0,a.Lk)("button",{onClick:t[9]||(t[9]=e=>T.print_all_Barcode()),value:"Print",type:"submit",class:"btn btn-light btn-sm pull-right m-1"},[w,(0,a.eW)(" "+(0,l.v_)(e.$t("print")),1)])])),_:1}),(0,a.bF)(x,{md:"12"},{default:(0,a.k6)((()=>[B.ShowCard?((0,a.uX)(),(0,a.CE)("div",L,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(B.total_a4,((t,s)=>((0,a.uX)(),(0,a.CE)("div",{class:(0,l.C4)(B.class_type_page),key:s},[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(B.sheets,((t,s)=>((0,a.uX)(),(0,a.CE)("div",{class:(0,l.C4)(["barcode-item",B.class_sheet]),key:s},[(0,a.Lk)("div",C,[(0,a.Lk)("span",F,(0,l.v_)(B.product.name),1),(0,a.Lk)("span",P,(0,l.v_)(e.currentUser.currency)+" "+(0,l.v_)(B.product.Net_price),1)]),(0,a.bF)(U,{class:"barcode",format:B.product.Type_barcode,value:B.product.barcode,textmargin:"0",fontoptions:"bold",fontSize:"15",height:"25",width:"1"},null,8,["format","value"])],2)))),128))],2)))),128)),B.rest>0?((0,a.uX)(),(0,a.CE)("div",{key:0,class:(0,l.C4)(B.class_type_page)},[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(B.rest,((t,s)=>((0,a.uX)(),(0,a.CE)("div",{class:(0,l.C4)(["barcode-item",B.class_sheet]),key:s},[(0,a.Lk)("div",$,[(0,a.Lk)("span",E,(0,l.v_)(B.product.name),1),(0,a.Lk)("span",S,(0,l.v_)(e.currentUser.currency)+" "+(0,l.v_)(B.product.Net_price),1)]),(0,a.bF)(U,{class:"barcode",fontSize:"15",format:B.product.Type_barcode,value:B.product.barcode,textmargin:"0",fontoptions:"bold",height:"25",width:"1"},null,8,["format","value"])],2)))),128))],2)):(0,a.Q3)("",!0)])):(0,a.Q3)("",!0)])),_:1})])),_:1}))])}var B=s(470),T=s.n(B),W=s(5947),I=s.n(W),q=s(95353);const N={components:{barcode:T()},data(){return{focused:!1,timer:null,search_input:"",product_filter:[],isLoading:!0,ShowCard:!1,barcode:{product_id:"",warehouse_id:"",qte:10},count:"",paper_size:"",sheets:"",total_a4:"",class_sheet:"",class_type_page:"",rest:"",warehouses:[],submitStatus:null,products:[],product:{name:"",code:"",Type_barcode:"",barcode:"",Net_price:""}}},computed:{...(0,q.L8)(["currentUser"])},methods:{Per_Page(){this.total_a4=parseInt(this.barcode.qte/this.sheets),this.rest=this.barcode.qte%this.sheets},Selected_Paper_size(e){"style40"==e?(this.sheets=40,this.class_sheet="style40",this.class_type_page="barcodea4"):"style30"==e?(this.sheets=30,this.class_type_page="barcode_non_a4",this.class_sheet="style30"):"style24"==e?(this.sheets=24,this.class_sheet="style24",this.class_type_page="barcodea4"):"style20"==e?(this.sheets=20,this.class_sheet="style20",this.class_type_page="barcode_non_a4"):"style18"==e?(this.sheets=18,this.class_sheet="style18",this.class_type_page="barcodea4"):"style14"==e?(this.sheets=14,this.class_sheet="style14",this.class_type_page="barcode_non_a4"):"style12"==e?(this.sheets=12,this.class_sheet="style12",this.class_type_page="barcodea4"):"style10"==e&&(this.sheets=10,this.class_sheet="style10",this.class_type_page="barcode_non_a4"),this.Per_Page()},submit(){this.$refs.show_Barcode.validate().then((e=>{e&&this.showBarcode()}))},getValidationState({dirty:e,validated:t,valid:s=null}){return e||t?s:null},handleFocus(){this.focused=!0},handleBlur(){this.focused=!1},search(){if(this.timer&&(clearTimeout(this.timer),this.timer=null),this.search_input.length<2)return this.product_filter=[];""!=this.barcode.warehouse_id&&null!=this.barcode.warehouse_id?this.timer=setTimeout((()=>{const e=this.products.filter((e=>e.code===this.search_input||e.barcode.includes(this.search_input)));1===e.length?this.SearchProduct(e[0]):this.product_filter=this.products.filter((e=>e.name.toLowerCase().includes(this.search_input.toLowerCase())||e.code.toLowerCase().includes(this.search_input.toLowerCase())||e.barcode.toLowerCase().includes(this.search_input.toLowerCase())))}),800):this.makeToast("warning",this.$t("SelectWarehouse"),this.$t("Warning"))},getResultValue(e){return e.code+" ("+e.name+")"},SearchProduct(e){this.product={},this.product.code===e.code?this.makeToast("warning",this.$t("AlreadyAdd"),this.$t("Warning")):(this.product.code=e.code,this.product.barcode=e.barcode,this.product.name=e.name,this.product.Type_barcode=e.Type_barcode,this.product.Net_price=e.Net_price),this.search_input="",this.$refs.product_autocomplete.value="",this.product_filter=[]},makeToast(e,t,s){this.$root.$bvToast.toast(t,{title:s,variant:e,solid:!0})},Get_Products_By_Warehouse(e){I().start(),I().set(.1),axios.get("get_Products_by_warehouse/"+e+"?stock=0").then((e=>{this.products=e.data,I().done()})).catch((e=>{}))},print_all_Barcode(){var e=document.getElementById("print_barcode_label").innerHTML,t=window.open("","","height=500, width=500");t.document.write('<link rel="stylesheet" href="/assets_setup/css/print_label.css"><html>'),t.document.write("<body >"),t.document.write(e),t.document.write("</body></html>"),t.document.close(),setTimeout((()=>{t.print()}),1e3)},showBarcode(){this.Per_Page(),this.count=this.barcode.qte,this.ShowCard=!0},Selected_Warehouse(e){this.search_input="",this.product_filter=[],this.Get_Products_By_Warehouse(e)},Get_Elements:function(){axios.get("barcode_create_page").then((e=>{this.warehouses=e.data.warehouses,this.isLoading=!1})).catch((e=>{setTimeout((()=>{this.isLoading=!1}),500)}))},reset(){this.ShowCard=!1,this.products=[],this.product.name="",this.product.code="",this.product.Net_price="",this.barcode.qte=10,this.count=10,this.barcode.warehouse_id="",this.search_input="",this.$refs.product_autocomplete.value="",this.product_filter=[]}},created:function(){this.Get_Elements()}};var V=s(66262);const z=(0,V.A)(N,[["render",X]]),x=z}}]);
//# sourceMappingURL=barcode.b5e5795c.js.map