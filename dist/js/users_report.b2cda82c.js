"use strict";(self["webpackChunk"]=self["webpackChunk"]||[]).push([[786],{49023:(t,e,s)=>{s.r(e),s.d(e,{default:()=>f});var a=s(20641),r=s(90033);const l={class:"main-content"},o={key:0,class:"loading_page spinner spinner-primary mr-3"},n={slot:"table-row","slot-scope":"props"},i={key:0};function h(t,e,s,h,d,p){const u=(0,a.g2)("breadcumb"),g=(0,a.g2)("b-button"),c=(0,a.g2)("router-link"),f=(0,a.g2)("vue-good-table"),m=(0,a.g2)("b-card");return(0,a.uX)(),(0,a.CE)("div",l,[(0,a.bF)(u,{page:t.$t("Users_Report"),folder:t.$t("Reports")},null,8,["page","folder"]),d.isLoading?((0,a.uX)(),(0,a.CE)("div",o)):(0,a.Q3)("",!0),d.isLoading?(0,a.Q3)("",!0):((0,a.uX)(),(0,a.Wv)(m,{key:1,class:"wrapper"},{default:(0,a.k6)((()=>[(0,a.bF)(f,{mode:"remote",columns:p.columns,totalRows:d.totalRows,rows:d.users,onOnPageChange:p.onPageChange,onOnPerPageChange:p.onPerPageChange,onOnSortChange:p.onSortChange,onOnSearch:p.onSearch,"search-options":{placeholder:t.$t("Search_this_table"),enabled:!0},"pagination-options":{enabled:!0,mode:"records",nextLabel:"next",prevLabel:"prev"},styleClass:"tableOne table-hover vgt-table mt-3"},{default:(0,a.k6)((()=>[(0,a.Lk)("template",n,["actions"==t.props.column.field?((0,a.uX)(),(0,a.CE)("span",i,[(0,a.bF)(c,{title:"Report",to:"/app/reports/detail_user/"+t.props.row.id},{default:(0,a.k6)((()=>[(0,a.bF)(g,{variant:"primary"},{default:(0,a.k6)((()=>[(0,a.eW)((0,r.v_)(t.$t("Reports")),1)])),_:1})])),_:1},8,["to"])])):(0,a.Q3)("",!0)])])),_:1},8,["columns","totalRows","rows","onOnPageChange","onOnPerPageChange","onOnSortChange","onOnSearch","search-options"])])),_:1}))])}var d=s(5947),p=s.n(d);const u={metaInfo:{title:"Report Users"},data(){return{isLoading:!0,serverParams:{sort:{field:"id",type:"desc"},page:1,perPage:10},limit:"10",search:"",totalRows:"",users:[],user:{}}},computed:{columns(){return[{label:this.$t("username"),field:"username",tdClass:"text-left",thClass:"text-left"},{label:this.$t("TotalSales"),field:"total_sales",tdClass:"text-left",thClass:"text-left",sortable:!1},{label:this.$t("TotalPurchases"),field:"total_purchases",tdClass:"text-left",thClass:"text-left",sortable:!1},{label:this.$t("Total_quotations"),field:"total_quotations",tdClass:"text-left",thClass:"text-left",sortable:!1},{label:this.$t("Total_return_sales"),field:"total_return_sales",tdClass:"text-left",thClass:"text-left",sortable:!1},{label:this.$t("Total_return_purchases"),field:"total_return_purchases",tdClass:"text-left",thClass:"text-left",sortable:!1},{label:this.$t("Total_transfers"),field:"total_transfers",tdClass:"text-left",thClass:"text-left",sortable:!1},{label:this.$t("Total_adjustments"),field:"total_adjustments",tdClass:"text-left",thClass:"text-left",sortable:!1},{label:this.$t("Action"),field:"actions",html:!0,tdClass:"text-right",thClass:"text-right",sortable:!1}]}},methods:{updateParams(t){this.serverParams=Object.assign({},this.serverParams,t)},onPageChange({currentPage:t}){this.serverParams.page!==t&&(this.updateParams({page:t}),this.Get_Users_Report(t))},onPerPageChange({currentPerPage:t}){this.limit!==t&&(this.limit=t,this.updateParams({page:1,perPage:t}),this.Get_Users_Report(1))},onSortChange(t){this.updateParams({sort:{type:t[0].type,field:t[0].field}}),this.Get_Users_Report(this.serverParams.page)},onSearch(t){this.search=t.searchTerm,this.Get_Users_Report(this.serverParams.page)},formatNumber(t,e){const s=("string"===typeof t?t:t.toString()).split(".");if(e<=0)return s[0];let a=s[1]||"";if(a.length>e)return`${s[0]}.${a.substr(0,e)}`;while(a.length<e)a+="0";return`${s[0]}.${a}`},Get_Users_Report(t){p().start(),p().set(.1),axios.get("report/users?page="+t+"&SortField="+this.serverParams.sort.field+"&SortType="+this.serverParams.sort.type+"&search="+this.search+"&limit="+this.limit).then((t=>{this.users=t.data.report,this.totalRows=t.data.totalRows,p().done(),this.isLoading=!1})).catch((t=>{p().done(),setTimeout((()=>{this.isLoading=!1}),500)}))}},created:function(){this.Get_Users_Report(1)}};var g=s(66262);const c=(0,g.A)(u,[["render",h]]),f=c}}]);
//# sourceMappingURL=users_report.b2cda82c.js.map