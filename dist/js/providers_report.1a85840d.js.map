{"version":3,"file":"js/providers_report.1a85840d.js","mappings":"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","sources":["webpack:///./src/views/app/pages/reports/providers_report.vue","webpack:///./src/views/app/pages/reports/providers_report.vue?9927"],"sourcesContent":["<template>\r\n  <div class=\"main-content\">\r\n    <breadcumb :page=\"$t('SuppliersReport')\" :folder=\"$t('Reports')\"/>\r\n\r\n    <div v-if=\"isLoading\" class=\"loading_page spinner spinner-primary mr-3\"></div>\r\n\r\n    <b-card class=\"wrapper\" v-if=\"!isLoading\">\r\n      <vue-good-table\r\n        mode=\"remote\"\r\n        :columns=\"columns\"\r\n        :totalRows=\"totalRows\"\r\n        :rows=\"rows\"\r\n        :group-options=\"{\r\n          enabled: true,\r\n          headerPosition: 'bottom',\r\n        }\"\r\n        @on-page-change=\"onPageChange\"\r\n        @on-per-page-change=\"onPerPageChange\"\r\n        @on-sort-change=\"onSortChange\"\r\n        @on-search=\"onSearch\"\r\n        :search-options=\"{\r\n        placeholder: $t('Search_this_table'),\r\n        enabled: true,\r\n      }\"\r\n        :pagination-options=\"{\r\n        enabled: true,\r\n        mode: 'records',\r\n        nextLabel: 'next',\r\n        prevLabel: 'prev',\r\n      }\"\r\n        styleClass=\"tableOne table-hover vgt-table mt-4\"\r\n      >\r\n       <template slot=\"table-row\" slot-scope=\"props\">\r\n          <span v-if=\"props.column.field == 'actions'\">\r\n            <a title=\"PDF\" class=\"cursor-pointer\" v-b-tooltip.hover @click=\"Download_PDF(props.row , props.row.id)\">\r\n              <i class=\"i-File-Copy text-25 text-success\"></i>\r\n            </a>\r\n            <router-link title=\"Report\" :to=\"'/app/reports/detail_supplier/'+props.row.id\">\r\n             <i class=\"i-Eye text-25 text-info\"></i>\r\n            </router-link>\r\n          </span>\r\n        </template>\r\n      </vue-good-table>\r\n    </b-card>\r\n  </div>\r\n</template>\r\n\r\n\r\n<script>\r\nimport NProgress from \"nprogress\";\r\nimport { mapActions, mapGetters } from \"vuex\";\r\n\r\nexport default {\r\n  metaInfo: {\r\n    title: \"Report Providers\"\r\n  },\r\n  data() {\r\n    return {\r\n      isLoading: true,\r\n      serverParams: {\r\n        sort: {\r\n          field: \"id\",\r\n          type: \"desc\"\r\n        },\r\n        page: 1,\r\n        perPage: 10\r\n      },\r\n      limit: \"10\",\r\n      search: \"\",\r\n      totalRows: \"\",\r\n      providers: [],\r\n      provider: {},\r\n       rows: [{\r\n          total_purchase: 'Total',\r\n         \r\n          children: [\r\n             \r\n          ],\r\n      },],\r\n    };\r\n  },\r\n\r\n  computed: {\r\n    ...mapGetters([\"currentUser\"]),\r\n    columns() {\r\n      return [\r\n        {\r\n          label: this.$t(\"SupplierName\"),\r\n          field: \"name\",\r\n          tdClass: \"text-left\",\r\n          thClass: \"text-left\"\r\n        },\r\n        {\r\n          label: this.$t(\"Phone\"),\r\n          field: \"phone\",\r\n          tdClass: \"text-left\",\r\n          thClass: \"text-left\"\r\n        },\r\n        {\r\n          label: this.$t(\"Purchases\"),\r\n          field: \"total_purchase\",\r\n          tdClass: \"text-left\",\r\n          thClass: \"text-left\",\r\n          sortable: false\r\n        },\r\n        {\r\n          label: this.$t(\"TotalAmount\"),\r\n          field: \"total_amount\",\r\n          type: \"decimal\",\r\n          headerField: this.sumCount,\r\n          tdClass: \"text-left\",\r\n          thClass: \"text-left\",\r\n          sortable: false\r\n        },\r\n        {\r\n          label: this.$t(\"Paid\"),\r\n          field: \"total_paid\",\r\n          type: \"decimal\",\r\n          headerField: this.sumCount2,\r\n          tdClass: \"text-left\",\r\n          thClass: \"text-left\",\r\n          sortable: false\r\n        },\r\n        {\r\n          label: this.$t(\"Total_Purchase_Due\"),\r\n          field: \"due\",\r\n          type: \"decimal\",\r\n          headerField: this.sumCount3,\r\n          tdClass: \"text-left\",\r\n          thClass: \"text-left\",\r\n          sortable: false\r\n        },\r\n        {\r\n          label: this.$t(\"Total_Purchase_Return_Due\"),\r\n          field: \"return_Due\",\r\n          type: \"decimal\",\r\n          headerField: this.sumCount4,\r\n          tdClass: \"text-left\",\r\n          thClass: \"text-left\",\r\n          sortable: false\r\n        },\r\n        {\r\n          label: this.$t(\"Action\"),\r\n          field: \"actions\",\r\n          html: true,\r\n          tdClass: \"text-right\",\r\n          thClass: \"text-right\",\r\n          sortable: false\r\n        }\r\n      ];\r\n    }\r\n  },\r\n\r\n  methods: {\r\n\r\n    sumCount(rowObj) {\r\n     \r\n    \tlet sum = 0;\r\n      for (let i = 0; i < rowObj.children.length; i++) {\r\n        sum += rowObj.children[i].total_amount;\r\n      }\r\n      return sum;\r\n    },\r\n    sumCount2(rowObj) {\r\n     \r\n    \tlet sum = 0;\r\n      for (let i = 0; i < rowObj.children.length; i++) {\r\n        sum += rowObj.children[i].total_paid;\r\n      }\r\n      return sum;\r\n    },\r\n    sumCount3(rowObj) {\r\n     \r\n    \tlet sum = 0;\r\n      for (let i = 0; i < rowObj.children.length; i++) {\r\n        sum += rowObj.children[i].due;\r\n      }\r\n      return sum;\r\n    },\r\n    sumCount4(rowObj) {\r\n     \r\n    \tlet sum = 0;\r\n      for (let i = 0; i < rowObj.children.length; i++) {\r\n        sum += rowObj.children[i].return_Due;\r\n      }\r\n      return sum;\r\n    },\r\n\r\n    //--------------------------- Download_PDF -------------------------------\\\\\r\n    Download_PDF(provider , id) {\r\n      // Start the progress bar.\r\n      NProgress.start();\r\n      NProgress.set(0.1);\r\n     \r\n       axios\r\n        .get(\"report/provider_pdf/\" + id, {\r\n          responseType: \"blob\", // important\r\n          headers: {\r\n            \"Content-Type\": \"application/json\"\r\n          }\r\n        })\r\n        .then(response => {\r\n          const url = window.URL.createObjectURL(new Blob([response.data]));\r\n          const link = document.createElement(\"a\");\r\n          link.href = url;\r\n          link.setAttribute(\"download\", \"report-\" + provider.name + \".pdf\");\r\n          document.body.appendChild(link);\r\n          link.click();\r\n          // Complete the animation of the  progress bar.\r\n          setTimeout(() => NProgress.done(), 500);\r\n        })\r\n        .catch(() => {\r\n          // Complete the animation of the  progress bar.\r\n          setTimeout(() => NProgress.done(), 500);\r\n        });\r\n    },\r\n\r\n    //---- update Params Table\r\n    updateParams(newProps) {\r\n      this.serverParams = Object.assign({}, this.serverParams, newProps);\r\n    },\r\n\r\n    //---- Event Page Change\r\n    onPageChange({ currentPage }) {\r\n      if (this.serverParams.page !== currentPage) {\r\n        this.updateParams({ page: currentPage });\r\n        this.Get_Provider_Report(currentPage);\r\n      }\r\n    },\r\n\r\n    //---- Event Per Page Change\r\n    onPerPageChange({ currentPerPage }) {\r\n      if (this.limit !== currentPerPage) {\r\n        this.limit = currentPerPage;\r\n        this.updateParams({ page: 1, perPage: currentPerPage });\r\n        this.Get_Provider_Report(1);\r\n      }\r\n    },\r\n\r\n    //---- Event on Sort Change\r\n\r\n    onSortChange(params) {\r\n      this.updateParams({\r\n        sort: {\r\n          type: params[0].type,\r\n          field: params[0].field\r\n        }\r\n      });\r\n      this.Get_Provider_Report(this.serverParams.page);\r\n    },\r\n\r\n    //---- Event on Search\r\n\r\n    onSearch(value) {\r\n      this.search = value.searchTerm;\r\n      this.Get_Provider_Report(this.serverParams.page);\r\n    },\r\n\r\n    //------------------------------Formetted Numbers -------------------------\\\\\r\n    formatNumber(number, dec) {\r\n      const value = (typeof number === \"string\"\r\n        ? number\r\n        : number.toString()\r\n      ).split(\".\");\r\n      if (dec <= 0) return value[0];\r\n      let formated = value[1] || \"\";\r\n      if (formated.length > dec)\r\n        return `${value[0]}.${formated.substr(0, dec)}`;\r\n      while (formated.length < dec) formated += \"0\";\r\n      return `${value[0]}.${formated}`;\r\n    },\r\n\r\n    //--------------------------- Get Customer Report -------------\\\\\r\n\r\n    Get_Provider_Report(page) {\r\n      // Start the progress bar.\r\n      NProgress.start();\r\n      NProgress.set(0.1);\r\n      axios\r\n        .get(\r\n          \"report/provider?page=\" +\r\n            page +\r\n            \"&SortField=\" +\r\n            this.serverParams.sort.field +\r\n            \"&SortType=\" +\r\n            this.serverParams.sort.type +\r\n            \"&search=\" +\r\n            this.search +\r\n            \"&limit=\" +\r\n            this.limit\r\n        )\r\n        .then(response => {\r\n          this.providers = response.data.report;\r\n          this.totalRows = response.data.totalRows;\r\n          this.rows[0].children = this.providers;\r\n          // Complete the animation of theprogress bar.\r\n          NProgress.done();\r\n          this.isLoading = false;\r\n        })\r\n        .catch(response => {\r\n          // Complete the animation of theprogress bar.\r\n          NProgress.done();\r\n          setTimeout(() => {\r\n            this.isLoading = false;\r\n          }, 500);\r\n        });\r\n    }\r\n  }, //end Methods\r\n\r\n  //----------------------------- Created function------------------- \\\\\r\n\r\n  created: function() {\r\n    this.Get_Provider_Report(1);\r\n  }\r\n};\r\n</script>","import { render } from \"./providers_report.vue?vue&type=template&id=26653aa9\"\nimport script from \"./providers_report.vue?vue&type=script&lang=js\"\nexport * from \"./providers_report.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","slot","page","$t","folder","isLoading","mode","columns","totalRows","rows","onPageChange","onPerPageChange","onSortChange","onSearch","styleClass","props","column","field","title","Download_PDF","row","id","to","metaInfo","data","serverParams","sort","type","perPage","limit","search","providers","provider","total_purchase","children","computed","label","this","tdClass","thClass","sortable","headerField","sumCount","sumCount2","sumCount3","sumCount4","html","methods","rowObj","sum","i","length","total_amount","total_paid","due","return_Due","axios","get","responseType","headers","then","response","url","window","URL","createObjectURL","Blob","link","document","createElement","href","setAttribute","name","body","appendChild","click","setTimeout","catch","updateParams","newProps","Object","assign","currentPage","Get_Provider_Report","currentPerPage","params","value","searchTerm","formatNumber","number","dec","toString","split","formated","substr","report","created","__exports__","render"],"sourceRoot":""}