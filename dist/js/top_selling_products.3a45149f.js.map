{"version":3,"file":"js/top_selling_products.3a45149f.js","mappings":"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","sources":["webpack:///./src/views/app/pages/reports/top_selling_products.vue","webpack:///./src/views/app/pages/reports/top_selling_products.vue?9a99"],"sourcesContent":["<template>\r\n  <div class=\"main-content\">\r\n    <breadcumb :page=\"$t('Top_Selling_Products')\" :folder=\"$t('Reports')\"/>\r\n    <div v-if=\"isLoading\" class=\"loading_page spinner spinner-primary mr-3\"></div>\r\n    <b-col md=\"12\" class=\"text-center\" v-if=\"!isLoading\">\r\n        <date-range-picker \r\n          v-model=\"dateRange\" \r\n          :startDate=\"startDate\" \r\n          :endDate=\"endDate\" \r\n           @update=\"Submit_filter_dateRange\"\r\n          :locale-data=\"locale\" > \r\n\r\n          <template v-slot:input=\"picker\" style=\"min-width: 350px;\">\r\n              {{ picker.startDate.toJSON().slice(0, 10)}} - {{ picker.endDate.toJSON().slice(0, 10)}}\r\n          </template>        \r\n        </date-range-picker>\r\n      </b-col>\r\n\r\n      <vue-good-table\r\n        v-if=\"!isLoading\"\r\n        mode=\"remote\"\r\n        :columns=\"columns\"\r\n        :totalRows=\"totalRows\"\r\n        :rows=\"products\"\r\n        @on-page-change=\"onPageChange\"\r\n        @on-per-page-change=\"onPerPageChange\"\r\n        @on-search=\"onSearch_products\"\r\n          :search-options=\"{\r\n            placeholder: $t('Search_this_table'),\r\n            enabled: true,\r\n        }\"\r\n        :pagination-options=\"{\r\n        enabled: true,\r\n        mode: 'records',\r\n        nextLabel: 'next',\r\n        prevLabel: 'prev',\r\n      }\"\r\n        styleClass=\"mt-5 table-hover tableOne vgt-table\"\r\n      >\r\n      <div slot=\"table-actions\" class=\"mt-2 mb-3\">\r\n        <b-button @click=\"export_PDF()\" size=\"sm\" variant=\"outline-success ripple m-1\">\r\n          <i class=\"i-File-Copy\"></i> PDF\r\n        </b-button>\r\n\r\n         <vue-excel-xlsx\r\n              class=\"btn btn-sm btn-outline-danger ripple m-1\"\r\n              :data=\"products\"\r\n              :columns=\"columns\"\r\n              :file-name=\"'product_report'\"\r\n              :file-type=\"'xlsx'\"\r\n              :sheet-name=\"'product_report'\"\r\n              >\r\n              <i class=\"i-File-Excel\"></i> EXCEL\r\n          </vue-excel-xlsx>\r\n\r\n      </div>\r\n        <template slot=\"table-row\" slot-scope=\"props\">\r\n          <div v-if=\"props.column.field == 'total'\">\r\n            <span>{{currentUser.currency}} {{props.row.total}}</span>\r\n          </div>\r\n        </template>\r\n      </vue-good-table>\r\n      <!-- </b-card> -->\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport NProgress from \"nprogress\";\r\nimport { mapGetters } from \"vuex\";\r\nimport DateRangePicker from 'vue2-daterange-picker'\r\n//you need to import the CSS manually\r\nimport 'vue2-daterange-picker/dist/vue2-daterange-picker.css'\r\nimport moment from 'moment'\r\nimport jsPDF from \"jspdf\";\r\nimport \"jspdf-autotable\";\r\n\r\nexport default {\r\n  metaInfo: {\r\n    title: \"Top Selling Products\"\r\n  },\r\n  components: { DateRangePicker },\r\n  data() {\r\n    return {\r\n      isLoading: true,\r\n      serverParams: {\r\n        sort: {\r\n          field: \"id\",\r\n          type: \"desc\"\r\n        },\r\n        page: 1,\r\n        perPage: 10\r\n      },\r\n      limit: \"10\",\r\n      totalRows: \"\",\r\n      products: [],\r\n      search_products:\"\",\r\n      today_mode: true,\r\n      startDate: \"\", \r\n      endDate: \"\", \r\n      dateRange: { \r\n       startDate: \"\", \r\n       endDate: \"\" \r\n      }, \r\n      locale:{ \r\n          //separator between the two ranges apply\r\n          Label: \"Apply\", \r\n          cancelLabel: \"Cancel\", \r\n          weekLabel: \"W\", \r\n          customRangeLabel: \"Custom Range\", \r\n          daysOfWeek: moment.weekdaysMin(), \r\n          //array of days - see moment documenations for details \r\n          monthNames: moment.monthsShort(), //array of month names - see moment documenations for details \r\n          firstDay: 1 //ISO first day of week - see moment documenations for details\r\n        },\r\n    };\r\n  },\r\n\r\n  computed: {\r\n    ...mapGetters([\"currentUser\"]),\r\n    columns() {\r\n      return [\r\n        {\r\n          label: this.$t(\"ProductCode\"),\r\n          field: \"code\",\r\n          tdClass: \"text-left\",\r\n          thClass: \"text-left\",\r\n          sortable: false\r\n        },\r\n        {\r\n          label: this.$t(\"ProductName\"),\r\n          field: \"name\",\r\n          tdClass: \"text-left\",\r\n          thClass: \"text-left\",\r\n          sortable: false\r\n        },\r\n        {\r\n          label: this.$t(\"TotalSales\"),\r\n          field: \"total_sales\",\r\n          tdClass: \"text-left\",\r\n          thClass: \"text-left\",\r\n          sortable: false\r\n        },\r\n\r\n        {\r\n          label: this.$t(\"TotalAmount\"),\r\n          field: \"total\",\r\n          tdClass: \"text-left\",\r\n          thClass: \"text-left\",\r\n          sortable: false\r\n        }\r\n      ];\r\n    }\r\n  },\r\n\r\n  methods: {\r\n\r\n     \r\n    onSearch_products(value) {\r\n      this.search_products = value.searchTerm;\r\n      this.Get_top_products(1);\r\n    },\r\n\r\n    //----------------------------------- Export PDF ------------------------------\\\\\r\n    export_PDF() {\r\n      var self = this;\r\n      let pdf = new jsPDF(\"p\", \"pt\");\r\n      let columns = [\r\n        { title: \"Product Code\", dataKey: \"code\" },\r\n        { title: \"Product Name\", dataKey: \"name\" },\r\n        { title: \"Total Sales\", dataKey: \"total_sales\" },\r\n        { title: \"Total Amount\", dataKey: \"total\" },\r\n      ];\r\n      pdf.autoTable(columns, self.products);\r\n      pdf.text(\"Top Selling Products\", 40, 25);\r\n      pdf.save(\"Top_Selling_Products.pdf\");\r\n    },\r\n\r\n    //---- update Params Table\r\n    updateParams(newProps) {\r\n      this.serverParams = Object.assign({}, this.serverParams, newProps);\r\n    },\r\n\r\n    //---- Event Page Change\r\n    onPageChange({ currentPage }) {\r\n      if (this.serverParams.page !== currentPage) {\r\n        this.updateParams({ page: currentPage });\r\n        this.Get_top_products(currentPage);\r\n      }\r\n    },\r\n\r\n    //---- Event Per Page Change\r\n    onPerPageChange({ currentPerPage }) {\r\n      if (this.limit !== currentPerPage) {\r\n        this.limit = currentPerPage;\r\n        this.updateParams({ page: 1, perPage: currentPerPage });\r\n        this.Get_top_products(1);\r\n      }\r\n    },\r\n\r\n     //----------------------------- Submit Date Picker -------------------\\\\\r\n    Submit_filter_dateRange() {\r\n      var self = this;\r\n      self.startDate =  self.dateRange.startDate.toJSON().slice(0, 10);\r\n      self.endDate = self.dateRange.endDate.toJSON().slice(0, 10);\r\n      self.Get_top_products(1);\r\n    },\r\n\r\n\r\n    get_data_loaded() {\r\n      var self = this;\r\n      if (self.today_mode) {\r\n        let today = new Date()\r\n\r\n        self.startDate = today.getFullYear();\r\n        self.endDate = new Date().toJSON().slice(0, 10);\r\n\r\n        self.dateRange.startDate = today.getFullYear();\r\n        self.dateRange.endDate = new Date().toJSON().slice(0, 10);\r\n        \r\n      }\r\n    },\r\n\r\n    //----------------------------- Get_top_products------------------\\\\\r\n    Get_top_products(page) {\r\n      // Start the progress bar.\r\n      NProgress.start();\r\n      NProgress.set(0.1);\r\n      this.get_data_loaded();\r\n\r\n      axios\r\n        .get(\r\n          \"report/top_products?page=\" +\r\n            page +\r\n            \"&limit=\" +\r\n            this.limit +\r\n            \"&to=\" +\r\n            this.endDate +\r\n            \"&from=\" +\r\n            this.startDate +\r\n            \"&search=\" +\r\n            this.search_products\r\n        )\r\n        .then(response => {\r\n          this.products = response.data.products;\r\n          this.totalRows = response.data.totalRows;\r\n          // Complete the animation of theprogress bar.\r\n          NProgress.done();\r\n          this.isLoading = false;\r\n          this.today_mode = false;\r\n        })\r\n        .catch(response => {\r\n          // Complete the animation of theprogress bar.\r\n          NProgress.done();\r\n          setTimeout(() => {\r\n            this.isLoading = false;\r\n            this.today_mode = false;\r\n          }, 500);\r\n        });\r\n    }\r\n  }, //end Methods\r\n\r\n  //----------------------------- Created function------------------- \\\\\r\n\r\n  created: function() {\r\n    this.Get_top_products(1);\r\n  }\r\n};\r\n</script>","import { render } from \"./top_selling_products.vue?vue&type=template&id=18e5135d\"\nimport script from \"./top_selling_products.vue?vue&type=script&lang=js\"\nexport * from \"./top_selling_products.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","slot","page","$t","folder","isLoading","md","dateRange","startDate","endDate","Submit_filter_dateRange","locale","input","picker","toJSON","slice","mode","columns","totalRows","rows","products","onPageChange","onPerPageChange","onSearch_products","styleClass","export_PDF","size","variant","data","props","column","field","currentUser","currency","row","total","metaInfo","title","components","DateRangePicker","serverParams","sort","type","perPage","limit","search_products","today_mode","Label","cancelLabel","weekLabel","customRangeLabel","daysOfWeek","monthNames","firstDay","computed","label","this","tdClass","thClass","sortable","methods","value","searchTerm","Get_top_products","self","pdf","dataKey","autoTable","text","save","updateParams","newProps","Object","assign","currentPage","currentPerPage","get_data_loaded","today","Date","getFullYear","axios","get","then","response","catch","setTimeout","created","__exports__","render"],"sourceRoot":""}