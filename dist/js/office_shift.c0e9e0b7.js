"use strict";(self["webpackChunk"]=self["webpackChunk"]||[]).push([[1718],{99989:(e,t,i)=>{i.r(t),i.d(t,{default:()=>P});var a=i(20641),s=i(90033),o=i(53751);const l={class:"main-content"},d={key:0,class:"loading_page spinner spinner-primary mr-3"},f={slot:"selected-row-actions"},n={slot:"table-actions",class:"mt-2 mb-3"},_=(0,a.Lk)("i",{class:"i-Add"},null,-1),u={slot:"table-row","slot-scope":"props"},h={key:0},r=(0,a.Lk)("i",{class:"i-Edit text-25 text-success"},null,-1),c=[r],m=(0,a.Lk)("i",{class:"i-Close-Window text-25 text-danger"},null,-1),y=[m],b=(0,a.Lk)("i",{class:"i-Yes me-2 font-weight-bold"},null,-1),p={key:0,class:"typo__p"},g=(0,a.Lk)("div",{class:"spinner sm spinner-primary mt-3"},null,-1),$=[g];function k(e,t,i,r,m,g){const k=(0,a.g2)("breadcumb"),F=(0,a.g2)("b-button"),v=(0,a.g2)("vue-good-table"),S=(0,a.g2)("b-card"),w=(0,a.g2)("b-form-input"),C=(0,a.g2)("b-form-invalid-feedback"),V=(0,a.g2)("b-form-group"),O=(0,a.g2)("validation-provider"),P=(0,a.g2)("b-col"),x=(0,a.g2)("v-select"),D=(0,a.g2)("vue-clock-picker"),T=(0,a.g2)("b-row"),U=(0,a.g2)("b-form"),E=(0,a.g2)("b-modal"),L=(0,a.g2)("validation-observer"),B=(0,a.gN)("b-tooltip");return(0,a.uX)(),(0,a.CE)("div",l,[(0,a.bF)(k,{page:e.$t("Office_Shift"),folder:e.$t("hrm")},null,8,["page","folder"]),m.isLoading?((0,a.uX)(),(0,a.CE)("div",d)):(0,a.Q3)("",!0),m.isLoading?(0,a.Q3)("",!0):((0,a.uX)(),(0,a.Wv)(S,{key:1,class:"wrapper"},{default:(0,a.k6)((()=>[(0,a.bF)(v,{mode:"remote",columns:g.columns,totalRows:m.totalRows,rows:m.office_shifts,onOnPageChange:g.onPageChange,onOnPerPageChange:g.onPerPageChange,onOnSortChange:g.onSortChange,onOnSearch:g.onSearch,"search-options":{enabled:!0,placeholder:e.$t("Search_this_table")},"select-options":{enabled:!0,clearSelectionText:""},onOnSelectedRowsChange:g.selectionChanged,"pagination-options":{enabled:!0,mode:"records",nextLabel:"next",prevLabel:"prev"},styleClass:"table-hover tableOne vgt-table"},{default:(0,a.k6)((()=>[(0,a.Lk)("div",f,[(0,a.Lk)("button",{class:"btn btn-danger btn-sm",onClick:t[0]||(t[0]=e=>g.delete_by_selected())},(0,s.v_)(e.$t("Del")),1)]),(0,a.Lk)("div",n,[(0,a.bF)(F,{onClick:t[1]||(t[1]=e=>g.New_Office_Shift()),class:"btn-rounded",variant:"btn btn-primary btn-icon m-1"},{default:(0,a.k6)((()=>[_,(0,a.eW)(" "+(0,s.v_)(e.$t("Add")),1)])),_:1})]),(0,a.Lk)("template",u,["actions"==e.props.column.field?((0,a.uX)(),(0,a.CE)("span",h,[(0,a.bo)(((0,a.uX)(),(0,a.CE)("a",{onClick:t[2]||(t[2]=t=>g.Edit_Office_Shift(e.props.row)),class:"cursor-pointer",title:"Edit"},c)),[[B,void 0,void 0,{hover:!0}]]),(0,a.bo)(((0,a.uX)(),(0,a.CE)("a",{title:"Delete",class:"cursor-pointer",onClick:t[3]||(t[3]=t=>g.Remove_Office_Shift(e.props.row.id))},y)),[[B,void 0,void 0,{hover:!0}]])])):(0,a.Q3)("",!0)])])),_:1},8,["columns","totalRows","rows","onOnPageChange","onOnPerPageChange","onOnSortChange","onOnSearch","search-options","onOnSelectedRowsChange"])])),_:1})),(0,a.bF)(L,{ref:"Create_Office_Shift"},{default:(0,a.k6)((()=>[(0,a.bF)(E,{"hide-footer":"",size:"lg",id:"New_Office_Shift",title:m.editmode?e.$t("Edit"):e.$t("Add")},{default:(0,a.k6)((()=>[(0,a.bF)(U,{onSubmit:(0,o.D$)(g.Submit_Office_Shift,["prevent"])},{default:(0,a.k6)((()=>[(0,a.bF)(T,null,{default:(0,a.k6)((()=>[(0,a.bF)(P,{md:"6"},{default:(0,a.k6)((()=>[(0,a.bF)(O,{name:"Name",rules:{required:!0}},{default:(0,a.k6)((i=>[(0,a.bF)(V,{label:e.$t("Name")+" *"},{default:(0,a.k6)((()=>[(0,a.bF)(w,{placeholder:e.$t("Enter_Shift_name"),state:g.getValidationState(i),"aria-describedby":"Name-feedback",label:"Name",modelValue:m.office_shift.name,"onUpdate:modelValue":t[4]||(t[4]=e=>m.office_shift.name=e)},null,8,["placeholder","state","modelValue"]),(0,a.bF)(C,{id:"Name-feedback"},{default:(0,a.k6)((()=>[(0,a.eW)((0,s.v_)(i.errors[0]),1)])),_:2},1024)])),_:2},1032,["label"])])),_:1})])),_:1}),(0,a.bF)(P,{md:"6"},{default:(0,a.k6)((()=>[(0,a.bF)(O,{name:"Company",rules:{required:!0}},{default:(0,a.k6)((()=>[(0,a.bF)(V,{"slot-scope":"{ valid, errors }",label:e.$t("Company")+" *"},{default:(0,a.k6)((()=>[(0,a.bF)(x,{class:(0,s.C4)([{"is-invalid":!!e.errors.length},"required"]),state:!e.errors[0]&&(!!e.valid||null),modelValue:m.office_shift.company_id,"onUpdate:modelValue":t[5]||(t[5]=e=>m.office_shift.company_id=e),required:"",onInput:g.Selected_Company,placeholder:e.$t("Choose_Company"),reduce:e=>e.value,options:m.companies.map((e=>({label:e.name,value:e.id})))},null,8,["class","state","modelValue","onInput","placeholder","reduce","options"]),(0,a.bF)(C,null,{default:(0,a.k6)((()=>[(0,a.eW)((0,s.v_)(e.errors[0]),1)])),_:1})])),_:1},8,["label"])])),_:1})])),_:1}),(0,a.bF)(P,{md:"3"},{default:(0,a.k6)((()=>[(0,a.bF)(V,{label:e.$t("Monday_In")},{default:(0,a.k6)((()=>[(0,a.bF)(D,{modelValue:m.office_shift.monday_in,"onUpdate:modelValue":t[6]||(t[6]=e=>m.office_shift.monday_in=e),placeholder:e.$t("Monday_In"),name:"monday_in",id:"monday_in"},null,8,["modelValue","placeholder"])])),_:1},8,["label"])])),_:1}),(0,a.bF)(P,{md:"3"},{default:(0,a.k6)((()=>[(0,a.bF)(V,{label:e.$t("Monday_Out")},{default:(0,a.k6)((()=>[(0,a.bF)(D,{modelValue:m.office_shift.monday_out,"onUpdate:modelValue":t[7]||(t[7]=e=>m.office_shift.monday_out=e),placeholder:e.$t("Monday_Out")},null,8,["modelValue","placeholder"])])),_:1},8,["label"])])),_:1}),(0,a.bF)(P,{md:"3"},{default:(0,a.k6)((()=>[(0,a.bF)(V,{label:e.$t("Tuesday_In")},{default:(0,a.k6)((()=>[(0,a.bF)(D,{modelValue:m.office_shift.tuesday_in,"onUpdate:modelValue":t[8]||(t[8]=e=>m.office_shift.tuesday_in=e),placeholder:e.$t("Tuesday_In")},null,8,["modelValue","placeholder"])])),_:1},8,["label"])])),_:1}),(0,a.bF)(P,{md:"3"},{default:(0,a.k6)((()=>[(0,a.bF)(V,{label:e.$t("tuesday_out")},{default:(0,a.k6)((()=>[(0,a.bF)(D,{modelValue:m.office_shift.tuesday_out,"onUpdate:modelValue":t[9]||(t[9]=e=>m.office_shift.tuesday_out=e),placeholder:e.$t("tuesday_out")},null,8,["modelValue","placeholder"])])),_:1},8,["label"])])),_:1}),(0,a.bF)(P,{md:"3"},{default:(0,a.k6)((()=>[(0,a.bF)(V,{label:e.$t("wednesday_in")},{default:(0,a.k6)((()=>[(0,a.bF)(D,{modelValue:m.office_shift.wednesday_in,"onUpdate:modelValue":t[10]||(t[10]=e=>m.office_shift.wednesday_in=e),placeholder:e.$t("wednesday_in")},null,8,["modelValue","placeholder"])])),_:1},8,["label"])])),_:1}),(0,a.bF)(P,{md:"3"},{default:(0,a.k6)((()=>[(0,a.bF)(V,{label:e.$t("wednesday_out")},{default:(0,a.k6)((()=>[(0,a.bF)(D,{modelValue:m.office_shift.wednesday_out,"onUpdate:modelValue":t[11]||(t[11]=e=>m.office_shift.wednesday_out=e),placeholder:e.$t("wednesday_out")},null,8,["modelValue","placeholder"])])),_:1},8,["label"])])),_:1}),(0,a.bF)(P,{md:"3"},{default:(0,a.k6)((()=>[(0,a.bF)(V,{label:e.$t("thursday_in")},{default:(0,a.k6)((()=>[(0,a.bF)(D,{modelValue:m.office_shift.thursday_in,"onUpdate:modelValue":t[12]||(t[12]=e=>m.office_shift.thursday_in=e),placeholder:e.$t("thursday_in")},null,8,["modelValue","placeholder"])])),_:1},8,["label"])])),_:1}),(0,a.bF)(P,{md:"3"},{default:(0,a.k6)((()=>[(0,a.bF)(V,{label:e.$t("thursday_out")},{default:(0,a.k6)((()=>[(0,a.bF)(D,{modelValue:m.office_shift.thursday_out,"onUpdate:modelValue":t[13]||(t[13]=e=>m.office_shift.thursday_out=e),placeholder:e.$t("thursday_out")},null,8,["modelValue","placeholder"])])),_:1},8,["label"])])),_:1}),(0,a.bF)(P,{md:"3"},{default:(0,a.k6)((()=>[(0,a.bF)(V,{label:e.$t("friday_in")},{default:(0,a.k6)((()=>[(0,a.bF)(D,{modelValue:m.office_shift.friday_in,"onUpdate:modelValue":t[14]||(t[14]=e=>m.office_shift.friday_in=e),placeholder:e.$t("friday_in")},null,8,["modelValue","placeholder"])])),_:1},8,["label"])])),_:1}),(0,a.bF)(P,{md:"3"},{default:(0,a.k6)((()=>[(0,a.bF)(V,{label:e.$t("friday_out")},{default:(0,a.k6)((()=>[(0,a.bF)(D,{modelValue:m.office_shift.friday_out,"onUpdate:modelValue":t[15]||(t[15]=e=>m.office_shift.friday_out=e),placeholder:e.$t("friday_out")},null,8,["modelValue","placeholder"])])),_:1},8,["label"])])),_:1}),(0,a.bF)(P,{md:"3"},{default:(0,a.k6)((()=>[(0,a.bF)(V,{label:e.$t("saturday_in")},{default:(0,a.k6)((()=>[(0,a.bF)(D,{modelValue:m.office_shift.saturday_in,"onUpdate:modelValue":t[16]||(t[16]=e=>m.office_shift.saturday_in=e),placeholder:e.$t("saturday_in")},null,8,["modelValue","placeholder"])])),_:1},8,["label"])])),_:1}),(0,a.bF)(P,{md:"3"},{default:(0,a.k6)((()=>[(0,a.bF)(V,{label:e.$t("saturday_out")},{default:(0,a.k6)((()=>[(0,a.bF)(D,{modelValue:m.office_shift.saturday_out,"onUpdate:modelValue":t[17]||(t[17]=e=>m.office_shift.saturday_out=e),placeholder:e.$t("saturday_out")},null,8,["modelValue","placeholder"])])),_:1},8,["label"])])),_:1}),(0,a.bF)(P,{md:"3"},{default:(0,a.k6)((()=>[(0,a.bF)(V,{label:e.$t("sunday_in")},{default:(0,a.k6)((()=>[(0,a.bF)(D,{modelValue:m.office_shift.sunday_in,"onUpdate:modelValue":t[18]||(t[18]=e=>m.office_shift.sunday_in=e),placeholder:e.$t("sunday_in")},null,8,["modelValue","placeholder"])])),_:1},8,["label"])])),_:1}),(0,a.bF)(P,{md:"3"},{default:(0,a.k6)((()=>[(0,a.bF)(V,{label:e.$t("sunday_out")},{default:(0,a.k6)((()=>[(0,a.bF)(D,{modelValue:m.office_shift.sunday_out,"onUpdate:modelValue":t[19]||(t[19]=e=>m.office_shift.sunday_out=e),placeholder:e.$t("sunday_out")},null,8,["modelValue","placeholder"])])),_:1},8,["label"])])),_:1}),(0,a.bF)(P,{md:"12",class:"mt-3"},{default:(0,a.k6)((()=>[(0,a.bF)(F,{variant:"primary",type:"submit",disabled:m.SubmitProcessing},{default:(0,a.k6)((()=>[b,(0,a.eW)(" "+(0,s.v_)(e.$t("submit")),1)])),_:1},8,["disabled"]),t[20]||((0,a.Vq)(-1),t[20]=m.SubmitProcessing?((0,a.uX)(),(0,a.CE)("div",p,$)):(0,a.Q3)("",!0),(0,a.Vq)(1),t[20])])),_:1})])),_:1})])),_:1},8,["onSubmit"])])),_:1},8,["title"])])),_:1},512)])}var F=i(21227),v=i.n(F),S=i(5947),w=i.n(S);const C={metaInfo:{title:"Office Shift"},data(){return{isLoading:!0,SubmitProcessing:!1,serverParams:{columnFilters:{},sort:{field:"id",type:"desc"},page:1,perPage:10},selectedIds:[],totalRows:"",search:"",limit:"10",office_shifts:[],companies:[],editmode:!1,office_shift:{name:"",company_id:"",monday_in:"",monday_out:"",tuesday_in:"",tuesday_out:"",wednesday_in:"",wednesday_out:"",thursday_in:"",thursday_out:"",friday_in:"",friday_out:"",saturday_in:"",saturday_out:"",sunday_in:"",sunday_out:""}}},computed:{columns(){return[{label:this.$t("Name"),field:"name",tdClass:"text-left",thClass:"text-left"},{label:this.$t("Company"),field:"company_name",tdClass:"text-left",thClass:"text-left"},{label:this.$t("Action"),field:"actions",html:!0,tdClass:"text-right",thClass:"text-right",sortable:!1}]}},components:{VueClockPicker:v()},methods:{updateParams(e){this.serverParams=Object.assign({},this.serverParams,e)},onPageChange({currentPage:e}){this.serverParams.page!==e&&(this.updateParams({page:e}),this.Get_Office_Shift(e))},onPerPageChange({currentPerPage:e}){this.limit!==e&&(this.limit=e,this.updateParams({page:1,perPage:e}),this.Get_Office_Shift(1))},selectionChanged({selectedRows:e}){this.selectedIds=[],e.forEach(((e,t)=>{this.selectedIds.push(e.id)}))},onSortChange(e){let t="";t="company_name"==e[0].field?"company_id":e[0].field,this.updateParams({sort:{type:e[0].type,field:e[0].field}}),this.Get_Office_Shift(this.serverParams.page)},onSearch(e){this.search=e.searchTerm,this.Get_Office_Shift(this.serverParams.page)},getValidationState({dirty:e,validated:t,valid:i=null}){return e||t?i:null},Submit_Office_Shift(){this.$refs.Create_Office_Shift.validate().then((e=>{e?this.editmode?this.Update_Office_Shift():this.Create_Office_Shift():this.makeToast("danger",this.$t("Please_fill_the_form_correctly"),this.$t("Failed"))}))},makeToast(e,t,i){this.$root.$bvToast.toast(t,{title:i,variant:e,solid:!0})},New_Office_Shift(){this.reset_Form(),this.Get_Data_Create(),this.editmode=!1,this.$bvModal.show("New_Office_Shift")},Edit_Office_Shift(e){this.Get_Office_Shift(this.serverParams.page),this.reset_Form(),this.editmode=!0,this.Get_Data_Edit(e.id),this.office_shift=e,this.$bvModal.show("New_Office_Shift")},Get_Data_Create(){axios.get("/office_shift/create").then((e=>{this.companies=e.data.companies})).catch((e=>{}))},Get_Data_Edit(e){axios.get("/office_shift/"+e+"/edit").then((e=>{this.companies=e.data.companies})).catch((e=>{}))},Selected_Company(e){null===e&&(this.office_shift.company_id="")},Get_Office_Shift(e){w().start(),w().set(.1),axios.get("office_shift?page="+e+"&SortField="+this.serverParams.sort.field+"&SortType="+this.serverParams.sort.type+"&search="+this.search+"&limit="+this.limit).then((e=>{this.office_shifts=e.data.office_shifts,this.totalRows=e.data.totalRows,w().done(),this.isLoading=!1})).catch((e=>{w().done(),setTimeout((()=>{this.isLoading=!1}),500)}))},Create_Office_Shift(){this.SubmitProcessing=!0,axios.post("office_shift",{name:this.office_shift.name,company_id:this.office_shift.company_id,monday_in:this.office_shift.monday_in,monday_out:this.office_shift.monday_out,tuesday_in:this.office_shift.tuesday_in,tuesday_out:this.office_shift.tuesday_out,wednesday_in:this.office_shift.wednesday_in,wednesday_out:this.office_shift.wednesday_out,thursday_in:this.office_shift.thursday_in,thursday_out:this.office_shift.thursday_out,friday_in:this.office_shift.friday_in,friday_out:this.office_shift.friday_out,saturday_in:this.office_shift.saturday_in,saturday_out:this.office_shift.saturday_out,sunday_in:this.office_shift.sunday_in,sunday_out:this.office_shift.sunday_out}).then((e=>{this.SubmitProcessing=!1,Fire.$emit("Event_Office_Shift"),this.makeToast("success",this.$t("Created_in_successfully"),this.$t("Success"))})).catch((e=>{this.SubmitProcessing=!1,this.makeToast("danger",this.$t("InvalidData"),this.$t("Failed"))}))},Update_Office_Shift(){this.SubmitProcessing=!0,axios.put("office_shift/"+this.office_shift.id,{name:this.office_shift.name,company_id:this.office_shift.company_id,monday_in:this.office_shift.monday_in,monday_out:this.office_shift.monday_out,tuesday_in:this.office_shift.tuesday_in,tuesday_out:this.office_shift.tuesday_out,wednesday_in:this.office_shift.wednesday_in,wednesday_out:this.office_shift.wednesday_out,thursday_in:this.office_shift.thursday_in,thursday_out:this.office_shift.thursday_out,friday_in:this.office_shift.friday_in,friday_out:this.office_shift.friday_out,saturday_in:this.office_shift.saturday_in,saturday_out:this.office_shift.saturday_out,sunday_in:this.office_shift.sunday_in,sunday_out:this.office_shift.sunday_out}).then((e=>{this.SubmitProcessing=!1,Fire.$emit("Event_Office_Shift"),this.makeToast("success",this.$t("Updated_in_successfully"),this.$t("Success"))})).catch((e=>{this.SubmitProcessing=!1,this.makeToast("danger",this.$t("InvalidData"),this.$t("Failed"))}))},reset_Form(){this.office_shift={id:"",name:"",company_id:"",monday_in:"",monday_out:"",tuesday_in:"",tuesday_out:"",wednesday_in:"",wednesday_out:"",thursday_in:"",thursday_out:"",friday_in:"",friday_out:"",saturday_in:"",saturday_out:"",sunday_in:"",sunday_out:""}},Remove_Office_Shift(e){this.$swal({title:this.$t("Delete.Title"),text:this.$t("Delete.Text"),type:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",cancelButtonText:this.$t("Delete.cancelButtonText"),confirmButtonText:this.$t("Delete.confirmButtonText")}).then((t=>{t.value&&axios.delete("office_shift/"+e).then((()=>{this.$swal(this.$t("Delete.Deleted"),this.$t("Deleted_in_successfully"),"success"),Fire.$emit("Delete_Office_Shift")})).catch((()=>{this.$swal(this.$t("Delete.Failed"),this.$t("Delete.Therewassomethingwronge"),"warning")}))}))},delete_by_selected(){this.$swal({title:this.$t("Delete.Title"),text:this.$t("Delete.Text"),type:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",cancelButtonText:this.$t("Delete.cancelButtonText"),confirmButtonText:this.$t("Delete.confirmButtonText")}).then((e=>{e.value&&(w().start(),w().set(.1),axios.post("office_shift/delete/by_selection",{selectedIds:this.selectedIds}).then((()=>{this.$swal(this.$t("Delete.Deleted"),this.$t("Deleted_in_successfully"),"success"),Fire.$emit("Delete_Office_Shift")})).catch((()=>{setTimeout((()=>w().done()),500),this.$swal(this.$t("Delete.Failed"),this.$t("Delete.Therewassomethingwronge"),"warning")})))}))}},created:function(){this.Get_Office_Shift(1),Fire.$on("Event_Office_Shift",(()=>{setTimeout((()=>{this.Get_Office_Shift(this.serverParams.page),this.$bvModal.hide("New_Office_Shift")}),500)})),Fire.$on("Delete_Office_Shift",(()=>{setTimeout((()=>{this.Get_Office_Shift(this.serverParams.page)}),500)}))}};var V=i(66262);const O=(0,V.A)(C,[["render",k]]),P=O}}]);
//# sourceMappingURL=office_shift.c0e9e0b7.js.map