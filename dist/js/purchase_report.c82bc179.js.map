{"version":3,"file":"js/purchase_report.c82bc179.js","mappings":"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","sources":["webpack:///./src/views/app/pages/reports/purchase_report.vue","webpack:///./src/views/app/pages/reports/purchase_report.vue?bbaf"],"sourcesContent":["<template>\r\n  <div class=\"main-content\">\r\n    <breadcumb :page=\"$t('PurchasesReport')\" :folder=\"$t('Reports')\"/>\r\n\r\n    <div v-if=\"isLoading\" class=\"loading_page spinner spinner-primary mr-3\"></div>\r\n\r\n     <b-col md=\"12\" class=\"text-center\" v-if=\"!isLoading\">\r\n        <date-range-picker \r\n          v-model=\"dateRange\" \r\n          :startDate=\"startDate\" \r\n          :endDate=\"endDate\" \r\n           @update=\"Submit_filter_dateRange\"\r\n          :locale-data=\"locale\" > \r\n\r\n          <template v-slot:input=\"picker\" style=\"min-width: 350px;\">\r\n              {{ picker.startDate.toJSON().slice(0, 10)}} - {{ picker.endDate.toJSON().slice(0, 10)}}\r\n          </template>        \r\n        </date-range-picker>\r\n      </b-col>\r\n\r\n    <b-card class=\"wrapper\" v-if=\"!isLoading\">\r\n      <vue-good-table\r\n        mode=\"remote\"\r\n        :columns=\"columns\"\r\n        :totalRows=\"totalRows\"\r\n        :rows=\"rows\"\r\n        :group-options=\"{\r\n          enabled: true,\r\n          headerPosition: 'bottom',\r\n        }\"\r\n        @on-page-change=\"onPageChange\"\r\n        @on-per-page-change=\"onPerPageChange\"\r\n        @on-sort-change=\"onSortChange\"\r\n        @on-search=\"onSearch\"\r\n        :search-options=\"{\r\n        placeholder: $t('Search_this_table'),\r\n        enabled: true,\r\n      }\"\r\n        :pagination-options=\"{\r\n        enabled: true,\r\n        mode: 'records',\r\n        nextLabel: 'next',\r\n        prevLabel: 'prev',\r\n      }\"\r\n        :styleClass=\"'order-table vgt-table'\"\r\n      >\r\n        <div slot=\"table-actions\" class=\"mt-2 mb-3\">\r\n          <b-button variant=\"outline-info ripple m-1\" size=\"sm\" v-b-toggle.sidebar-right>\r\n            <i class=\"i-Filter-2\"></i>\r\n            {{ $t(\"Filter\") }}\r\n          </b-button>\r\n          <b-button @click=\"Purchase_PDF()\" size=\"sm\" variant=\"outline-success ripple m-1\">\r\n            <i class=\"i-File-Copy\"></i> PDF\r\n          </b-button>\r\n          <vue-excel-xlsx\r\n              class=\"btn btn-sm btn-outline-danger ripple m-1\"\r\n              :data=\"purchases\"\r\n              :columns=\"columns\"\r\n              :file-name=\"'purchases_report'\"\r\n              :file-type=\"'xlsx'\"\r\n              :sheet-name=\"'purchases_report'\"\r\n              >\r\n              <i class=\"i-File-Excel\"></i> EXCEL\r\n          </vue-excel-xlsx>\r\n        </div>\r\n\r\n        <template slot=\"table-row\" slot-scope=\"props\">\r\n          <div v-if=\"props.column.field == 'statut'\">\r\n            <span\r\n              v-if=\"props.row.statut == 'received'\"\r\n              class=\"badge badge-outline-success\"\r\n            >{{$t('Received')}}</span>\r\n            <span\r\n              v-else-if=\"props.row.statut == 'pending'\"\r\n              class=\"badge badge-outline-info\"\r\n            >{{$t('Pending')}}</span>\r\n            <span v-else class=\"badge badge-outline-warning\">{{$t('Ordered')}}</span>\r\n          </div>\r\n\r\n          <div v-else-if=\"props.column.field == 'payment_status'\">\r\n            <span\r\n              v-if=\"props.row.payment_status == 'paid'\"\r\n              class=\"badge badge-outline-success\"\r\n            >{{$t('Paid')}}</span>\r\n            <span\r\n              v-else-if=\"props.row.payment_status == 'partial'\"\r\n              class=\"badge badge-outline-primary\"\r\n            >{{$t('partial')}}</span>\r\n            <span v-else class=\"badge badge-outline-warning\">{{$t('Unpaid')}}</span>\r\n          </div>\r\n        </template>\r\n      </vue-good-table>\r\n    </b-card>\r\n\r\n    <!-- Sidebar Filter -->\r\n    <b-sidebar id=\"sidebar-right\" :title=\"$t('Filter')\" bg-variant=\"white\" right shadow>\r\n      <div class=\"px-3 py-2\">\r\n        <b-row>\r\n          <!-- Reference -->\r\n          <b-col md=\"12\">\r\n            <b-form-group :label=\"$t('Reference')\">\r\n              <b-form-input label=\"Reference\" :placeholder=\"$t('Reference')\" v-model=\"Filter_Ref\"></b-form-input>\r\n            </b-form-group>\r\n          </b-col>\r\n\r\n          <!-- Supplier  -->\r\n          <b-col md=\"12\">\r\n            <b-form-group :label=\"$t('Supplier')\">\r\n              <v-select\r\n                :reduce=\"label => label.value\"\r\n                :placeholder=\"$t('Choose_Supplier')\"\r\n                v-model=\"Filter_Supplier\"\r\n                :options=\"suppliers.map(suppliers => ({label: suppliers.name, value: suppliers.id}))\"\r\n              />\r\n            </b-form-group>\r\n          </b-col>\r\n\r\n           <!-- warehouse -->\r\n          <b-col md=\"12\">\r\n            <b-form-group :label=\"$t('warehouse')\">\r\n              <v-select\r\n                v-model=\"Filter_warehouse\"\r\n                :reduce=\"label => label.value\"\r\n                :placeholder=\"$t('Choose_Warehouse')\"\r\n                :options=\"warehouses.map(warehouses => ({label: warehouses.name, value: warehouses.id}))\"\r\n              />\r\n            </b-form-group>\r\n          </b-col>\r\n\r\n          <!-- Status  -->\r\n          <b-col md=\"12\">\r\n            <b-form-group :label=\"$t('Status')\">\r\n              <select v-model=\"Filter_status\" type=\"text\" class=\"form-control\">\r\n                <option value selected>All</option>\r\n                <option value=\"received\">Received</option>\r\n                <option value=\"pending\">Pending</option>\r\n                <option value=\"ordered\">Ordered</option>\r\n              </select>\r\n            </b-form-group>\r\n          </b-col>\r\n\r\n          <!-- Payment Status  -->\r\n          <b-col md=\"12\">\r\n            <b-form-group :label=\"$t('PaymentStatus')\">\r\n              <select v-model=\"Filter_Payment\" type=\"text\" class=\"form-control\">\r\n                <option value selected>All</option>\r\n                <option value=\"paid\">Paid</option>\r\n                <option value=\"partial\">partial</option>\r\n                <option value=\"unpaid\">UnPaid</option>\r\n              </select>\r\n            </b-form-group>\r\n          </b-col>\r\n\r\n          <b-col md=\"6\" sm=\"12\">\r\n            <b-button\r\n              @click=\"Get_Purchases(serverParams.page)\"\r\n              variant=\"primary ripple m-1\"\r\n              size=\"sm\"\r\n              block\r\n            >\r\n              <i class=\"i-Filter-2\"></i>\r\n              {{ $t(\"Filter\") }}\r\n            </b-button>\r\n          </b-col>\r\n          <b-col md=\"6\" sm=\"12\">\r\n            <b-button @click=\"Reset_Filter()\" variant=\"danger ripple m-1\" size=\"sm\" block>\r\n              <i class=\"i-Power-2\"></i>\r\n              {{ $t(\"Reset\") }}\r\n            </b-button>\r\n          </b-col>\r\n        </b-row>\r\n      </div>\r\n    </b-sidebar>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport NProgress from \"nprogress\";\r\nimport jsPDF from \"jspdf\";\r\nimport \"jspdf-autotable\";\r\nimport DateRangePicker from 'vue2-daterange-picker'\r\n//you need to import the CSS manually\r\nimport 'vue2-daterange-picker/dist/vue2-daterange-picker.css'\r\nimport moment from 'moment'\r\n\r\nexport default {\r\n  metaInfo: {\r\n    title: \"Report Purchases\"\r\n  },\r\ncomponents: { DateRangePicker },\r\n  data() {\r\n    return {\r\n      isLoading: true,\r\n      serverParams: {\r\n        sort: {\r\n          field: \"id\",\r\n          type: \"desc\"\r\n        },\r\n        page: 1,\r\n        perPage: 10\r\n      },\r\n      limit: \"10\",\r\n      search: \"\",\r\n      totalRows: \"\",\r\n      Filter_Supplier: \"\",\r\n      Filter_status: \"\",\r\n      Filter_warehouse: \"\",\r\n      Filter_Payment: \"\",\r\n      Filter_Ref: \"\",\r\n      suppliers: [],\r\n      purchases: [],\r\n      warehouses: [],\r\n      rows: [{\r\n          statut: 'Total',\r\n         \r\n          children: [\r\n             \r\n          ],\r\n      },],\r\n      today_mode: true,\r\n      startDate: \"\", \r\n      endDate: \"\", \r\n      dateRange: { \r\n       startDate: \"\", \r\n       endDate: \"\" \r\n      }, \r\n      locale:{ \r\n          //separator between the two ranges apply\r\n          Label: \"Apply\", \r\n          cancelLabel: \"Cancel\", \r\n          weekLabel: \"W\", \r\n          customRangeLabel: \"Custom Range\", \r\n          daysOfWeek: moment.weekdaysMin(), \r\n          //array of days - see moment documenations for details \r\n          monthNames: moment.monthsShort(), //array of month names - see moment documenations for details \r\n          firstDay: 1 //ISO first day of week - see moment documenations for details\r\n        },\r\n    };\r\n  },\r\n\r\n  computed: {\r\n    columns() {\r\n      return [\r\n        {\r\n          label: this.$t(\"date\"),\r\n          field: \"date\",\r\n          tdClass: \"text-left\",\r\n          thClass: \"text-left\"\r\n        },\r\n        {\r\n          label: this.$t(\"Reference\"),\r\n          field: \"Ref\",\r\n          tdClass: \"text-left\",\r\n          thClass: \"text-left\"\r\n        },\r\n        {\r\n          label: this.$t(\"Supplier\"),\r\n          field: \"provider_name\",\r\n          tdClass: \"text-left\",\r\n          thClass: \"text-left\"\r\n        },\r\n        {\r\n          label: this.$t(\"warehouse\"),\r\n          field: \"warehouse_name\",\r\n          tdClass: \"text-left\",\r\n          thClass: \"text-left\"\r\n        },\r\n        {\r\n          label: this.$t(\"Status\"),\r\n          field: \"statut\",\r\n          html: true,\r\n          tdClass: \"text-left\",\r\n          thClass: \"text-left\"\r\n        },\r\n        {\r\n          label: this.$t(\"Total\"),\r\n          field: \"GrandTotal\",\r\n          type: \"decimal\",\r\n          headerField: this.sumCount,\r\n          tdClass: \"text-left\",\r\n          thClass: \"text-left\"\r\n        },\r\n        {\r\n          label: this.$t(\"Paid\"),\r\n          field: \"paid_amount\",\r\n          type: \"decimal\",\r\n          headerField: this.sumCount2,\r\n          tdClass: \"text-left\",\r\n          thClass: \"text-left\"\r\n        },\r\n        {\r\n          label: this.$t(\"Due\"),\r\n          field: \"due\",\r\n          type: \"decimal\",\r\n          headerField: this.sumCount3,\r\n          tdClass: \"text-left\",\r\n          thClass: \"text-left\"\r\n        },\r\n        {\r\n          label: this.$t(\"PaymentStatus\"),\r\n          field: \"payment_status\",\r\n          html: true,\r\n          tdClass: \"text-left\",\r\n          thClass: \"text-left\"\r\n        }\r\n      ];\r\n    }\r\n  },\r\n\r\n  methods: {\r\n\r\n    sumCount(rowObj) {\r\n     \r\n    \tlet sum = 0;\r\n      for (let i = 0; i < rowObj.children.length; i++) {\r\n        sum += rowObj.children[i].GrandTotal;\r\n      }\r\n      return sum;\r\n    },\r\n    sumCount2(rowObj) {\r\n     \r\n    \tlet sum = 0;\r\n      for (let i = 0; i < rowObj.children.length; i++) {\r\n        sum += rowObj.children[i].paid_amount;\r\n      }\r\n      return sum;\r\n    },\r\n    sumCount3(rowObj) {\r\n     \r\n    \tlet sum = 0;\r\n      for (let i = 0; i < rowObj.children.length; i++) {\r\n        sum += rowObj.children[i].due;\r\n      }\r\n      return sum;\r\n    },\r\n    \r\n    //---- update Params Table\r\n    updateParams(newProps) {\r\n      this.serverParams = Object.assign({}, this.serverParams, newProps);\r\n    },\r\n\r\n    //---- Event Page Change\r\n    onPageChange({ currentPage }) {\r\n      if (this.serverParams.page !== currentPage) {\r\n        this.updateParams({ page: currentPage });\r\n        this.Get_Purchases(currentPage);\r\n      }\r\n    },\r\n\r\n    //---- Event Per Page Change\r\n    onPerPageChange({ currentPerPage }) {\r\n      if (this.limit !== currentPerPage) {\r\n        this.limit = currentPerPage;\r\n        this.updateParams({ page: 1, perPage: currentPerPage });\r\n        this.Get_Purchases(1);\r\n      }\r\n    },\r\n\r\n    //---- Event on Sort Change\r\n    onSortChange(params) {\r\n      let field = \"\";\r\n      if (params[0].field == \"provider_name\") {\r\n        field = \"provider_id\";\r\n      } else {\r\n        field = params[0].field;\r\n      }\r\n      this.updateParams({\r\n        sort: {\r\n          type: params[0].type,\r\n          field: field\r\n        }\r\n      });\r\n      this.Get_Purchases(this.serverParams.page);\r\n    },\r\n\r\n    //---- Event on Search\r\n\r\n    onSearch(value) {\r\n      this.search = value.searchTerm;\r\n      this.Get_Purchases(this.serverParams.page);\r\n    },\r\n\r\n    //------ Reset Filter\r\n    Reset_Filter() {\r\n      this.search = \"\";\r\n      this.Filter_Supplier = \"\";\r\n      this.Filter_status = \"\";\r\n      this.Filter_Payment = \"\";\r\n      this.Filter_Ref = \"\";\r\n      this.Filter_warehouse = \"\";\r\n      this.Get_Purchases(this.serverParams.page);\r\n    },\r\n\r\n    //---------------------- Purchases PDF -------------------------------\\\\\r\n    Purchase_PDF() {\r\n      var self = this;\r\n\r\n      let pdf = new jsPDF(\"p\", \"pt\");\r\n      let columns = [\r\n        { title: \"Ref\", dataKey: \"Ref\" },\r\n        { title: \"Provider\", dataKey: \"provider_name\" },\r\n        { title: \"Warehouse\", dataKey: \"warehouse_name\" },\r\n        { title: \"Status\", dataKey: \"statut\" },\r\n        { title: \"Total\", dataKey: \"GrandTotal\" },\r\n        { title: \"Paid\", dataKey: \"paid_amount\" },\r\n        { title: \"Due\", dataKey: \"due\" },\r\n        { title: \"Status Payment\", dataKey: \"payment_status\" }\r\n      ];\r\n      pdf.autoTable(columns, self.purchases);\r\n      pdf.text(\"Purchase report\", 40, 25);\r\n      pdf.save(\"Purchase_report.pdf\");\r\n    },\r\n\r\n    //---------------------------------------- Set To Strings-------------------------\\\\\r\n    setToStrings() {\r\n      // Simply replaces null values with strings=''\r\n      if (this.Filter_Supplier === null) {\r\n        this.Filter_Supplier = \"\";\r\n      }else if (this.Filter_warehouse === null) {\r\n        this.Filter_warehouse = \"\";\r\n      }\r\n    },\r\n\r\n    //----------------------------- Submit Date Picker -------------------\\\\\r\n    Submit_filter_dateRange() {\r\n      var self = this;\r\n      self.startDate =  self.dateRange.startDate.toJSON().slice(0, 10);\r\n      self.endDate = self.dateRange.endDate.toJSON().slice(0, 10);\r\n      self.Get_Purchases(1);\r\n    },\r\n\r\n\r\n    get_data_loaded() {\r\n      var self = this;\r\n      if (self.today_mode) {\r\n        let today = new Date()\r\n\r\n        self.startDate = today.getFullYear();\r\n        self.endDate = new Date().toJSON().slice(0, 10);\r\n\r\n        self.dateRange.startDate = today.getFullYear();\r\n        self.dateRange.endDate = new Date().toJSON().slice(0, 10);\r\n        \r\n      }\r\n    },\r\n\r\n\r\n    //------------------------------------------------ Get Report Purchases -------------------------------\\\\\r\n    Get_Purchases(page) {\r\n      // Start the progress bar.\r\n      NProgress.start();\r\n      NProgress.set(0.1);\r\n      this.setToStrings();\r\n      this.get_data_loaded();\r\n\r\n      axios\r\n        .get(\r\n          \"/report/purchases?page=\" +\r\n            page +\r\n            \"&Ref=\" +\r\n            this.Filter_Ref +\r\n            \"&provider_id=\" +\r\n            this.Filter_Supplier +\r\n             \"&warehouse_id=\" +\r\n            this.Filter_warehouse +\r\n            \"&statut=\" +\r\n            this.Filter_status +\r\n            \"&payment_statut=\" +\r\n            this.Filter_Payment +\r\n            \"&SortField=\" +\r\n            this.serverParams.sort.field +\r\n            \"&SortType=\" +\r\n            this.serverParams.sort.type +\r\n            \"&search=\" +\r\n            this.search +\r\n            \"&limit=\" +\r\n            this.limit +\r\n            \"&to=\" +\r\n            this.endDate +\r\n            \"&from=\" +\r\n            this.startDate\r\n\r\n        )\r\n        .then(response => {\r\n          this.purchases = response.data.purchases;\r\n          this.suppliers = response.data.suppliers;\r\n          this.warehouses = response.data.warehouses;\r\n          this.totalRows = response.data.totalRows;\r\n          this.rows[0].children = this.purchases;\r\n          // Complete the animation of theprogress bar.\r\n          NProgress.done();\r\n          this.isLoading = false;\r\n          this.today_mode = false;\r\n        })\r\n        .catch(response => {\r\n          // Complete the animation of theprogress bar.\r\n          NProgress.done();\r\n          setTimeout(() => {\r\n            this.isLoading = false;\r\n            this.today_mode = false;\r\n          }, 500);\r\n        });\r\n    },\r\n\r\n    //------------------------------Formetted Numbers -------------------------\\\\\r\n    formatNumber(number, dec) {\r\n      const value = (typeof number === \"string\"\r\n        ? number\r\n        : number.toString()\r\n      ).split(\".\");\r\n      if (dec <= 0) return value[0];\r\n      let formated = value[1] || \"\";\r\n      if (formated.length > dec)\r\n        return `${value[0]}.${formated.substr(0, dec)}`;\r\n      while (formated.length < dec) formated += \"0\";\r\n      return `${value[0]}.${formated}`;\r\n    }\r\n  },\r\n\r\n  //-----------------------------Created function-------------------\r\n  created: function() {\r\n    this.Get_Purchases(1);\r\n  }\r\n};\r\n</script>","import { render } from \"./purchase_report.vue?vue&type=template&id=75e96364\"\nimport script from \"./purchase_report.vue?vue&type=script&lang=js\"\nexport * from \"./purchase_report.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","slot","value","selected","page","$t","folder","isLoading","md","dateRange","startDate","endDate","Submit_filter_dateRange","locale","input","picker","toJSON","slice","mode","columns","totalRows","rows","onPageChange","onPerPageChange","onSortChange","onSearch","styleClass","variant","size","Purchase_PDF","data","purchases","props","column","field","row","statut","payment_status","id","title","right","shadow","label","placeholder","Filter_Ref","reduce","Filter_Supplier","options","suppliers","map","name","Filter_warehouse","warehouses","type","Filter_status","Filter_Payment","sm","Get_Purchases","serverParams","block","Reset_Filter","metaInfo","components","DateRangePicker","sort","perPage","limit","search","children","today_mode","Label","cancelLabel","weekLabel","customRangeLabel","daysOfWeek","monthNames","firstDay","computed","this","tdClass","thClass","html","headerField","sumCount","sumCount2","sumCount3","methods","rowObj","sum","i","length","GrandTotal","paid_amount","due","updateParams","newProps","Object","assign","currentPage","currentPerPage","params","searchTerm","self","pdf","dataKey","autoTable","text","save","setToStrings","get_data_loaded","today","Date","getFullYear","axios","get","then","response","catch","setTimeout","formatNumber","number","dec","toString","split","formated","substr","created","__exports__","render"],"sourceRoot":""}