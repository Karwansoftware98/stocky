{"version":3,"file":"js/detail_sale.df1b2c3a.js","mappings":"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","sources":["webpack:///./src/views/app/pages/sales/detail_sale.vue","webpack:///./src/views/app/pages/sales/detail_sale.vue?6ea6"],"sourcesContent":["<template>\r\n  <div class=\"main-content\">\r\n    <breadcumb :page=\"$t('SaleDetail')\" :folder=\"$t('Sales')\"/>\r\n    <div v-if=\"isLoading\" class=\"loading_page spinner spinner-primary mr-3\"></div>\r\n\r\n    <b-card v-if=\"!isLoading\">\r\n      <b-row>\r\n        <b-col md=\"12\" class=\"mb-5\">\r\n\r\n          <router-link\r\n            v-if=\"currentUserPermissions && currentUserPermissions.includes('Sales_edit') && sale.sale_has_return == 'no'\"\r\n            title=\"Edit\"\r\n            class=\"btn btn-success btn-icon ripple btn-sm\"\r\n            :to=\"{ name:'edit_sale', params: { id: $route.params.id } }\"\r\n          >\r\n            <i class=\"i-Edit\"></i>\r\n            <span>{{$t('EditSale')}}</span>\r\n          </router-link>\r\n\r\n          <button @click=\"Send_Email()\" class=\"btn btn-info btn-icon ripple btn-sm\">\r\n            <i class=\"i-Envelope-2\"></i>\r\n            {{$t('Email')}}\r\n          </button>\r\n           <button @click=\"Sale_SMS()\" class=\"btn btn-secondary btn-icon ripple btn-sm\">\r\n            <i class=\"i-Speach-Bubble\"></i>\r\n            SMS\r\n          </button>\r\n          <button @click=\"Sale_PDF()\" class=\"btn btn-primary btn-icon ripple btn-sm\">\r\n            <i class=\"i-File-TXT\"></i>\r\n            PDF\r\n          </button>\r\n          <button @click=\"print()\" class=\"btn btn-warning btn-icon ripple btn-sm\">\r\n            <i class=\"i-Billing\"></i>\r\n            {{$t('print')}}\r\n          </button>\r\n          <button\r\n            v-if=\"currentUserPermissions && currentUserPermissions.includes('Sales_delete') && sale.sale_has_return == 'no'\"\r\n            @click=\"Delete_Sale()\"\r\n            class=\"btn btn-danger btn-icon ripple btn-sm\"\r\n          >\r\n            <i class=\"i-Close-Window\"></i>\r\n            {{$t('Del')}}\r\n          </button>\r\n        </b-col>\r\n      </b-row>\r\n      <div class=\"invoice\" id=\"print_Invoice\">\r\n        <div class=\"invoice-print\">\r\n          <b-row class=\"justify-content-md-center\">\r\n            <h4 class=\"font-weight-bold\">{{$t('SaleDetail')}} : {{sale.Ref}}</h4>\r\n          </b-row>\r\n          <hr>\r\n          <b-row class=\"mt-5\">\r\n            <b-col lg=\"4\" md=\"4\" sm=\"12\" class=\"mb-4\">\r\n              <h5 class=\"font-weight-bold\">{{$t('Customer_Info')}}</h5>\r\n              <div>{{sale.client_name}}</div>\r\n              <div>{{sale.client_email}}</div>\r\n              <div>{{sale.client_phone}}</div>\r\n              <div>{{sale.client_adr}}</div>\r\n            </b-col>\r\n            <b-col lg=\"4\" md=\"4\" sm=\"12\" class=\"mb-4\">\r\n              <h5 class=\"font-weight-bold\">{{$t('Company_Info')}}</h5>\r\n              <div>{{company.CompanyName}}</div>\r\n              <div>{{company.email}}</div>\r\n              <div>{{company.CompanyPhone}}</div>\r\n              <div>{{company.CompanyAdress}}</div>\r\n            </b-col>\r\n            <b-col lg=\"4\" md=\"4\" sm=\"12\" class=\"mb-4\">\r\n              <h5 class=\"font-weight-bold\">{{$t('Invoice_Info')}}</h5>\r\n              <div>{{$t('Reference')}} : {{sale.Ref}}</div>\r\n              <div>\r\n                {{$t('PaymentStatus')}} :\r\n                <span\r\n                  v-if=\"sale.payment_status == 'paid'\"\r\n                  class=\"badge badge-outline-success\"\r\n                >{{$t('Paid')}}</span>\r\n                <span\r\n                  v-else-if=\"sale.payment_status == 'partial'\"\r\n                  class=\"badge badge-outline-primary\"\r\n                >{{$t('partial')}}</span>\r\n                <span v-else class=\"badge badge-outline-warning\">{{$t('Unpaid')}}</span>\r\n              </div>\r\n              <div>{{$t('warehouse')}} : {{sale.warehouse}}</div>\r\n              <div>\r\n                {{$t('Status')}} :\r\n                <span\r\n                  v-if=\"sale.statut == 'completed'\"\r\n                  class=\"badge badge-outline-success\"\r\n                >{{$t('complete')}}</span>\r\n                <span\r\n                  v-else-if=\"sale.statut == 'pending'\"\r\n                  class=\"badge badge-outline-info\"\r\n                >{{$t('Pending')}}</span>\r\n                <span v-else class=\"badge badge-outline-warning\">{{$t('Ordered')}}</span>\r\n              </div>\r\n            </b-col>\r\n          </b-row>\r\n          <b-row class=\"mt-3\">\r\n            <b-col md=\"12\">\r\n              <h5 class=\"font-weight-bold\">{{$t('Order_Summary')}}</h5>\r\n              <div class=\"table-responsive\">\r\n                <table class=\"table table-hover table-md\">\r\n                  <thead class=\"bg-gray-300\">\r\n                    <tr>\r\n                      <th scope=\"col\">{{$t('ProductName')}}</th>\r\n                      <th scope=\"col\">{{$t('Net_Unit_Price')}}</th>\r\n                      <th scope=\"col\">{{$t('Quantity')}}</th>\r\n                      <th scope=\"col\">{{$t('UnitPrice')}}</th>\r\n                      <th scope=\"col\">{{$t('Discount')}}</th>\r\n                      <th scope=\"col\">{{$t('Tax')}}</th>\r\n                      <th scope=\"col\">{{$t('SubTotal')}}</th>\r\n                    </tr>\r\n                  </thead>\r\n                  <tbody>\r\n                    <tr v-for=\"detail in details\">\r\n                      <td><span>{{detail.code}} ({{detail.name}})</span>\r\n                        <p v-show=\"detail.is_imei && detail.imei_number !==null \">{{$t('IMEI_SN')}} : {{detail.imei_number}}</p>\r\n                      </td>\r\n                      <td>{{currentUser.currency}} {{formatNumber(detail.Net_price,3)}}</td>\r\n                      <td>{{formatNumber(detail.quantity,2)}} {{detail.unit_sale}}</td>\r\n                      <td>{{currentUser.currency}} {{formatNumber(detail.price,2)}}</td>\r\n                      <td>{{currentUser.currency}} {{formatNumber(detail.DiscountNet,2)}}</td>\r\n                      <td>{{currentUser.currency}} {{formatNumber(detail.taxe,2)}}</td>\r\n                      <td>{{currentUser.currency}} {{detail.total.toFixed(2)}}</td>\r\n                    </tr>\r\n                  </tbody>\r\n                </table>\r\n              </div>\r\n            </b-col>\r\n            <div class=\"offset-md-9 col-md-3 mt-4\">\r\n              <table class=\"table table-striped table-sm\">\r\n                <tbody>\r\n                  <tr>\r\n                    <td>{{$t('OrderTax')}}</td>\r\n                    <td>\r\n                      <span>{{currentUser.currency}} {{sale.TaxNet.toFixed(2)}} ({{formatNumber(sale.tax_rate,2)}} %)</span>\r\n                    </td>\r\n                  </tr>\r\n                  <tr>\r\n                    <td>{{$t('Discount')}}</td>\r\n                    <td>{{currentUser.currency}} {{sale.discount.toFixed(2)}}</td>\r\n                  </tr>\r\n                  <tr>\r\n                    <td>{{$t('Shipping')}}</td>\r\n                    <td>{{currentUser.currency}} {{sale.shipping.toFixed(2)}}</td>\r\n                  </tr>\r\n                  <tr>\r\n                    <td>\r\n                      <span class=\"font-weight-bold\">{{$t('Total')}}</span>\r\n                    </td>\r\n                    <td>\r\n                      <span\r\n                        class=\"font-weight-bold\"\r\n                      >{{currentUser.currency}} {{sale.GrandTotal}}</span>\r\n                    </td>\r\n                  </tr>\r\n                  <tr>\r\n                    <td>\r\n                      <span class=\"font-weight-bold\">{{$t('Paid')}}</span>\r\n                    </td>\r\n                    <td>\r\n                      <span\r\n                        class=\"font-weight-bold\"\r\n                      >{{currentUser.currency}} {{sale.paid_amount}}</span>\r\n                    </td>\r\n                  </tr>\r\n                  <tr>\r\n                    <td>\r\n                      <span class=\"font-weight-bold\">{{$t('Due')}}</span>\r\n                    </td>\r\n                    <td>\r\n                      <span\r\n                        class=\"font-weight-bold\"\r\n                      >{{currentUser.currency}} {{sale.due}}</span>\r\n                    </td>\r\n                  </tr>\r\n                </tbody>\r\n              </table>\r\n            </div>\r\n          </b-row>\r\n          <hr v-show=\"sale.note\">\r\n          <b-row class=\"mt-4\">\r\n           <b-col md=\"12\">\r\n             <p>{{$t('sale_note')}} : {{sale.note}}</p>\r\n           </b-col>\r\n        </b-row>\r\n        </div>\r\n      </div>\r\n    </b-card>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n\r\nimport { mapActions, mapGetters } from \"vuex\";\r\nimport NProgress from \"nprogress\";\r\n\r\nexport default {\r\n  computed: mapGetters([\"currentUserPermissions\", \"currentUser\"]),\r\n  metaInfo: {\r\n    title: \"Detail Sale\"\r\n  },\r\n\r\n  data() {\r\n    return {\r\n      isLoading: true,\r\n      sale: {},\r\n      details: [],\r\n      variants: [],\r\n      company: {},\r\n      email: {\r\n        to: \"\",\r\n        subject: \"\",\r\n        message: \"\",\r\n        client_name: \"\",\r\n        Sale_Ref: \"\"\r\n      }\r\n    };\r\n  },\r\n\r\n  methods: {\r\n   \r\n\r\n    //----------------------------------- Invoice Sale PDF  -------------------------\\\\\r\n    Sale_PDF() {\r\n      // Start the progress bar.\r\n      NProgress.start();\r\n      NProgress.set(0.1);\r\n      let id = this.$route.params.id;\r\n     \r\n       axios\r\n        .get(`sale_pdf/${id}`, {\r\n          responseType: \"blob\", // important\r\n          headers: {\r\n            \"Content-Type\": \"application/json\"\r\n          }\r\n        })\r\n        .then(response => {\r\n          const url = window.URL.createObjectURL(new Blob([response.data]));\r\n          const link = document.createElement(\"a\");\r\n          link.href = url;\r\n          link.setAttribute(\"download\", \"Sale_\" + this.sale.Ref + \".pdf\");\r\n          document.body.appendChild(link);\r\n          link.click();\r\n          // Complete the animation of the  progress bar.\r\n          setTimeout(() => NProgress.done(), 500);\r\n        })\r\n        .catch(() => {\r\n          // Complete the animation of the  progress bar.\r\n          setTimeout(() => NProgress.done(), 500);\r\n        });\r\n    },\r\n\r\n     //------ Toast\r\n    makeToast(variant, msg, title) {\r\n      this.$root.$bvToast.toast(msg, {\r\n        title: title,\r\n        variant: variant,\r\n        solid: true\r\n      });\r\n    },\r\n\r\n    //------------------------------Formetted Numbers -------------------------\\\\\r\n    formatNumber(number, dec) {\r\n      const value = (typeof number === \"string\"\r\n        ? number\r\n        : number.toString()\r\n      ).split(\".\");\r\n      if (dec <= 0) return value[0];\r\n      let formated = value[1] || \"\";\r\n      if (formated.length > dec)\r\n        return `${value[0]}.${formated.substr(0, dec)}`;\r\n      while (formated.length < dec) formated += \"0\";\r\n      return `${value[0]}.${formated}`;\r\n    },\r\n\r\n    //------------------------------ Print -------------------------\\\\\r\n    print() {\r\n      this.$htmlToPaper('print_Invoice');\r\n    },\r\n\r\n\r\n    Send_Email() {\r\n      // Start the progress bar.\r\n      NProgress.start();\r\n      NProgress.set(0.1);\r\n      let id = this.$route.params.id;\r\n      axios\r\n        .post(\"sales_send_email\", {\r\n          id: id,\r\n        })\r\n        .then(response => {\r\n          // Complete the animation of the  progress bar.\r\n          setTimeout(() => NProgress.done(), 500);\r\n          this.makeToast(\r\n            \"success\",\r\n            this.$t(\"Send.TitleEmail\"),\r\n            this.$t(\"Success\")\r\n          );\r\n        })\r\n        .catch(error => {\r\n          // Complete the animation of the  progress bar.\r\n          setTimeout(() => NProgress.done(), 500);\r\n          this.makeToast(\"danger\", this.$t(\"SMTPIncorrect\"), this.$t(\"Failed\"));\r\n        });\r\n    },\r\n\r\n    //---------SMS notification\r\n     Sale_SMS() {\r\n      // Start the progress bar.\r\n      NProgress.start();\r\n      NProgress.set(0.1);\r\n      let id = this.$route.params.id;\r\n      axios\r\n        .post(\"sales_send_sms\", {\r\n          id: id,\r\n        })\r\n        .then(response => {\r\n          // Complete the animation of the  progress bar.\r\n          setTimeout(() => NProgress.done(), 500);\r\n          this.makeToast(\r\n            \"success\",\r\n            this.$t(\"Send_SMS\"),\r\n            this.$t(\"Success\")\r\n          );\r\n        })\r\n        .catch(error => {\r\n          // Complete the animation of the  progress bar.\r\n          setTimeout(() => NProgress.done(), 500);\r\n          this.makeToast(\"danger\", this.$t(\"sms_config_invalid\"), this.$t(\"Failed\"));\r\n        });\r\n    },\r\n\r\n    //----------------------------------- Get Details Sale ------------------------------\\\\\r\n    Get_Details() {\r\n      let id = this.$route.params.id;\r\n      axios\r\n        .get(`sales/${id}`)\r\n        .then(response => {\r\n          this.sale = response.data.sale;\r\n          this.details = response.data.details;\r\n          this.company = response.data.company;\r\n          this.isLoading = false;\r\n        })\r\n        .catch(response => {\r\n          setTimeout(() => {\r\n            this.isLoading = false;\r\n          }, 500);\r\n        });\r\n    },\r\n\r\n    //------------------------------------------ DELETE Sale ------------------------------\\\\\r\n    Delete_Sale() {\r\n      let id = this.$route.params.id;\r\n      this.$swal({\r\n        title: this.$t(\"Delete.Title\"),\r\n        text: this.$t(\"Delete.Text\"),\r\n        type: \"warning\",\r\n        showCancelButton: true,\r\n        confirmButtonColor: \"#3085d6\",\r\n        cancelButtonColor: \"#d33\",\r\n        cancelButtonText: this.$t(\"Delete.cancelButtonText\"),\r\n        confirmButtonText: this.$t(\"Delete.confirmButtonText\")\r\n      }).then(result => {\r\n        if (result.value) {\r\n          axios\r\n            .delete(\"sales/\" + id)\r\n            .then(() => {\r\n              this.$swal(\r\n                this.$t(\"Delete.Deleted\"),\r\n                this.$t(\"Delete.SaleDeleted\"),\r\n                \"success\"\r\n              );\r\n              this.$router.push({ name: \"index_sales\" });\r\n            })\r\n            .catch(() => {\r\n              this.$swal(\r\n                this.$t(\"Delete.Failed\"),\r\n                this.$t(\"Delete.Therewassomethingwronge\"),\r\n                \"warning\"\r\n              );\r\n            });\r\n        }\r\n      });\r\n    }\r\n  }, //end Methods\r\n\r\n  //----------------------------- Created function-------------------\r\n\r\n  created: function() {\r\n    this.Get_Details();\r\n  }\r\n};\r\n</script>","import { render } from \"./detail_sale.vue?vue&type=template&id=77fd2774\"\nimport script from \"./detail_sale.vue?vue&type=script&lang=js\"\nexport * from \"./detail_sale.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","id","scope","page","$t","folder","isLoading","md","currentUserPermissions","includes","sale","sale_has_return","title","to","$route","params","Send_Email","Sale_SMS","Sale_PDF","print","Delete_Sale","Ref","lg","sm","client_name","client_email","client_phone","client_adr","company","CompanyName","email","CompanyPhone","CompanyAdress","payment_status","warehouse","statut","details","detail","code","name","imei_number","is_imei","currentUser","currency","formatNumber","Net_price","quantity","unit_sale","price","DiscountNet","taxe","total","toFixed","TaxNet","tax_rate","discount","shipping","GrandTotal","paid_amount","due","note","computed","metaInfo","data","variants","subject","message","Sale_Ref","methods","this","axios","get","responseType","headers","then","response","url","window","URL","createObjectURL","Blob","link","document","createElement","href","setAttribute","body","appendChild","click","setTimeout","catch","makeToast","variant","msg","$root","$bvToast","toast","solid","number","dec","value","toString","split","formated","length","substr","$htmlToPaper","post","error","Get_Details","$swal","text","type","showCancelButton","confirmButtonColor","cancelButtonColor","cancelButtonText","confirmButtonText","result","delete","$router","push","created","__exports__","render"],"sourceRoot":""}