{"version":3,"file":"js/product_report.46163029.js","mappings":"4JACOA,MAAM,gB,GADb,MAG0BA,MAAM,6C,GAoCrBC,KAAK,gBAAgBD,MAAM,a,GAE5B,QAA2B,KAAxBA,MAAM,eAAa,S,GAUlB,QAA4B,KAAzBA,MAAM,gBAAc,S,GAenBC,KAAK,YAAY,aAAW,S,GAlE9C,O,GAAA,O,yRACE,QA+EQ,MA/ER,EA+EQ,EA9EN,QAAiE,GAArDC,KAAMC,EAAAA,GAAG,kBAAoBC,OAAQD,EAAAA,GAAG,Y,0BACzC,EAAS,Y,WAApB,QAA8E,MAA9E,KAHJ,eAI8C,EAAAE,WAJ9C,iB,WAII,QAYU,GAhBd,MAIWC,GAAG,KAAKN,MAAM,e,CAJzB,kBAKQ,IAUoB,EAVpB,QAUoB,GAf5B,WAMmB,EAAAO,UANnB,qCAMmB,EAAS,aACjBC,UAAW,EAAAA,UACXC,QAAS,EAAAA,QACR,SAAQ,EAAAC,wBACT,cAAa,EAAAC,Q,CAEGC,OAAK,SACyB,GADjB,EAZxC,iBAaiBC,EAAOL,UAAUM,SAASC,MAAM,EAAG,KAAK,OAAG,QAAGF,EAAOJ,QAAQK,SAASC,MAAM,EAAG,KAAJ,MAb5F,K,oEAAA,OAmBe,EAAAV,WAnBf,iB,WAkBM,QA4DiB,GA9EvB,MAoBQW,KAAK,SACJC,QAAS,EAAAA,QACTC,UAAW,EAAAA,UACXC,KAAM,EAAAC,SACN,eAAgB,EAAAC,aAChB,kBAAoB,EAAAC,gBACpB,WAAW,EAAAC,kBACT,iBAAc,C,YAA8BpB,EAAAA,GAAE,qB,YAIhD,qBAAoB,C,6DAMrBqB,WAAW,uC,CArCnB,kBAuCM,IA0BM,EA1BN,QA0BM,MA1BN,EA0BM,EAzBJ,QAEW,GAFA,QAAK,eAAE,EAAAC,cAAcC,KAAK,KAAKC,QAAQ,8B,CAxC1D,kBAyCU,IAA2B,CAA3B,GAzCV,QAyCqC,YAzCrC,OA2CS,QASkB,GARb3B,MAAM,2CACL4B,KAAM,EAAAR,SACNH,QAAS,EAAAA,QACT,YAAW,iBACX,YAAW,OACX,aAAY,kB,CAjD3B,kBAmDc,IAA4B,CAA5B,GAnDd,QAmD0C,cAnD1C,K,uBAuDU,QAQe,GARAY,MAAO1B,EAAAA,GAAG,c,CAvDnC,kBAwDY,IAME,EANF,QAME,GALC,QAAO,EAAA2B,mBAzDtB,WA0DuB,EAAAC,aA1DvB,qCA0DuB,EAAY,gBACpBC,OAAQH,GAASA,EAAMI,MACvBC,YAAa/B,EAAAA,GAAG,oBAChBgC,QAAS,EAAAC,WAAWC,KAAID,IAAc,CAAEP,MAAOO,EAAWE,KAAML,MAAOG,EAAWG,Q,qEA7DjG,K,gBAkEQ,QAUW,WAVX,EAUW,CATyB,WAAtBC,EAAAA,MAAMC,OAAOC,Q,WAAzB,QAIO,OAvEjB,IAoEY,QAEc,GAFDC,MAAM,SAAUC,GAAE,+BAAiCJ,EAAAA,MAAMK,IAAIN,I,CApEtF,kBAqEc,IAAwD,EAAxD,QAAwD,GAA9CZ,QAAQ,WAAS,CArEzC,kBAqE0C,IAAiB,EArE3D,iBAqE4CxB,EAAAA,GAAG,YAAD,MArE9C,c,aAyEgD,eAAtBqC,EAAAA,MAAMC,OAAOC,Q,WAA7B,QAEM,MA3EhB,IA0EY,QAA+D,qBAAvDI,EAAAA,YAAYC,UAAU,KAAC,QAAEP,EAAAA,MAAMK,IAAIG,aAAW,OA1ElE,yB,sMA6FA,SACEC,SAAU,CACRN,MAAO,mBAETO,WAAY,CAAEC,gBAAe,KAC7B,IAAAvB,GACE,MAAO,CACLvB,WAAW,EACX+C,aAAc,CACZC,KAAM,CACJX,MAAO,KACPY,KAAM,QAERpD,KAAM,EACNqD,QAAS,IAEXC,MAAO,KACPtC,UAAW,GACXE,SAAU,GACVgB,WAAY,GACZL,aAAc,GACd0B,gBAAgB,GAChBC,YAAY,EACZlD,UAAW,GACXC,QAAS,GACTF,UAAW,CACVC,UAAW,GACXC,QAAS,IAEVE,OAAO,CAEHgD,MAAO,QACPC,YAAa,SACbC,UAAW,IACXC,iBAAkB,eAClBC,WAAY,kBAEZC,WAAY,kBACZC,SAAU,GAGlB,EAEAC,SAAU,KACL,QAAW,CAAC,gBACf,OAAAjD,GACE,MAAO,CACL,CACEY,MAAOsC,KAAKhE,GAAG,eACfuC,MAAO,OACP0B,QAAS,YACTC,QAAS,YACTC,UAAU,GAEZ,CACEzC,MAAOsC,KAAKhE,GAAG,eACfuC,MAAO,OACP0B,QAAS,YACTC,QAAS,YACTC,UAAU,GAEZ,CACEzC,MAAOsC,KAAKhE,GAAG,cACfuC,MAAO,WACP0B,QAAS,YACTC,QAAS,YACTC,UAAU,GAGZ,CACEzC,MAAOsC,KAAKhE,GAAG,eACfuC,MAAO,cACP0B,QAAS,YACTC,QAAS,YACTC,UAAU,GAEZ,CACEzC,MAAOsC,KAAKhE,GAAG,UACfuC,MAAO,UACP6B,MAAM,EACNH,QAAS,aACTC,QAAS,aACTC,UAAU,GAGhB,GAGFE,QAAS,CAGP,iBAAAjD,CAAkBU,GAChBkC,KAAKV,gBAAkBxB,EAAMwC,WAC7BN,KAAKO,oBAAoB,EAC3B,EAIA,UAAAjD,GACE,IAAIkD,EAAOR,KACX,IAAIS,EAAM,IAAI,aAAM,IAAK,MACrB3D,EAAU,CACZ,CAAE0B,MAAO,eAAgBkC,QAAS,QAClC,CAAElC,MAAO,eAAgBkC,QAAS,QAClC,CAAElC,MAAO,cAAekC,QAAS,YACjC,CAAElC,MAAO,eAAgBkC,QAAS,gBAEpCD,EAAIE,UAAU7D,EAAS0D,EAAKvD,UAC5BwD,EAAIG,KAAK,kBAAmB,GAAI,IAChCH,EAAII,KAAK,sBACX,EAGA,YAAAC,CAAaC,GACXf,KAAKf,aAAe+B,OAAOC,OAAO,CAAC,EAAGjB,KAAKf,aAAc8B,EAC3D,EAGA,YAAA7D,EAAa,YAAEgE,IACTlB,KAAKf,aAAalD,OAASmF,IAC7BlB,KAAKc,aAAa,CAAE/E,KAAMmF,IAC1BlB,KAAKO,oBAAoBW,GAE7B,EAGA,eAAA/D,EAAgB,eAAEgE,IACZnB,KAAKX,QAAU8B,IACjBnB,KAAKX,MAAQ8B,EACbnB,KAAKc,aAAa,CAAE/E,KAAM,EAAGqD,QAAS+B,IACtCnB,KAAKO,oBAAoB,GAE7B,EAGA,uBAAAhE,GACE,IAAIiE,EAAOR,KACXQ,EAAKnE,UAAamE,EAAKpE,UAAUC,UAAUM,SAASC,MAAM,EAAG,IAC7D4D,EAAKlE,QAAUkE,EAAKpE,UAAUE,QAAQK,SAASC,MAAM,EAAG,IACxD4D,EAAKD,oBAAoB,EAC3B,EAGA,eAAAa,GACE,IAAIZ,EAAOR,KACX,GAAIQ,EAAKjB,WAAY,CACnB,IAAI8B,EAAQ,IAAIC,KAEhBd,EAAKnE,UAAYgF,EAAME,cACvBf,EAAKlE,SAAU,IAAIgF,MAAO3E,SAASC,MAAM,EAAG,IAE5C4D,EAAKpE,UAAUC,UAAYgF,EAAME,cACjCf,EAAKpE,UAAUE,SAAU,IAAIgF,MAAO3E,SAASC,MAAM,EAAG,GAExD,CACF,EAGA,kBAAAe,CAAmBG,GACH,OAAVA,IACFkC,KAAKpC,aAAe,IAEtBoC,KAAKO,oBAAoB,EAC3B,EAIA,mBAAAA,CAAoBxE,GAElB,YACA,QAAc,IACdiE,KAAKoB,kBAELI,MACGC,IACC,8BACE1F,EACA,UACAiE,KAAKX,MACL,iBACAW,KAAKpC,aACL,OACAoC,KAAK1D,QACL,SACA0D,KAAK3D,UACL,WACA2D,KAAKV,iBAERoC,MAAKC,IACJ3B,KAAK/B,WAAa0D,EAASlE,KAAKQ,WAChC+B,KAAK/C,SAAW0E,EAASlE,KAAKR,SAC9B+C,KAAKjD,UAAY4E,EAASlE,KAAKV,UAE/B,WACAiD,KAAK9D,WAAY,EACjB8D,KAAKT,YAAa,CAAK,IAExBqC,OAAMD,IACL,WACAE,YAAW,KACT7B,KAAK9D,WAAY,EACjB8D,KAAKT,YAAa,CAAK,GACtB,IAAI,GAEb,GAKFuC,QAAS,WACP9B,KAAKO,oBAAoB,EAC3B,G,eC3SF,MAAMwB,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAASC,KAEpE,G","sources":["webpack:///./src/views/app/pages/reports/product_report.vue","webpack:///./src/views/app/pages/reports/product_report.vue?6938"],"sourcesContent":["<template>\r\n  <div class=\"main-content\">\r\n    <breadcumb :page=\"$t('product_report')\" :folder=\"$t('Reports')\"/>\r\n    <div v-if=\"isLoading\" class=\"loading_page spinner spinner-primary mr-3\"></div>\r\n    <b-col md=\"12\" class=\"text-center\" v-if=\"!isLoading\">\r\n        <date-range-picker \r\n          v-model=\"dateRange\" \r\n          :startDate=\"startDate\" \r\n          :endDate=\"endDate\" \r\n           @update=\"Submit_filter_dateRange\"\r\n          :locale-data=\"locale\" > \r\n\r\n          <template v-slot:input=\"picker\" style=\"min-width: 350px;\">\r\n              {{ picker.startDate.toJSON().slice(0, 10)}} - {{ picker.endDate.toJSON().slice(0, 10)}}\r\n          </template>        \r\n        </date-range-picker>\r\n      </b-col>\r\n\r\n      <vue-good-table\r\n        v-if=\"!isLoading\"\r\n        mode=\"remote\"\r\n        :columns=\"columns\"\r\n        :totalRows=\"totalRows\"\r\n        :rows=\"products\"\r\n        @on-page-change=\"onPageChange\"\r\n        @on-per-page-change=\"onPerPageChange\"\r\n        @on-search=\"onSearch_products\"\r\n          :search-options=\"{\r\n            placeholder: $t('Search_this_table'),\r\n            enabled: true,\r\n        }\"\r\n        :pagination-options=\"{\r\n        enabled: true,\r\n        mode: 'records',\r\n        nextLabel: 'next',\r\n        prevLabel: 'prev',\r\n      }\"\r\n        styleClass=\"mt-5 table-hover tableOne vgt-table\"\r\n      >\r\n      <div slot=\"table-actions\" class=\"mt-2 mb-3\">\r\n        <b-button @click=\"export_PDF()\" size=\"sm\" variant=\"outline-success ripple m-1\">\r\n          <i class=\"i-File-Copy\"></i> PDF\r\n        </b-button>\r\n         <vue-excel-xlsx\r\n              class=\"btn btn-sm btn-outline-danger ripple m-1\"\r\n              :data=\"products\"\r\n              :columns=\"columns\"\r\n              :file-name=\"'product_report'\"\r\n              :file-type=\"'xlsx'\"\r\n              :sheet-name=\"'product_report'\"\r\n              >\r\n              <i class=\"i-File-Excel\"></i> EXCEL\r\n          </vue-excel-xlsx>\r\n\r\n           <!-- warehouse -->\r\n          <b-form-group :label=\"$t('warehouse')\">\r\n            <v-select\r\n              @input=\"Selected_Warehouse\"\r\n              v-model=\"warehouse_id\"\r\n              :reduce=\"label => label.value\"\r\n              :placeholder=\"$t('Choose_Warehouse')\"\r\n              :options=\"warehouses.map(warehouses => ({label: warehouses.name, value: warehouses.id}))\"\r\n            />\r\n          </b-form-group>\r\n\r\n      </div>\r\n        <template slot=\"table-row\" slot-scope=\"props\">\r\n          <span v-if=\"props.column.field == 'actions'\">\r\n            <router-link title=\"Report\" :to=\"'/app/reports/detail_product/'+props.row.id\">\r\n              <b-button variant=\"primary\">{{$t('Reports')}}</b-button>\r\n            </router-link>\r\n          </span>\r\n\r\n          <div v-else-if=\"props.column.field == 'sold_amount'\">\r\n            <span>{{currentUser.currency}} {{props.row.sold_amount}}</span>\r\n          </div>\r\n        </template>\r\n\r\n      </vue-good-table>\r\n      <!-- </b-card> -->\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport NProgress from \"nprogress\";\r\nimport { mapGetters } from \"vuex\";\r\nimport DateRangePicker from 'vue2-daterange-picker'\r\n//you need to import the CSS manually\r\nimport 'vue2-daterange-picker/dist/vue2-daterange-picker.css'\r\nimport moment from 'moment'\r\nimport jsPDF from \"jspdf\";\r\nimport \"jspdf-autotable\";\r\n\r\nexport default {\r\n  metaInfo: {\r\n    title: \"Products Report\"\r\n  },\r\n  components: { DateRangePicker },\r\n  data() {\r\n    return {\r\n      isLoading: true,\r\n      serverParams: {\r\n        sort: {\r\n          field: \"id\",\r\n          type: \"desc\"\r\n        },\r\n        page: 1,\r\n        perPage: 10\r\n      },\r\n      limit: \"10\",\r\n      totalRows: \"\",\r\n      products: [],\r\n      warehouses: [],\r\n      warehouse_id: \"\",\r\n      search_products:\"\",\r\n      today_mode: true,\r\n      startDate: \"\", \r\n      endDate: \"\", \r\n      dateRange: { \r\n       startDate: \"\", \r\n       endDate: \"\" \r\n      }, \r\n      locale:{ \r\n          //separator between the two ranges apply\r\n          Label: \"Apply\", \r\n          cancelLabel: \"Cancel\", \r\n          weekLabel: \"W\", \r\n          customRangeLabel: \"Custom Range\", \r\n          daysOfWeek: moment.weekdaysMin(), \r\n          //array of days - see moment documenations for details \r\n          monthNames: moment.monthsShort(), //array of month names - see moment documenations for details \r\n          firstDay: 1 //ISO first day of week - see moment documenations for details\r\n        },\r\n    };\r\n  },\r\n\r\n  computed: {\r\n    ...mapGetters([\"currentUser\"]),\r\n    columns() {\r\n      return [\r\n        {\r\n          label: this.$t(\"ProductCode\"),\r\n          field: \"code\",\r\n          tdClass: \"text-left\",\r\n          thClass: \"text-left\",\r\n          sortable: false\r\n        },\r\n        {\r\n          label: this.$t(\"ProductName\"),\r\n          field: \"name\",\r\n          tdClass: \"text-left\",\r\n          thClass: \"text-left\",\r\n          sortable: false\r\n        },\r\n        {\r\n          label: this.$t(\"TotalSales\"),\r\n          field: \"sold_qty\",\r\n          tdClass: \"text-left\",\r\n          thClass: \"text-left\",\r\n          sortable: false\r\n        },\r\n\r\n        {\r\n          label: this.$t(\"TotalAmount\"),\r\n          field: \"sold_amount\",\r\n          tdClass: \"text-left\",\r\n          thClass: \"text-left\",\r\n          sortable: false\r\n        },\r\n        {\r\n          label: this.$t(\"Action\"),\r\n          field: \"actions\",\r\n          html: true,\r\n          tdClass: \"text-right\",\r\n          thClass: \"text-right\",\r\n          sortable: false\r\n        }\r\n      ];\r\n    }\r\n  },\r\n\r\n  methods: {\r\n\r\n    \r\n    onSearch_products(value) {\r\n      this.search_products = value.searchTerm;\r\n      this.Get_products_report(1);\r\n    },\r\n\r\n\r\n    //----------------------------------- Export PDF ------------------------------\\\\\r\n    export_PDF() {\r\n      var self = this;\r\n      let pdf = new jsPDF(\"p\", \"pt\");\r\n      let columns = [\r\n        { title: \"Product Code\", dataKey: \"code\" },\r\n        { title: \"Product Name\", dataKey: \"name\" },\r\n        { title: \"Total Sales\", dataKey: \"sold_qty\" },\r\n        { title: \"Total Amount\", dataKey: \"sold_amount\" },\r\n      ];\r\n      pdf.autoTable(columns, self.products);\r\n      pdf.text(\"Products Report\", 40, 25);\r\n      pdf.save(\"Products Report.pdf\");\r\n    },\r\n\r\n    //---- update Params Table\r\n    updateParams(newProps) {\r\n      this.serverParams = Object.assign({}, this.serverParams, newProps);\r\n    },\r\n\r\n    //---- Event Page Change\r\n    onPageChange({ currentPage }) {\r\n      if (this.serverParams.page !== currentPage) {\r\n        this.updateParams({ page: currentPage });\r\n        this.Get_products_report(currentPage);\r\n      }\r\n    },\r\n\r\n    //---- Event Per Page Change\r\n    onPerPageChange({ currentPerPage }) {\r\n      if (this.limit !== currentPerPage) {\r\n        this.limit = currentPerPage;\r\n        this.updateParams({ page: 1, perPage: currentPerPage });\r\n        this.Get_products_report(1);\r\n      }\r\n    },\r\n\r\n     //----------------------------- Submit Date Picker -------------------\\\\\r\n    Submit_filter_dateRange() {\r\n      var self = this;\r\n      self.startDate =  self.dateRange.startDate.toJSON().slice(0, 10);\r\n      self.endDate = self.dateRange.endDate.toJSON().slice(0, 10);\r\n      self.Get_products_report(1);\r\n    },\r\n\r\n\r\n    get_data_loaded() {\r\n      var self = this;\r\n      if (self.today_mode) {\r\n        let today = new Date()\r\n\r\n        self.startDate = today.getFullYear();\r\n        self.endDate = new Date().toJSON().slice(0, 10);\r\n\r\n        self.dateRange.startDate = today.getFullYear();\r\n        self.dateRange.endDate = new Date().toJSON().slice(0, 10);\r\n        \r\n      }\r\n    },\r\n\r\n    //---------------------- Event Select Warehouse ------------------------------\\\\\r\n    Selected_Warehouse(value) {\r\n      if (value === null) {\r\n        this.warehouse_id = \"\";\r\n      }\r\n      this.Get_products_report(1);\r\n    },\r\n\r\n\r\n    //----------------------------- Get_products_report------------------\\\\\r\n    Get_products_report(page) {\r\n      // Start the progress bar.\r\n      NProgress.start();\r\n      NProgress.set(0.1);\r\n      this.get_data_loaded();\r\n\r\n      axios\r\n        .get(\r\n          \"report/product_report?page=\" +\r\n            page +\r\n            \"&limit=\" +\r\n            this.limit +\r\n            \"&warehouse_id=\" +\r\n            this.warehouse_id +\r\n            \"&to=\" +\r\n            this.endDate +\r\n            \"&from=\" +\r\n            this.startDate +\r\n            \"&search=\" +\r\n            this.search_products\r\n        )\r\n        .then(response => {\r\n          this.warehouses = response.data.warehouses;\r\n          this.products = response.data.products;\r\n          this.totalRows = response.data.totalRows;\r\n          // Complete the animation of theprogress bar.\r\n          NProgress.done();\r\n          this.isLoading = false;\r\n          this.today_mode = false;\r\n        })\r\n        .catch(response => {\r\n          NProgress.done();\r\n          setTimeout(() => {\r\n            this.isLoading = false;\r\n            this.today_mode = false;\r\n          }, 500);\r\n        });\r\n    }\r\n  }, //end Methods\r\n\r\n  //----------------------------- Created function------------------- \\\\\r\n\r\n  created: function() {\r\n    this.Get_products_report(1);\r\n  }\r\n};\r\n</script>","import { render } from \"./product_report.vue?vue&type=template&id=4dbcca30\"\nimport script from \"./product_report.vue?vue&type=script&lang=js\"\nexport * from \"./product_report.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","slot","page","$t","folder","isLoading","md","dateRange","startDate","endDate","Submit_filter_dateRange","locale","input","picker","toJSON","slice","mode","columns","totalRows","rows","products","onPageChange","onPerPageChange","onSearch_products","styleClass","export_PDF","size","variant","data","label","Selected_Warehouse","warehouse_id","reduce","value","placeholder","options","warehouses","map","name","id","props","column","field","title","to","row","currentUser","currency","sold_amount","metaInfo","components","DateRangePicker","serverParams","sort","type","perPage","limit","search_products","today_mode","Label","cancelLabel","weekLabel","customRangeLabel","daysOfWeek","monthNames","firstDay","computed","this","tdClass","thClass","sortable","html","methods","searchTerm","Get_products_report","self","pdf","dataKey","autoTable","text","save","updateParams","newProps","Object","assign","currentPage","currentPerPage","get_data_loaded","today","Date","getFullYear","axios","get","then","response","catch","setTimeout","created","__exports__","render"],"sourceRoot":""}