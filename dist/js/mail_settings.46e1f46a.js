"use strict";(self["webpackChunk"]=self["webpackChunk"]||[]).push([[2634],{93764:(e,a,t)=>{t.r(a),t.d(a,{default:()=>g});var l=t(20641),r=t(53751),d=t(90033);const s={class:"main-content"},i={key:0,class:"loading_page spinner spinner-primary mr-3"},n=(0,l.Lk)("p",{class:"text-danger"},'Supported: "smtp", "sendmail", "mailgun", "ses","postmark", "log"',-1),o=(0,l.Lk)("i",{class:"i-Yes me-2 font-weight-bold"},null,-1);function u(e,a,t,u,m,b){const _=(0,l.g2)("breadcumb"),f=(0,l.g2)("b-form-input"),c=(0,l.g2)("b-form-invalid-feedback"),k=(0,l.g2)("b-form-group"),g=(0,l.g2)("validation-provider"),p=(0,l.g2)("b-col"),v=(0,l.g2)("b-button"),h=(0,l.g2)("b-row"),F=(0,l.g2)("b-card-body"),S=(0,l.g2)("b-card"),L=(0,l.g2)("b-form"),V=(0,l.g2)("validation-observer");return(0,l.uX)(),(0,l.CE)("div",s,[(0,l.bF)(_,{page:e.$t("mail_settings"),folder:e.$t("Settings")},null,8,["page","folder"]),m.isLoading?((0,l.uX)(),(0,l.CE)("div",i)):(0,l.Q3)("",!0),m.isLoading?(0,l.Q3)("",!0):((0,l.uX)(),(0,l.Wv)(V,{key:1,ref:"form_config_mail"},{default:(0,l.k6)((()=>[(0,l.bF)(L,{onSubmit:(0,r.D$)(b.Submit_config_mail,["prevent"])},{default:(0,l.k6)((()=>[(0,l.bF)(h,{class:"mt-5"},{default:(0,l.k6)((()=>[(0,l.bF)(p,{lg:"12",md:"12",sm:"12"},{default:(0,l.k6)((()=>[(0,l.bF)(S,{"no-body":"",header:e.$t("mail_settings")},{default:(0,l.k6)((()=>[(0,l.bF)(F,null,{default:(0,l.k6)((()=>[(0,l.bF)(h,null,{default:(0,l.k6)((()=>[(0,l.bF)(p,{lg:"4",md:"4",sm:"12"},{default:(0,l.k6)((()=>[(0,l.bF)(g,{name:"MAIL_MAILER",rules:{required:!0}},{default:(0,l.k6)((e=>[(0,l.bF)(k,{label:"MAIL_MAILER *"},{default:(0,l.k6)((()=>[(0,l.bF)(f,{state:b.getValidationState(e),"aria-describedby":"MAIL_MAILER-feedback",label:"MAIL_MAILER",placeholder:"MAIL_MAILER",modelValue:m.server.mail_mailer,"onUpdate:modelValue":a[0]||(a[0]=e=>m.server.mail_mailer=e)},null,8,["state","modelValue"]),(0,l.bF)(c,{id:"MAIL_MAILER-feedback"},{default:(0,l.k6)((()=>[(0,l.eW)((0,d.v_)(e.errors[0]),1)])),_:2},1024)])),_:2},1024),n])),_:1})])),_:1}),(0,l.bF)(p,{lg:"4",md:"4",sm:"12"},{default:(0,l.k6)((()=>[(0,l.bF)(g,{name:"HOST",rules:{required:!0}},{default:(0,l.k6)((e=>[(0,l.bF)(k,{label:"MAIL_HOST *"},{default:(0,l.k6)((()=>[(0,l.bF)(f,{state:b.getValidationState(e),"aria-describedby":"HOST-feedback",label:"HOST",placeholder:"MAIL_HOST",modelValue:m.server.host,"onUpdate:modelValue":a[1]||(a[1]=e=>m.server.host=e)},null,8,["state","modelValue"]),(0,l.bF)(c,{id:"HOST-feedback"},{default:(0,l.k6)((()=>[(0,l.eW)((0,d.v_)(e.errors[0]),1)])),_:2},1024)])),_:2},1024)])),_:1})])),_:1}),(0,l.bF)(p,{lg:"4",md:"4",sm:"12"},{default:(0,l.k6)((()=>[(0,l.bF)(g,{name:"PORT",rules:{required:!0}},{default:(0,l.k6)((e=>[(0,l.bF)(k,{label:"MAIL_PORT *"},{default:(0,l.k6)((()=>[(0,l.bF)(f,{state:b.getValidationState(e),"aria-describedby":"PORT-feedback",label:"PORT",placeholder:"MAIL_PORT",modelValue:m.server.port,"onUpdate:modelValue":a[2]||(a[2]=e=>m.server.port=e)},null,8,["state","modelValue"]),(0,l.bF)(c,{id:"PORT-feedback"},{default:(0,l.k6)((()=>[(0,l.eW)((0,d.v_)(e.errors[0]),1)])),_:2},1024)])),_:2},1024)])),_:1})])),_:1}),(0,l.bF)(p,{lg:"4",md:"4",sm:"12"},{default:(0,l.k6)((()=>[(0,l.bF)(g,{name:"sender",rules:{required:!0}},{default:(0,l.k6)((e=>[(0,l.bF)(k,{label:"Sender Name *"},{default:(0,l.k6)((()=>[(0,l.bF)(f,{state:b.getValidationState(e),"aria-describedby":"sender-feedback",label:"Sender",placeholder:"Sender Name",modelValue:m.server.sender_name,"onUpdate:modelValue":a[3]||(a[3]=e=>m.server.sender_name=e)},null,8,["state","modelValue"]),(0,l.bF)(c,{id:"sender-feedback"},{default:(0,l.k6)((()=>[(0,l.eW)((0,d.v_)(e.errors[0]),1)])),_:2},1024)])),_:2},1024)])),_:1})])),_:1}),(0,l.bF)(p,{lg:"4",md:"4",sm:"12"},{default:(0,l.k6)((()=>[(0,l.bF)(g,{name:"Username",rules:{required:!0}},{default:(0,l.k6)((e=>[(0,l.bF)(k,{label:"MAIL_USERNAME *"},{default:(0,l.k6)((()=>[(0,l.bF)(f,{state:b.getValidationState(e),"aria-describedby":"Username-feedback",label:"Username",placeholder:"MAIL_USERNAME",modelValue:m.server.username,"onUpdate:modelValue":a[4]||(a[4]=e=>m.server.username=e)},null,8,["state","modelValue"]),(0,l.bF)(c,{id:"Username-feedback"},{default:(0,l.k6)((()=>[(0,l.eW)((0,d.v_)(e.errors[0]),1)])),_:2},1024)])),_:2},1024)])),_:1})])),_:1}),(0,l.bF)(p,{lg:"4",md:"4",sm:"12"},{default:(0,l.k6)((()=>[(0,l.bF)(g,{name:"Password",rules:{required:!0}},{default:(0,l.k6)((e=>[(0,l.bF)(k,{label:"MAIL_PASSWORD *"},{default:(0,l.k6)((()=>[(0,l.bF)(f,{state:b.getValidationState(e),"aria-describedby":"Password-feedback",label:"Password",placeholder:"MAIL_PASSWORD",modelValue:m.server.password,"onUpdate:modelValue":a[5]||(a[5]=e=>m.server.password=e)},null,8,["state","modelValue"]),(0,l.bF)(c,{id:"Password-feedback"},{default:(0,l.k6)((()=>[(0,l.eW)((0,d.v_)(e.errors[0]),1)])),_:2},1024)])),_:2},1024)])),_:1})])),_:1}),(0,l.bF)(p,{lg:"4",md:"4",sm:"12"},{default:(0,l.k6)((()=>[(0,l.bF)(g,{name:"encryption",rules:{required:!0}},{default:(0,l.k6)((e=>[(0,l.bF)(k,{label:"MAIL_ENCRYPTION *"},{default:(0,l.k6)((()=>[(0,l.bF)(f,{state:b.getValidationState(e),"aria-describedby":"encryption-feedback",label:"encryption",placeholder:"MAIL_ENCRYPTION",modelValue:m.server.encryption,"onUpdate:modelValue":a[6]||(a[6]=e=>m.server.encryption=e)},null,8,["state","modelValue"]),(0,l.bF)(c,{id:"encryption-feedback"},{default:(0,l.k6)((()=>[(0,l.eW)((0,d.v_)(e.errors[0]),1)])),_:2},1024)])),_:2},1024)])),_:1})])),_:1}),(0,l.bF)(p,{md:"12"},{default:(0,l.k6)((()=>[(0,l.bF)(k,null,{default:(0,l.k6)((()=>[(0,l.bF)(v,{variant:"primary",type:"submit"},{default:(0,l.k6)((()=>[o,(0,l.eW)(" "+(0,d.v_)(e.$t("submit")),1)])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})])),_:1},8,["header"])])),_:1})])),_:1})])),_:1},8,["onSubmit"])])),_:1},512))])}var m=t(95353),b=t(5947),_=t.n(b);const f={metaInfo:{title:"Mail Settings"},data(){return{isLoading:!0,server:{host:"",port:"",username:"",password:"",encryption:"",sender_name:"",mail_mailer:""}}},methods:{...(0,m.i0)(["refreshUserPermissions"]),Submit_config_mail(){this.$refs.form_config_mail.validate().then((e=>{e?this.Update_config_mail():this.makeToast("danger",this.$t("Please_fill_the_form_correctly"),this.$t("Failed"))}))},makeToast(e,a,t){this.$root.$bvToast.toast(a,{title:t,variant:e,solid:!0})},getValidationState({dirty:e,validated:a,valid:t=null}){return e||a?t:null},Update_config_mail(){_().start(),_().set(.1),axios.put("update_config_mail/"+this.server.id,{mail_mailer:this.server.mail_mailer,host:this.server.host,port:this.server.port,sender_name:this.server.sender_name,username:this.server.username,password:this.server.password,encryption:this.server.encryption}).then((e=>{Fire.$emit("Event_Smtp"),this.makeToast("success",this.$t("Successfully_Updated"),this.$t("Success")),_().done()})).catch((e=>{_().done(),this.makeToast("danger",this.$t("InvalidData"),this.$t("Failed"))}))},get_config_mail(){axios.get("get_config_mail").then((e=>{this.server=e.data.server,this.isLoading=!1})).catch((e=>{this.isLoading=!1}))}},created:function(){this.get_config_mail(),Fire.$on("Event_Smtp",(()=>{this.get_config_mail()}))}};var c=t(66262);const k=(0,c.A)(f,[["render",u]]),g=k}}]);
//# sourceMappingURL=mail_settings.46e1f46a.js.map