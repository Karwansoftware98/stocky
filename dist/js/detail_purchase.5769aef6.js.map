{"version":3,"file":"js/detail_purchase.5769aef6.js","mappings":"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","sources":["webpack:///./src/views/app/pages/purchases/detail_purchase.vue","webpack:///./src/views/app/pages/purchases/detail_purchase.vue?23a9"],"sourcesContent":["<template>\r\n  <div class=\"main-content\">\r\n    <breadcumb :page=\"$t('PurchaseDetail')\" :folder=\"$t('ListPurchases')\"/>\r\n    <div v-if=\"isLoading\" class=\"loading_page spinner spinner-primary mr-3\"></div>\r\n\r\n    <b-card v-if=\"!isLoading\">\r\n      <b-row>\r\n        <b-col md=\"12\" class=\"mb-2\">\r\n          <router-link\r\n            v-if=\"currentUserPermissions && currentUserPermissions.includes('Purchases_edit') && purchase.purchase_has_return == 'no'\"\r\n            title=\"Edit\"\r\n            class=\"btn btn-success btn-icon ripple btn-sm\"\r\n            :to=\"{ name:'edit_purchase', params: { id: $route.params.id } }\"\r\n          >\r\n            <i class=\"i-Edit\"></i>\r\n            <span>{{$t('EditPurchase')}}</span>\r\n          </router-link>\r\n          <button @click=\"Send_Email()\" class=\"btn btn-info btn-icon ripple btn-sm\">\r\n            <i class=\"i-Envelope-2\"></i>\r\n            {{$t('Email')}}\r\n          </button>\r\n           <button @click=\"Purchase_SMS()\" class=\"btn btn-secondary btn-icon ripple btn-sm\">\r\n            <i class=\"i-Speach-Bubble\"></i>\r\n            SMS\r\n          </button>\r\n          <button @click=\"Print_Purchase_PDF()\" class=\"btn btn-primary btn-icon ripple btn-sm\">\r\n            <i class=\"i-File-TXT\"></i> PDF\r\n          </button>\r\n          <button @click=\"print()\" class=\"btn btn-warning btn-icon ripple btn-sm\">\r\n            <i class=\"i-Billing\"></i>\r\n            {{$t('print')}}\r\n          </button>\r\n          <button\r\n            v-if=\"currentUserPermissions && currentUserPermissions.includes('Purchases_delete') && purchase.purchase_has_return == 'no'\"\r\n            @click=\"Delete_Purchase()\"\r\n            class=\"btn btn-danger btn-icon ripple btn-sm\"\r\n          >\r\n            <i class=\"i-Close-Window\"></i>\r\n            {{$t('Del')}}\r\n          </button>\r\n        </b-col>\r\n      </b-row>\r\n      <div class=\"invoice mt-5\" id=\"print_Invoice\">\r\n        <div class=\"invoice-print\">\r\n          <b-row class=\"justify-content-md-center\">\r\n            <h4 class=\"font-weight-bold\">{{$t('PurchaseDetail')}} : {{purchase.Ref}}</h4>\r\n          </b-row>\r\n          <hr>\r\n          <b-row class=\"mt-5\">\r\n            <b-col lg=\"4\" md=\"4\" sm=\"12\" class=\"mb-4\">\r\n              <h5 class=\"font-weight-bold\">{{$t('Supplier_Info')}}</h5>\r\n              <div>{{purchase.supplier_name}}</div>\r\n              <div>{{purchase.supplier_email}}</div>\r\n              <div>{{purchase.supplier_phone}}</div>\r\n              <div>{{purchase.supplier_adr}}</div>\r\n            </b-col>\r\n            <b-col lg=\"4\" md=\"4\" sm=\"12\" class=\"mb-4\">\r\n              <h5 class=\"font-weight-bold\">{{$t('Company_Info')}}</h5>\r\n              <div>{{company.CompanyName}}</div>\r\n              <div>{{company.email}}</div>\r\n              <div>{{company.CompanyPhone}}</div>\r\n              <div>{{company.CompanyAdress}}</div>\r\n            </b-col>\r\n            <b-col lg=\"4\" md=\"4\" sm=\"12\" class=\"mb-4\">\r\n              <h5 class=\"font-weight-bold\">{{$t('Purchase_Info')}}</h5>\r\n              <div>{{$t('Reference')}} : {{purchase.Ref}}</div>\r\n              <div>\r\n                {{$t('Status')}} :\r\n                <span\r\n                  v-if=\"purchase.statut == 'received'\"\r\n                  class=\"badge badge-outline-success\"\r\n                >{{$t('Received')}}</span>\r\n                <span\r\n                  v-else-if=\"purchase.statut == 'pending'\"\r\n                  class=\"badge badge-outline-info\"\r\n                >{{$t('Pending')}}</span>\r\n                <span v-else class=\"badge badge-outline-warning\">{{$t('Ordered')}}</span>\r\n              </div>\r\n              <div>{{$t('warehouse')}} : {{purchase.warehouse}}</div>\r\n              <div>\r\n                {{$t('PaymentStatus')}} :\r\n                <span\r\n                  v-if=\"purchase.payment_status == 'paid'\"\r\n                  class=\"badge badge-outline-success\"\r\n                >{{$t('Paid')}}</span>\r\n                <span\r\n                  v-else-if=\"purchase.payment_status == 'partial'\"\r\n                  class=\"badge badge-outline-primary\"\r\n                >{{$t('partial')}}</span>\r\n                <span v-else class=\"badge badge-outline-warning\">{{$t('Unpaid')}}</span>\r\n              </div>\r\n            </b-col>\r\n          </b-row>\r\n          <b-row class=\"mt-3\">\r\n            <b-col md=\"12\">\r\n              <h5 class=\"font-weight-bold\">{{$t('Order_Summary')}}</h5>\r\n              <div class=\"table-responsive\">\r\n                <table class=\"table table-hover table-md\">\r\n                  <thead class=\"bg-gray-300\">\r\n                    <tr>\r\n                      <th scope=\"col\">{{$t('ProductName')}}</th>\r\n                      <th scope=\"col\">{{$t('Net_Unit_Cost')}}</th>\r\n                      <th scope=\"col\">{{$t('Quantity')}}</th>\r\n                      <th scope=\"col\">{{$t('Unitcost')}}</th>\r\n                      <th scope=\"col\">{{$t('Discount')}}</th>\r\n                      <th scope=\"col\">{{$t('Tax')}}</th>\r\n                      <th scope=\"col\">{{$t('SubTotal')}}</th>\r\n                    </tr>\r\n                  </thead>\r\n                  <tbody>\r\n                    <tr v-for=\"detail in details\">\r\n                      <td><span>{{detail.code}} ({{detail.name}})</span>\r\n                        <p v-show=\"detail.is_imei && detail.imei_number !==null \">{{$t('IMEI_SN')}} : {{detail.imei_number}}</p>\r\n                      </td>\r\n                      <td>{{currentUser.currency}} {{formatNumber(detail.Net_cost,3)}}</td>\r\n                      <td>{{formatNumber(detail.quantity,2)}} {{detail.unit_purchase}}</td>\r\n                      <td>{{currentUser.currency}} {{formatNumber(detail.cost,2)}}</td>\r\n                      <td>{{currentUser.currency}} {{formatNumber(detail.DiscountNet,2)}}</td>\r\n                      <td>{{currentUser.currency}} {{formatNumber(detail.taxe,2)}}</td>\r\n                      <td>{{currentUser.currency}} {{detail.total.toFixed(2)}}</td>\r\n                    </tr>\r\n                  </tbody>\r\n                </table>\r\n              </div>\r\n            </b-col>\r\n            <div class=\"offset-md-9 col-md-3 mt-4\">\r\n              <table class=\"table table-striped table-sm\">\r\n                <tbody>\r\n                  <tr>\r\n                    <td class=\"bold\">{{$t('OrderTax')}}</td>\r\n                    <td>\r\n                      <span>{{currentUser.currency}} {{purchase.TaxNet.toFixed(2)}} ({{formatNumber(purchase.tax_rate,2)}} %)</span>\r\n                    </td>\r\n                  </tr>\r\n                  <tr>\r\n                    <td class=\"bold\">{{$t('Discount')}}</td>\r\n                    <td>{{currentUser.currency}} {{purchase.discount.toFixed(2)}}</td>\r\n                  </tr>\r\n                  <tr>\r\n                    <td class=\"bold\">{{$t('Shipping')}}</td>\r\n                    <td>{{currentUser.currency}} {{purchase.shipping.toFixed(2)}}</td>\r\n                  </tr>\r\n                  <tr>\r\n                    <td>\r\n                      <span class=\"font-weight-bold\">{{$t('Total')}}</span>\r\n                    </td>\r\n                    <td>\r\n                      <span\r\n                        class=\"font-weight-bold\"\r\n                      >{{currentUser.currency}} {{purchase.GrandTotal}}</span>\r\n                    </td>\r\n                  </tr>\r\n                  <tr>\r\n                    <td>\r\n                      <span class=\"font-weight-bold\">{{$t('Paid')}}</span>\r\n                    </td>\r\n                    <td>\r\n                      <span\r\n                        class=\"font-weight-bold\"\r\n                      >{{currentUser.currency}} {{purchase.paid_amount}}</span>\r\n                    </td>\r\n                  </tr>\r\n                  <tr>\r\n                    <td>\r\n                      <span class=\"font-weight-bold\">{{$t('Due')}}</span>\r\n                    </td>\r\n                    <td>\r\n                      <span\r\n                        class=\"font-weight-bold\"\r\n                      >{{currentUser.currency}} {{purchase.due}}</span>\r\n                    </td>\r\n                  </tr>\r\n                </tbody>\r\n              </table>\r\n            </div>\r\n          </b-row>\r\n          <hr v-show=\"purchase.note\">\r\n          <b-row class=\"mt-4\">\r\n           <b-col md=\"12\">\r\n             <p>{{purchase.note}}</p>\r\n           </b-col>\r\n        </b-row>\r\n        </div>\r\n      </div>\r\n    </b-card>\r\n  </div>\r\n</template>\r\n\r\n\r\n<script>\r\nimport { mapActions, mapGetters } from \"vuex\";\r\nimport NProgress from \"nprogress\";\r\n\r\nexport default {\r\n  computed: mapGetters([\"currentUserPermissions\", \"currentUser\"]),\r\n  metaInfo: {\r\n    title: \"Detail Purchase\"\r\n  },\r\n\r\n  data() {\r\n    return {\r\n      isLoading: true,\r\n      purchase: {},\r\n      details: [],\r\n      variants: [],\r\n      company: {},\r\n      email: {\r\n        to: \"\",\r\n        subject: \"\",\r\n        message: \"\",\r\n        supplier_name: \"\",\r\n        Purchase_Ref: \"\"\r\n      }\r\n    };\r\n  },\r\n\r\n  methods: {\r\n    //----------------------------------- print Purchase -------------------------\\\\\r\n    Print_Purchase_PDF() {\r\n      // Start the progress bar.\r\n      NProgress.start();\r\n      NProgress.set(0.1);\r\n      let id = this.$route.params.id;\r\n      axios\r\n        .get(`purchase_pdf/${id}`, {\r\n          responseType: \"blob\", // important\r\n          headers: {\r\n            \"Content-Type\": \"application/json\"\r\n          }\r\n        })\r\n     \r\n        .then(response => {\r\n          const url = window.URL.createObjectURL(new Blob([response.data]));\r\n          const link = document.createElement(\"a\");\r\n          link.href = url;\r\n          link.setAttribute(\r\n            \"download\",\r\n            \"purchase_\" + this.purchase.Ref + \".pdf\"\r\n          );\r\n          document.body.appendChild(link);\r\n          link.click();\r\n          // Complete the animation of the  progress bar.\r\n          setTimeout(() => NProgress.done(), 500);\r\n        })\r\n        .catch(() => {\r\n          // Complete the animation of the  progress bar.\r\n          setTimeout(() => NProgress.done(), 500);\r\n        });\r\n    },\r\n\r\n    //------------------------------ Print -------------------------\\\\\r\n    print() {\r\n      this.$htmlToPaper('print_Invoice');\r\n    },\r\n\r\n    //------------------------------Formetted Numbers -------------------------\\\\\r\n    formatNumber(number, dec) {\r\n      const value = (typeof number === \"string\"\r\n        ? number\r\n        : number.toString()\r\n      ).split(\".\");\r\n      if (dec <= 0) return value[0];\r\n      let formated = value[1] || \"\";\r\n      if (formated.length > dec)\r\n        return `${value[0]}.${formated.substr(0, dec)}`;\r\n      while (formated.length < dec) formated += \"0\";\r\n      return `${value[0]}.${formated}`;\r\n    },\r\n\r\n    //----------------------------------- Get Details Purchase ------------------------------\\\\\r\n    Get_Details() {\r\n      let id = this.$route.params.id;\r\n      axios\r\n        .get(`purchases/${id}`)\r\n        .then(response => {\r\n          this.purchase = response.data.purchase;\r\n          this.details = response.data.details;\r\n          this.company = response.data.company;\r\n          this.isLoading = false;\r\n        })\r\n        .catch(response => {\r\n          setTimeout(() => {\r\n            this.isLoading = false;\r\n          }, 500);\r\n        });\r\n    },\r\n\r\n    //---------------------------------------------------- Purchase Email -------------------------------\\\\\r\n    // purchase_Email(purchase) {\r\n    //   this.email.to = this.purchase.supplier_email;\r\n    //   this.email.Purchase_Ref = this.purchase.Ref;\r\n    //   this.email.supplier_name = this.purchase.supplier_name;\r\n    //   this.Send_Email();\r\n    // },\r\n\r\n    //--------------------------------------------- Send Purchase to Email -------------------------------\\\\\r\n    Send_Email() {\r\n      // Start the progress bar.\r\n      NProgress.start();\r\n      NProgress.set(0.1);\r\n      let id = this.$route.params.id;\r\n      axios\r\n        .post(\"purchase_send_email\", {\r\n          id: id,\r\n        })\r\n        .then(response => {\r\n          // Complete the animation of the  progress bar.\r\n          setTimeout(() => NProgress.done(), 500);\r\n          this.makeToast(\r\n            \"success\",\r\n            this.$t(\"Send.TitleEmail\"),\r\n            this.$t(\"Success\")\r\n          );\r\n        })\r\n        .catch(error => {\r\n          // Complete the animation of the  progress bar.\r\n          setTimeout(() => NProgress.done(), 500);\r\n          this.makeToast(\"danger\", this.$t(\"SMTPIncorrect\"), this.$t(\"Failed\"));\r\n        });\r\n    },\r\n\r\n     //---------SMS notification\r\n     \r\n     Purchase_SMS() {\r\n      // Start the progress bar.\r\n      NProgress.start();\r\n      NProgress.set(0.1);\r\n      let id = this.$route.params.id;\r\n      axios\r\n        .post(\"purchase_send_sms\", {\r\n          id: id,\r\n        })\r\n        .then(response => {\r\n          // Complete the animation of the  progress bar.\r\n          setTimeout(() => NProgress.done(), 500);\r\n          this.makeToast(\r\n            \"success\",\r\n            this.$t(\"Send_SMS\"),\r\n            this.$t(\"Success\")\r\n          );\r\n        })\r\n        .catch(error => {\r\n          // Complete the animation of the  progress bar.\r\n          setTimeout(() => NProgress.done(), 500);\r\n          this.makeToast(\"danger\", this.$t(\"sms_config_invalid\"), this.$t(\"Failed\"));\r\n        });\r\n    },\r\n\r\n      //------ Toast\r\n    makeToast(variant, msg, title) {\r\n      this.$root.$bvToast.toast(msg, {\r\n        title: title,\r\n        variant: variant,\r\n        solid: true\r\n      });\r\n    },\r\n\r\n\r\n    //------- Remove Purchase\r\n\r\n    Delete_Purchase() {\r\n      let id = this.$route.params.id;\r\n      this.$swal({\r\n        title: this.$t(\"Delete.Title\"),\r\n        text: this.$t(\"Delete.Text\"),\r\n        type: \"warning\",\r\n        showCancelButton: true,\r\n        confirmButtonColor: \"#3085d6\",\r\n        cancelButtonColor: \"#d33\",\r\n        cancelButtonText: this.$t(\"Delete.cancelButtonText\"),\r\n        confirmButtonText: this.$t(\"Delete.confirmButtonText\")\r\n      }).then(result => {\r\n        if (result.value) {\r\n          axios\r\n            .delete(\"purchases/\" + id)\r\n            .then(() => {\r\n              this.$swal(\r\n                this.$t(\"Delete.Deleted\"),\r\n                this.$t(\"Delete.PurchaseDeleted\"),\r\n                \"success\"\r\n              );\r\n              this.$router.push({ name: \"index_purchases\" });\r\n            })\r\n            .catch(() => {\r\n              this.$swal(\r\n                this.$t(\"Delete.Failed\"),\r\n                this.$t(\"Delete.Therewassomethingwronge\"),\r\n                \"warning\"\r\n              );\r\n            });\r\n        }\r\n      });\r\n    }\r\n  }, //end Methods\r\n\r\n  //----------------------------- Created function-------------------\r\n\r\n  created: function() {\r\n    this.Get_Details();\r\n  }\r\n};\r\n</script>","import { render } from \"./detail_purchase.vue?vue&type=template&id=5a9da64a\"\nimport script from \"./detail_purchase.vue?vue&type=script&lang=js\"\nexport * from \"./detail_purchase.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","id","scope","page","$t","folder","isLoading","md","currentUserPermissions","includes","purchase","purchase_has_return","title","to","$route","params","Send_Email","Purchase_SMS","Print_Purchase_PDF","print","Delete_Purchase","Ref","lg","sm","supplier_name","supplier_email","supplier_phone","supplier_adr","company","CompanyName","email","CompanyPhone","CompanyAdress","statut","warehouse","payment_status","details","detail","code","name","imei_number","is_imei","currentUser","currency","formatNumber","Net_cost","quantity","unit_purchase","cost","DiscountNet","taxe","total","toFixed","TaxNet","tax_rate","discount","shipping","GrandTotal","paid_amount","due","note","computed","metaInfo","data","variants","subject","message","Purchase_Ref","methods","this","axios","get","responseType","headers","then","response","url","window","URL","createObjectURL","Blob","link","document","createElement","href","setAttribute","body","appendChild","click","setTimeout","catch","$htmlToPaper","number","dec","value","toString","split","formated","length","substr","Get_Details","post","makeToast","error","variant","msg","$root","$bvToast","toast","solid","$swal","text","type","showCancelButton","confirmButtonColor","cancelButtonColor","cancelButtonText","confirmButtonText","result","delete","$router","push","created","__exports__","render"],"sourceRoot":""}