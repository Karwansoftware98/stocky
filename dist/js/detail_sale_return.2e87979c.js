"use strict";(self["webpackChunk"]=self["webpackChunk"]||[]).push([[7047],{18762:(t,e,n)=>{n.r(e),n.d(e,{default:()=>V});var l=n(20641),s=n(90033),r=n(53751);const a={class:"main-content"},u={key:0,class:"loading_page spinner spinner-primary mr-3"},i=(0,l.Lk)("i",{class:"i-Edit"},null,-1),o=(0,l.Lk)("i",{class:"i-File-TXT"},null,-1),c=(0,l.Lk)("i",{class:"i-Billing"},null,-1),d=(0,l.Lk)("i",{class:"i-Close-Window"},null,-1),_={class:"invoice",id:"print_Invoice"},k={class:"invoice-print"},v={class:"font-weight-bold"},m=(0,l.Lk)("hr",null,null,-1),p={class:"font-weight-bold"},b={class:"font-weight-bold"},L={class:"font-weight-bold"},h={key:0,class:"badge badge-outline-success"},f={key:1,class:"badge badge-outline-primary"},$={key:2,class:"badge badge-outline-warning"},g={key:0,class:"badge badge-outline-success"},y={key:1,class:"badge badge-outline-info"},w={class:"font-weight-bold"},C={class:"alert alert-danger"},D={class:"table-responsive"},R={class:"table table-hover table-md"},T={class:"bg-gray-300"},F={scope:"col"},U={scope:"col"},x={scope:"col"},P={scope:"col"},E={scope:"col"},N={scope:"col"},X={scope:"col"},S={class:"offset-md-9 col-md-3 mt-4"},B={class:"table table-striped table-sm"},I={class:"font-weight-bold"},W={class:"font-weight-bold"},G={class:"font-weight-bold"},Q={class:"font-weight-bold"},j={class:"font-weight-bold"},A={class:"font-weight-bold"};function O(t,e,n,O,q,K){const M=(0,l.g2)("breadcumb"),z=(0,l.g2)("router-link"),H=(0,l.g2)("b-col"),J=(0,l.g2)("b-row"),V=(0,l.g2)("b-card");return(0,l.uX)(),(0,l.CE)("div",a,[(0,l.bF)(M,{page:t.$t("ReturnDetail"),folder:t.$t("ListReturns")},null,8,["page","folder"]),q.isLoading?((0,l.uX)(),(0,l.CE)("div",u)):(0,l.Q3)("",!0),q.isLoading?(0,l.Q3)("",!0):((0,l.uX)(),(0,l.Wv)(V,{key:1},{default:(0,l.k6)((()=>[(0,l.bF)(J,null,{default:(0,l.k6)((()=>[(0,l.bF)(H,{md:"12",class:"mb-5"},{default:(0,l.k6)((()=>[t.currentUserPermissions&&t.currentUserPermissions.includes("Sale_Returns_edit")?((0,l.uX)(),(0,l.Wv)(z,{key:0,title:"Edit",class:"btn btn-success btn-icon ripple btn-sm",to:"/app/sale_return/edit/"+t.$route.params.id+"/"+q.sale_return.sale_id},{default:(0,l.k6)((()=>[i,(0,l.Lk)("span",null,(0,s.v_)(t.$t("EditReturn")),1)])),_:1},8,["to"])):(0,l.Q3)("",!0),(0,l.Lk)("button",{onClick:e[0]||(e[0]=t=>K.Return_PDF()),class:"btn btn-primary btn-icon ripple btn-sm"},[o,(0,l.eW)(" PDF ")]),(0,l.Lk)("button",{onClick:e[1]||(e[1]=t=>K.print()),class:"btn btn-warning btn-icon ripple btn-sm"},[c,(0,l.eW)(" "+(0,s.v_)(t.$t("print")),1)]),t.currentUserPermissions&&t.currentUserPermissions.includes("Sale_Returns_delete")?((0,l.uX)(),(0,l.CE)("button",{key:1,onClick:e[2]||(e[2]=t=>K.Delete_Return()),class:"btn btn-danger btn-icon ripple btn-sm"},[d,(0,l.eW)(" "+(0,s.v_)(t.$t("Del")),1)])):(0,l.Q3)("",!0)])),_:1})])),_:1}),(0,l.Lk)("div",_,[(0,l.Lk)("div",k,[(0,l.bF)(J,{class:"justify-content-md-center"},{default:(0,l.k6)((()=>[(0,l.Lk)("h4",v,(0,s.v_)(t.$t("ReturnDetail"))+" : "+(0,s.v_)(q.sale_return.Ref),1)])),_:1}),m,(0,l.bF)(J,{class:"mt-5"},{default:(0,l.k6)((()=>[(0,l.bF)(H,{lg:"4",md:"4",sm:"12",class:"mb-4"},{default:(0,l.k6)((()=>[(0,l.Lk)("h5",p,(0,s.v_)(t.$t("Customer_Info")),1),(0,l.Lk)("div",null,(0,s.v_)(q.sale_return.client_name),1),(0,l.Lk)("div",null,(0,s.v_)(q.sale_return.client_email),1),(0,l.Lk)("div",null,(0,s.v_)(q.sale_return.client_phone),1),(0,l.Lk)("div",null,(0,s.v_)(q.sale_return.client_adr),1)])),_:1}),(0,l.bF)(H,{lg:"4",md:"4",sm:"12",class:"mb-4"},{default:(0,l.k6)((()=>[(0,l.Lk)("h5",b,(0,s.v_)(t.$t("Company_Info")),1),(0,l.Lk)("div",null,(0,s.v_)(q.company.CompanyName),1),(0,l.Lk)("div",null,(0,s.v_)(q.company.email),1),(0,l.Lk)("div",null,(0,s.v_)(q.company.CompanyPhone),1),(0,l.Lk)("div",null,(0,s.v_)(q.company.CompanyAdress),1)])),_:1}),(0,l.bF)(H,{lg:"4",md:"4",sm:"12",class:"mb-4"},{default:(0,l.k6)((()=>[(0,l.Lk)("h5",L,(0,s.v_)(t.$t("Return_Info")),1),(0,l.Lk)("div",null,(0,s.v_)(t.$t("Reference"))+" : "+(0,s.v_)(q.sale_return.Ref),1),(0,l.Lk)("div",null,(0,s.v_)(t.$t("Sale_Ref"))+" : "+(0,s.v_)(q.sale_return.sale_ref),1),(0,l.Lk)("div",null,[(0,l.eW)((0,s.v_)(t.$t("PaymentStatus"))+" : ",1),"paid"==q.sale_return.payment_status?((0,l.uX)(),(0,l.CE)("span",h,(0,s.v_)(t.$t("Paid")),1)):"partial"==q.sale_return.payment_status?((0,l.uX)(),(0,l.CE)("span",f,(0,s.v_)(t.$t("partial")),1)):((0,l.uX)(),(0,l.CE)("span",$,(0,s.v_)(t.$t("Unpaid")),1))]),(0,l.Lk)("div",null,(0,s.v_)(t.$t("warehouse"))+" : "+(0,s.v_)(q.sale_return.warehouse),1),(0,l.Lk)("div",null,[(0,l.eW)((0,s.v_)(t.$t("Status"))+" : ",1),"received"==q.sale_return.statut?((0,l.uX)(),(0,l.CE)("span",g,(0,s.v_)(t.$t("Received")),1)):((0,l.uX)(),(0,l.CE)("span",y,(0,s.v_)(t.$t("Pending")),1))])])),_:1})])),_:1}),(0,l.bF)(J,{class:"mt-3"},{default:(0,l.k6)((()=>[(0,l.bF)(H,{md:"12"},{default:(0,l.k6)((()=>[(0,l.Lk)("h5",w,(0,s.v_)(t.$t("list_product_returns")),1),(0,l.Lk)("div",C,(0,s.v_)(t.$t("products_refunded_alert")),1),(0,l.Lk)("div",D,[(0,l.Lk)("table",R,[(0,l.Lk)("thead",T,[(0,l.Lk)("tr",null,[(0,l.Lk)("th",F,(0,s.v_)(t.$t("ProductName")),1),(0,l.Lk)("th",U,(0,s.v_)(t.$t("Net_Unit_Price")),1),(0,l.Lk)("th",x,(0,s.v_)(t.$t("Qty_return")),1),(0,l.Lk)("th",P,(0,s.v_)(t.$t("UnitPrice")),1),(0,l.Lk)("th",E,(0,s.v_)(t.$t("Discount")),1),(0,l.Lk)("th",N,(0,s.v_)(t.$t("Tax")),1),(0,l.Lk)("th",X,(0,s.v_)(t.$t("SubTotal")),1)])]),(0,l.Lk)("tbody",null,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(q.details,(e=>((0,l.uX)(),(0,l.CE)("tr",null,[(0,l.Lk)("td",null,[(0,l.Lk)("span",null,(0,s.v_)(e.code)+" ("+(0,s.v_)(e.name)+")",1),(0,l.bo)((0,l.Lk)("p",null,(0,s.v_)(t.$t("IMEI_SN"))+" : "+(0,s.v_)(e.imei_number),513),[[r.aG,e.is_imei&&null!==e.imei_number]])]),(0,l.Lk)("td",null,(0,s.v_)(t.currentUser.currency)+" "+(0,s.v_)(K.formatNumber(e.Net_price,3)),1),(0,l.Lk)("td",null,(0,s.v_)(K.formatNumber(e.quantity,2))+" "+(0,s.v_)(e.unit_sale),1),(0,l.Lk)("td",null,(0,s.v_)(t.currentUser.currency)+" "+(0,s.v_)(K.formatNumber(e.price,2)),1),(0,l.Lk)("td",null,(0,s.v_)(t.currentUser.currency)+" "+(0,s.v_)(K.formatNumber(e.DiscountNet,2)),1),(0,l.Lk)("td",null,(0,s.v_)(t.currentUser.currency)+" "+(0,s.v_)(K.formatNumber(e.taxe,2)),1),(0,l.Lk)("td",null,(0,s.v_)(t.currentUser.currency)+" "+(0,s.v_)(e.total.toFixed(2)),1)])))),256))])])])])),_:1}),(0,l.Lk)("div",S,[(0,l.Lk)("table",B,[(0,l.Lk)("tbody",null,[(0,l.Lk)("tr",null,[(0,l.Lk)("td",null,(0,s.v_)(t.$t("OrderTax")),1),(0,l.Lk)("td",null,[(0,l.Lk)("span",null,(0,s.v_)(t.currentUser.currency)+" "+(0,s.v_)(q.sale_return.TaxNet.toFixed(2))+" ("+(0,s.v_)(K.formatNumber(q.sale_return.tax_rate,2))+" %)",1)])]),(0,l.Lk)("tr",null,[(0,l.Lk)("td",null,(0,s.v_)(t.$t("Discount")),1),(0,l.Lk)("td",null,(0,s.v_)(t.currentUser.currency)+" "+(0,s.v_)(q.sale_return.discount.toFixed(2)),1)]),(0,l.Lk)("tr",null,[(0,l.Lk)("td",null,(0,s.v_)(t.$t("Shipping")),1),(0,l.Lk)("td",null,(0,s.v_)(t.currentUser.currency)+" "+(0,s.v_)(q.sale_return.shipping.toFixed(2)),1)]),(0,l.Lk)("tr",null,[(0,l.Lk)("td",null,[(0,l.Lk)("span",I,(0,s.v_)(t.$t("Total")),1)]),(0,l.Lk)("td",null,[(0,l.Lk)("span",W,(0,s.v_)(t.currentUser.currency)+" "+(0,s.v_)(q.sale_return.GrandTotal),1)])]),(0,l.Lk)("tr",null,[(0,l.Lk)("td",null,[(0,l.Lk)("span",G,(0,s.v_)(t.$t("Paid")),1)]),(0,l.Lk)("td",null,[(0,l.Lk)("span",Q,(0,s.v_)(t.currentUser.currency)+" "+(0,s.v_)(q.sale_return.paid_amount),1)])]),(0,l.Lk)("tr",null,[(0,l.Lk)("td",null,[(0,l.Lk)("span",j,(0,s.v_)(t.$t("Due")),1)]),(0,l.Lk)("td",null,[(0,l.Lk)("span",A,(0,s.v_)(t.currentUser.currency)+" "+(0,s.v_)(q.sale_return.due),1)])])])])])])),_:1}),(0,l.bo)((0,l.Lk)("hr",null,null,512),[[r.aG,q.sale_return.note]]),(0,l.bF)(J,{class:"mt-4"},{default:(0,l.k6)((()=>[(0,l.bF)(H,{md:"12"},{default:(0,l.k6)((()=>[(0,l.Lk)("p",null,(0,s.v_)(q.sale_return.note),1)])),_:1})])),_:1})])])])),_:1}))])}var q=n(95353),K=n(5947),M=n.n(K);const z={computed:(0,q.L8)(["currentUserPermissions","currentUser"]),metaInfo:{title:"Detail Sale Return"},data(){return{isLoading:!0,sale_return:{},details:[],company:{},email:{}}},methods:{Return_PDF(){M().start(),M().set(.1);let t=this.$route.params.id;axios.get(`return_sale_pdf/${t}`,{responseType:"blob",headers:{"Content-Type":"application/json"}}).then((t=>{const e=window.URL.createObjectURL(new Blob([t.data])),n=document.createElement("a");n.href=e,n.setAttribute("download","Sale_Return-"+this.sale_return.Ref+".pdf"),document.body.appendChild(n),n.click(),setTimeout((()=>M().done()),500)})).catch((()=>{setTimeout((()=>M().done()),500)}))},print(){this.$htmlToPaper("print_Invoice")},makeToast(t,e,n){this.$root.$bvToast.toast(e,{title:n,variant:t,solid:!0})},formatNumber(t,e){const n=("string"===typeof t?t:t.toString()).split(".");if(e<=0)return n[0];let l=n[1]||"";if(l.length>e)return`${n[0]}.${l.substr(0,e)}`;while(l.length<e)l+="0";return`${n[0]}.${l}`},Get_Details(){let t=this.$route.params.id;axios.get(`returns/sale/${t}`).then((t=>{this.sale_return=t.data.sale_Return,this.details=t.data.details,this.company=t.data.company,this.isLoading=!1})).catch((t=>{setTimeout((()=>{this.isLoading=!1}),500)}))},Delete_Return(){let t=this.$route.params.id;this.$swal({title:this.$t("Delete.Title"),text:this.$t("Delete.Text"),type:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",cancelButtonText:this.$t("Delete.cancelButtonText"),confirmButtonText:this.$t("Delete.confirmButtonText")}).then((e=>{e.value&&axios.delete("returns/sale/"+t).then((()=>{this.$swal(this.$t("Delete.Deleted"),this.$t("Delete.ReturnDeleted"),"success"),this.$router.push({name:"index_sale_return"})})).catch((()=>{this.$swal(this.$t("Delete.Failed"),this.$t("Delete.Therewassomethingwronge"),"warning")}))}))}},created:function(){this.Get_Details()}};var H=n(66262);const J=(0,H.A)(z,[["render",O]]),V=J}}]);
//# sourceMappingURL=detail_sale_return.2e87979c.js.map