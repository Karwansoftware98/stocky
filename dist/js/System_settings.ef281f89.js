"use strict";(self["webpackChunk"]=self["webpackChunk"]||[]).push([[3452],{25875:(e,a,t)=>{t.r(a),t.d(a,{default:()=>C});var l=t(20641),o=t(53751),s=t(90033);const d={class:"main-content"},i={key:0,class:"loading_page spinner spinner-primary mr-3"},n=["state"],r=["state","placeholder"],u={class:"checkbox checkbox-primary mb-3"},m=(0,l.Lk)("span",{class:"checkmark"},null,-1),b=["state","placeholder"],c={class:"checkbox checkbox-primary mb-3"},_=(0,l.Lk)("span",{class:"checkmark"},null,-1),g=(0,l.Lk)("i",{class:"i-Yes me-2 font-weight-bold"},null,-1);function p(e,a,t,p,f,h){const k=(0,l.g2)("breadcumb"),v=(0,l.g2)("v-select"),F=(0,l.g2)("b-form-group"),y=(0,l.g2)("b-col"),C=(0,l.g2)("b-form-input"),$=(0,l.g2)("b-form-invalid-feedback"),S=(0,l.g2)("validation-provider"),V=(0,l.g2)("b-button"),w=(0,l.g2)("b-row"),L=(0,l.g2)("b-card-body"),U=(0,l.g2)("b-card"),W=(0,l.g2)("b-form"),P=(0,l.g2)("validation-observer");return(0,l.uX)(),(0,l.CE)("div",d,[(0,l.bF)(k,{page:e.$t("SystemSettings"),folder:e.$t("Settings")},null,8,["page","folder"]),f.isLoading?((0,l.uX)(),(0,l.CE)("div",i)):(0,l.Q3)("",!0),f.isLoading?(0,l.Q3)("",!0):((0,l.uX)(),(0,l.Wv)(P,{key:1,ref:"form_setting"},{default:(0,l.k6)((()=>[(0,l.bF)(W,{onSubmit:(0,o.D$)(h.Submit_Setting,["prevent"])},{default:(0,l.k6)((()=>[(0,l.bF)(w,null,{default:(0,l.k6)((()=>[(0,l.bF)(y,{lg:"12",md:"12",sm:"12"},{default:(0,l.k6)((()=>[(0,l.bF)(U,{"no-body":"",header:e.$t("SystemSettings")},{default:(0,l.k6)((()=>[(0,l.bF)(L,null,{default:(0,l.k6)((()=>[(0,l.bF)(w,null,{default:(0,l.k6)((()=>[(0,l.bF)(y,{lg:"4",md:"4",sm:"12"},{default:(0,l.k6)((()=>[(0,l.bF)(F,{label:e.$t("DefaultCurrency")},{default:(0,l.k6)((()=>[(0,l.bF)(v,{modelValue:f.setting.currency_id,"onUpdate:modelValue":a[0]||(a[0]=e=>f.setting.currency_id=e),reduce:e=>e.value,placeholder:e.$t("Choose_Currency"),options:f.currencies.map((e=>({label:e.name,value:e.id})))},null,8,["modelValue","reduce","placeholder","options"])])),_:1},8,["label"])])),_:1}),(0,l.bF)(y,{lg:"4",md:"4",sm:"12"},{default:(0,l.k6)((()=>[(0,l.bF)(S,{name:"Email",rules:{required:!0}},{default:(0,l.k6)((t=>[(0,l.bF)(F,{label:e.$t("DefaultEmail")+" *"},{default:(0,l.k6)((()=>[(0,l.bF)(C,{state:h.getValidationState(t),"aria-describedby":"Email-feedback",label:"Email",placeholder:e.$t("DefaultEmail"),modelValue:f.setting.email,"onUpdate:modelValue":a[1]||(a[1]=e=>f.setting.email=e)},null,8,["state","placeholder","modelValue"]),(0,l.bF)($,{id:"Email-feedback"},{default:(0,l.k6)((()=>[(0,l.eW)((0,s.v_)(t.errors[0]),1)])),_:2},1024)])),_:2},1032,["label"])])),_:1})])),_:1}),(0,l.bF)(y,{lg:"4",md:"4",sm:"12"},{default:(0,l.k6)((()=>[(0,l.bF)(S,{name:"Logo",ref:"Logo",rules:"mimes:image/*|size:200"},{default:(0,l.k6)((()=>[(0,l.bF)(F,{"slot-scope":"{validate, valid, errors }",label:e.$t("ChangeLogo")},{default:(0,l.k6)((()=>[(0,l.Lk)("input",{state:!e.errors[0]&&(!!e.valid||null),class:(0,s.C4)({"is-invalid":!!e.errors.length}),onChange:a[2]||(a[2]=(...e)=>h.onFileSelected&&h.onFileSelected(...e)),label:"Choose Logo",type:"file"},null,42,n),(0,l.bF)($,{id:"Logo-feedback"},{default:(0,l.k6)((()=>[(0,l.eW)((0,s.v_)(e.errors[0]),1)])),_:1})])),_:1},8,["label"])])),_:1},512)])),_:1}),(0,l.bF)(y,{lg:"4",md:"4",sm:"12"},{default:(0,l.k6)((()=>[(0,l.bF)(S,{name:"Company Name",rules:{required:!0}},{default:(0,l.k6)((t=>[(0,l.bF)(F,{label:e.$t("CompanyName")+" *"},{default:(0,l.k6)((()=>[(0,l.bF)(C,{state:h.getValidationState(t),"aria-describedby":"Company-feedback",label:"Company Name",placeholder:e.$t("CompanyName"),modelValue:f.setting.CompanyName,"onUpdate:modelValue":a[3]||(a[3]=e=>f.setting.CompanyName=e)},null,8,["state","placeholder","modelValue"]),(0,l.bF)($,{id:"Company-feedback"},{default:(0,l.k6)((()=>[(0,l.eW)((0,s.v_)(t.errors[0]),1)])),_:2},1024)])),_:2},1032,["label"])])),_:1})])),_:1}),(0,l.bF)(y,{lg:"4",md:"4",sm:"12"},{default:(0,l.k6)((()=>[(0,l.bF)(S,{name:"Company Phone",rules:{required:!0}},{default:(0,l.k6)((t=>[(0,l.bF)(F,{label:e.$t("CompanyPhone")+" *"},{default:(0,l.k6)((()=>[(0,l.bF)(C,{state:h.getValidationState(t),"aria-describedby":"Phone-feedback",label:"Company Phone",placeholder:e.$t("CompanyPhone"),modelValue:f.setting.CompanyPhone,"onUpdate:modelValue":a[4]||(a[4]=e=>f.setting.CompanyPhone=e)},null,8,["state","placeholder","modelValue"]),(0,l.bF)($,{id:"Phone-feedback"},{default:(0,l.k6)((()=>[(0,l.eW)((0,s.v_)(t.errors[0]),1)])),_:2},1024)])),_:2},1032,["label"])])),_:1})])),_:1}),(0,l.bF)(y,{lg:"4",md:"4",sm:"12"},{default:(0,l.k6)((()=>[(0,l.bF)(S,{name:"developed by",rules:{required:!0}},{default:(0,l.k6)((t=>[(0,l.bF)(F,{label:e.$t("developed_by")+" *"},{default:(0,l.k6)((()=>[(0,l.bF)(C,{state:h.getValidationState(t),"aria-describedby":"developed_by-feedback",modelValue:f.setting.developed_by,"onUpdate:modelValue":a[5]||(a[5]=e=>f.setting.developed_by=e),class:"form-control"},null,8,["state","modelValue"]),(0,l.bF)($,{id:"developed_by-feedback"},{default:(0,l.k6)((()=>[(0,l.eW)((0,s.v_)(t.errors[0]),1)])),_:2},1024)])),_:2},1032,["label"])])),_:1})])),_:1}),(0,l.bF)(y,{lg:"4",md:"4",sm:"12"},{default:(0,l.k6)((()=>[(0,l.bF)(S,{name:"footer",rules:{required:!0}},{default:(0,l.k6)((t=>[(0,l.bF)(F,{label:e.$t("footer")+" *"},{default:(0,l.k6)((()=>[(0,l.bF)(C,{state:h.getValidationState(t),"aria-describedby":"footer-feedback",modelValue:f.setting.footer,"onUpdate:modelValue":a[6]||(a[6]=e=>f.setting.footer=e),class:"form-control"},null,8,["state","modelValue"]),(0,l.bF)($,{id:"footer-feedback"},{default:(0,l.k6)((()=>[(0,l.eW)((0,s.v_)(t.errors[0]),1)])),_:2},1024)])),_:2},1032,["label"])])),_:1})])),_:1}),(0,l.bF)(y,{lg:"4",md:"4",sm:"12"},{default:(0,l.k6)((()=>[(0,l.bF)(S,{name:"DefaultLanguage",rules:{required:!0}},{default:(0,l.k6)((()=>[(0,l.bF)(F,{"slot-scope":"{ valid, errors }",label:e.$t("DefaultLanguage")+" *"},{default:(0,l.k6)((()=>[(0,l.bF)(v,{class:(0,s.C4)({"is-invalid":!!e.errors.length}),state:!e.errors[0]&&(!!e.valid||null),modelValue:f.setting.default_language,"onUpdate:modelValue":a[7]||(a[7]=e=>f.setting.default_language=e),reduce:e=>e.value,placeholder:e.$t("DefaultLanguage"),options:[{label:"English",value:"en"},{label:"French",value:"fr"},{label:"Arabic",value:"ar"},{label:"Turkish",value:"tur"},{label:"Simplified Chinese",value:"sm_ch"},{label:"ThaÃ¯",value:"thai"},{label:"Hindi",value:"hn"},{label:"German",value:"de"},{label:"Spanish",value:"es"},{label:"Italien",value:"it"},{label:"Indonesian",value:"Ind"},{label:"Traditional Chinese",value:"tr_ch"},{label:"Russian",value:"ru"},{label:"Vietnamese",value:"vn"},{label:"Korean",value:"kr"},{label:"Bangla",value:"ba"},{label:"Portuguese",value:"br"},{label:"Danish",value:"da"}]},null,8,["class","state","modelValue","reduce","placeholder"]),(0,l.bF)($,null,{default:(0,l.k6)((()=>[(0,l.eW)((0,s.v_)(e.errors[0]),1)])),_:1})])),_:1},8,["label"])])),_:1})])),_:1}),(0,l.bF)(y,{lg:"4",md:"4",sm:"12"},{default:(0,l.k6)((()=>[(0,l.bF)(F,{label:e.$t("DefaultCustomer")},{default:(0,l.k6)((()=>[(0,l.bF)(v,{modelValue:f.setting.client_id,"onUpdate:modelValue":a[8]||(a[8]=e=>f.setting.client_id=e),reduce:e=>e.value,placeholder:e.$t("Choose_Customer"),options:f.clients.map((e=>({label:e.name,value:e.id})))},null,8,["modelValue","reduce","placeholder","options"])])),_:1},8,["label"])])),_:1}),(0,l.bF)(y,{lg:"4",md:"4",sm:"12"},{default:(0,l.k6)((()=>[(0,l.bF)(F,{label:e.$t("DefaultWarehouse")},{default:(0,l.k6)((()=>[(0,l.bF)(v,{modelValue:f.setting.warehouse_id,"onUpdate:modelValue":a[9]||(a[9]=e=>f.setting.warehouse_id=e),reduce:e=>e.value,placeholder:e.$t("Choose_Warehouse"),options:f.warehouses.map((e=>({label:e.name,value:e.id})))},null,8,["modelValue","reduce","placeholder","options"])])),_:1},8,["label"])])),_:1}),(0,l.bF)(y,{lg:"4",md:"4",sm:"12"},{default:(0,l.k6)((()=>[(0,l.bF)(F,{label:e.$t("Default_SMS_Gateway")},{default:(0,l.k6)((()=>[(0,l.bF)(v,{modelValue:f.setting.sms_gateway,"onUpdate:modelValue":a[10]||(a[10]=e=>f.setting.sms_gateway=e),reduce:e=>e.value,placeholder:e.$t("Choose_SMS_Gateway"),options:f.sms_gateway.map((e=>({label:e.title,value:e.id})))},null,8,["modelValue","reduce","placeholder","options"])])),_:1},8,["label"])])),_:1}),(0,l.bF)(y,{lg:"4",md:"4",sm:"12"},{default:(0,l.k6)((()=>[(0,l.bF)(F,{label:e.$t("Time_Zone")},{default:(0,l.k6)((()=>[(0,l.bF)(v,{onInput:h.Selected_Time_Zone,placeholder:e.$t("Time_Zone"),modelValue:f.setting.timezone,"onUpdate:modelValue":a[11]||(a[11]=e=>f.setting.timezone=e),reduce:e=>e.value,options:f.zones_array.map((e=>({label:e.label,value:e.zone})))},null,8,["onInput","placeholder","modelValue","reduce","options"])])),_:1},8,["label"])])),_:1}),(0,l.bF)(y,{lg:"12",md:"12",sm:"12"},{default:(0,l.k6)((()=>[(0,l.bF)(S,{name:"Adress",rules:{required:!0}},{default:(0,l.k6)((t=>[(0,l.bF)(F,{label:e.$t("Adress")+" *"},{default:(0,l.k6)((()=>[(0,l.bo)((0,l.Lk)("textarea",{state:h.getValidationState(t),"aria-describedby":"Adress-feedback","onUpdate:modelValue":a[12]||(a[12]=e=>f.setting.CompanyAdress=e),class:"form-control",placeholder:e.$t("Afewwords")},null,8,r),[[o.Jo,f.setting.CompanyAdress]]),(0,l.bF)($,{id:"Adress-feedback"},{default:(0,l.k6)((()=>[(0,l.eW)((0,s.v_)(t.errors[0]),1)])),_:2},1024)])),_:2},1032,["label"])])),_:1})])),_:1}),(0,l.bF)(y,{md:"2",sm:"2",class:"mt-4 mb-4"},{default:(0,l.k6)((()=>[(0,l.Lk)("label",u,[(0,l.bo)((0,l.Lk)("input",{type:"checkbox","onUpdate:modelValue":a[13]||(a[13]=e=>f.setting.is_invoice_footer=e)},null,512),[[o.lH,f.setting.is_invoice_footer]]),(0,l.Lk)("h5",null,(0,s.v_)(e.$t("invoice_footer")),1),m])])),_:1}),f.setting.is_invoice_footer?((0,l.uX)(),(0,l.Wv)(y,{key:0,md:"6",sm:"6",class:"mt-4 mb-4"},{default:(0,l.k6)((()=>[(0,l.bF)(S,{name:"invoice_footer",rules:{required:!0}},{default:(0,l.k6)((t=>[(0,l.bF)(F,{label:e.$t("invoice_footer")+" *"},{default:(0,l.k6)((()=>[(0,l.bo)((0,l.Lk)("textarea",{state:h.getValidationState(t),"aria-describedby":"invoice_footer-feedback","onUpdate:modelValue":a[14]||(a[14]=e=>f.setting.invoice_footer=e),class:"form-control",placeholder:e.$t("invoice_footer")},null,8,b),[[o.Jo,f.setting.invoice_footer]]),(0,l.bF)($,{id:"invoice_footer-feedback"},{default:(0,l.k6)((()=>[(0,l.eW)((0,s.v_)(t.errors[0]),1)])),_:2},1024)])),_:2},1032,["label"])])),_:1})])),_:1})):(0,l.Q3)("",!0),(0,l.bF)(y,{md:"4",class:"mt-4 mb-4"},{default:(0,l.k6)((()=>[(0,l.Lk)("label",c,[(0,l.bo)((0,l.Lk)("input",{type:"checkbox","onUpdate:modelValue":a[15]||(a[15]=e=>f.setting.quotation_with_stock=e)},null,512),[[o.lH,f.setting.quotation_with_stock]]),(0,l.Lk)("h5",null,(0,s.v_)(e.$t("Create_Quotation_with_Stock")),1),_])])),_:1}),(0,l.bF)(y,{md:"12"},{default:(0,l.k6)((()=>[(0,l.bF)(F,null,{default:(0,l.k6)((()=>[(0,l.bF)(V,{variant:"primary",type:"submit"},{default:(0,l.k6)((()=>[g,(0,l.eW)(" "+(0,s.v_)(e.$t("submit")),1)])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})])),_:1},8,["header"])])),_:1})])),_:1})])),_:1},8,["onSubmit"])])),_:1},512)),f.isLoading?(0,l.Q3)("",!0):((0,l.uX)(),(0,l.Wv)(W,{key:2,onSubmit:(0,o.D$)(h.Clear_Cache,["prevent"])},{default:(0,l.k6)((()=>[(0,l.bF)(w,{class:"mt-5"},{default:(0,l.k6)((()=>[(0,l.bF)(y,{lg:"12",md:"12",sm:"12"},{default:(0,l.k6)((()=>[(0,l.bF)(U,{"no-body":"",header:e.$t("Clear_Cache")},{default:(0,l.k6)((()=>[(0,l.bF)(L,null,{default:(0,l.k6)((()=>[(0,l.bF)(w,null,{default:(0,l.k6)((()=>[(0,l.bF)(y,{md:"12"},{default:(0,l.k6)((()=>[(0,l.bF)(F,null,{default:(0,l.k6)((()=>[(0,l.bF)(V,{variant:"primary",onClick:a[16]||(a[16]=e=>h.Clear_Cache())},{default:(0,l.k6)((()=>[(0,l.eW)((0,s.v_)(e.$t("Clear_Cache")),1)])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})])),_:1},8,["header"])])),_:1})])),_:1})])),_:1},8,["onSubmit"]))])}var f=t(95353),h=t(5947),k=t.n(h);const v={metaInfo:{title:"System Settings"},data(){return{isLoading:!0,data:new FormData,settings:[],currencies:[],clients:[],warehouses:[],sms_gateway:[],zones_array:[],setting:{client_id:"",warehouse_id:"",currency_id:"",email:"",logo:"",CompanyName:"",CompanyPhone:"",CompanyAdress:"",footer:"",developed_by:"",default_language:"",sms_gateway:"",is_invoice_footer:"",invoice_footer:"",quotation_with_stock:""}}},methods:{...(0,f.i0)(["refreshUserPermissions"]),SetLocal(e){this.$i18n.locale=e,this.$store.dispatch("language/setLanguage",e),Fire.$emit("ChangeLanguage")},Submit_Setting(){this.$refs.form_setting.validate().then((e=>{e?this.Update_Settings():this.makeToast("danger",this.$t("Please_fill_the_form_correctly"),this.$t("Failed"))}))},makeToast(e,a,t){this.$root.$bvToast.toast(a,{title:t,variant:e,solid:!0})},getValidationState({dirty:e,validated:a,valid:t=null}){return e||a?t:null},async onFileSelected(e){const{valid:a}=await this.$refs.Logo.validate(e);this.setting.logo=a?e.target.files[0]:""},Selected_Time_Zone(e){null===e&&(this.setting.timezone="")},Update_Settings(){k().start(),k().set(.1);var e=this;e.data.append("client",e.setting.client_id),e.data.append("warehouse",e.setting.warehouse_id),e.data.append("currency",e.setting.currency_id),e.data.append("email",e.setting.email),e.data.append("logo",e.setting.logo),e.data.append("CompanyName",e.setting.CompanyName),e.data.append("CompanyPhone",e.setting.CompanyPhone),e.data.append("CompanyAdress",e.setting.CompanyAdress),e.data.append("footer",e.setting.footer),e.data.append("developed_by",e.setting.developed_by),e.data.append("default_language",e.setting.default_language),e.data.append("sms_gateway",e.setting.sms_gateway),e.data.append("is_invoice_footer",e.setting.is_invoice_footer),e.data.append("invoice_footer",e.setting.invoice_footer),e.data.append("quotation_with_stock",e.setting.quotation_with_stock),e.data.append("timezone",e.setting.timezone),e.data.append("_method","put"),axios.post("settings/"+e.setting.id,e.data).then((a=>{Fire.$emit("Event_Setting"),this.makeToast("success",this.$t("Successfully_Updated"),this.$t("Success")),this.refreshUserPermissions(),k().done(),this.SetLocal(e.setting.default_language)})).catch((e=>{this.makeToast("danger",this.$t("InvalidData"),this.$t("Failed")),k().done()}))},Clear_Cache(){k().start(),k().set(.1),axios.get("clear_cache").then((e=>{this.makeToast("success",this.$t("Cache_cleared_successfully"),this.$t("Success")),k().done()})).catch((e=>{k().done(),this.makeToast("danger",this.$t("Failed_to_clear_cache"),this.$t("Failed"))}))},Get_Settings(){axios.get("get_Settings_data").then((e=>{this.setting=e.data.settings,this.currencies=e.data.currencies,this.clients=e.data.clients,this.warehouses=e.data.warehouses,this.sms_gateway=e.data.sms_gateway,this.zones_array=e.data.zones_array,this.isLoading=!1})).catch((e=>{setTimeout((()=>{this.isLoading=!1}),500)}))}},created:function(){this.Get_Settings(),Fire.$on("Event_Setting",(()=>{this.Get_Settings()}))}};var F=t(66262);const y=(0,F.A)(v,[["render",p]]),C=y}}]);
//# sourceMappingURL=System_settings.ef281f89.js.map