{"version":3,"file":"js/payments_sales.b94cc754.js","mappings":"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","sources":["webpack:///./src/views/app/pages/reports/payments/payments_sales.vue","webpack:///./src/views/app/pages/reports/payments/payments_sales.vue?185b"],"sourcesContent":["<template>\r\n  <div class=\"main-content\">\r\n    <breadcumb :page=\"$t('SalesInvoice')\" :folder=\"$t('Reports')\"/>\r\n\r\n    <div v-if=\"isLoading\" class=\"loading_page spinner spinner-primary mr-3\"></div>\r\n\r\n      <b-col md=\"12\" class=\"text-center\" v-if=\"!isLoading\">\r\n        <date-range-picker \r\n          v-model=\"dateRange\" \r\n          :startDate=\"startDate\" \r\n          :endDate=\"endDate\" \r\n           @update=\"Submit_filter_dateRange\"\r\n          :locale-data=\"locale\" > \r\n\r\n          <template v-slot:input=\"picker\" style=\"min-width: 350px;\">\r\n              {{ picker.startDate.toJSON().slice(0, 10)}} - {{ picker.endDate.toJSON().slice(0, 10)}}\r\n          </template>        \r\n        </date-range-picker>\r\n      </b-col>\r\n\r\n    <b-card class=\"wrapper\" v-if=\"!isLoading\">\r\n      <vue-good-table\r\n        mode=\"remote\"\r\n        :columns=\"columns\"\r\n        :totalRows=\"totalRows\"\r\n        :rows=\"rows\"\r\n        :group-options=\"{\r\n          enabled: true,\r\n          headerPosition: 'bottom',\r\n        }\"\r\n        @on-page-change=\"onPageChange\"\r\n        @on-per-page-change=\"onPerPageChange\"\r\n        @on-sort-change=\"onSortChange\"\r\n        @on-search=\"onSearch\"\r\n        :search-options=\"{\r\n        placeholder: $t('Search_this_table'),\r\n        enabled: true,\r\n      }\"\r\n        :pagination-options=\"{\r\n        enabled: true,\r\n        mode: 'records',\r\n        nextLabel: 'next',\r\n        prevLabel: 'prev',\r\n      }\"\r\n        styleClass=\"table-hover tableOne vgt-table\"\r\n      >\r\n        <div slot=\"table-actions\" class=\"mt-2 mb-3\">\r\n          <b-button variant=\"outline-info ripple m-1\" size=\"sm\" v-b-toggle.sidebar-right>\r\n            <i class=\"i-Filter-2\"></i>\r\n            {{ $t(\"Filter\") }}\r\n          </b-button>\r\n          <b-button @click=\"Payment_PDF()\" size=\"sm\" variant=\"outline-success ripple m-1\">\r\n            <i class=\"i-File-Copy\"></i> PDF\r\n          </b-button>\r\n          <vue-excel-xlsx\r\n              class=\"btn btn-sm btn-outline-danger ripple m-1\"\r\n              :data=\"payments\"\r\n              :columns=\"columns\"\r\n              :file-name=\"'payments'\"\r\n              :file-type=\"'xlsx'\"\r\n              :sheet-name=\"'payments'\"\r\n              >\r\n              <i class=\"i-File-Excel\"></i> EXCEL\r\n          </vue-excel-xlsx>\r\n        </div>\r\n      </vue-good-table>\r\n    </b-card>\r\n\r\n    <!-- Sidebar Filter -->\r\n    <b-sidebar id=\"sidebar-right\" :title=\"$t('Filter')\" bg-variant=\"white\" right shadow>\r\n      <div class=\"px-3 py-2\">\r\n        <b-row>\r\n          <!-- Reference -->\r\n          <b-col md=\"12\">\r\n            <b-form-group :label=\"$t('Reference')\">\r\n              <b-form-input label=\"Reference\" :placeholder=\"$t('Reference')\" v-model=\"Filter_Ref\"></b-form-input>\r\n            </b-form-group>\r\n          </b-col>\r\n\r\n          <!-- Customers  -->\r\n          <b-col md=\"12\">\r\n            <b-form-group :label=\"$t('Customer')\">\r\n              <v-select\r\n                :reduce=\"label => label.value\"\r\n                :placeholder=\"$t('Choose_Customer')\"\r\n                v-model=\"Filter_client\"\r\n                :options=\"clients.map(clients => ({label: clients.name, value: clients.id}))\"\r\n              />\r\n            </b-form-group>\r\n          </b-col>\r\n\r\n          <!-- Sale  -->\r\n          <b-col md=\"12\">\r\n            <b-form-group :label=\"$t('Sale')\">\r\n              <v-select\r\n                :reduce=\"label => label.value\"\r\n                :placeholder=\"$t('PleaseSelect')\"\r\n                v-model=\"Filter_sale\"\r\n                :options=\"sales.map(sales => ({label: sales.Ref, value: sales.id}))\"\r\n              />\r\n            </b-form-group>\r\n          </b-col>\r\n\r\n          <!-- Payment choice -->\r\n          <b-col md=\"12\">\r\n            <b-form-group :label=\"$t('Paymentchoice')\">\r\n              <v-select\r\n                v-model=\"Filter_Reg\"\r\n                :reduce=\"label => label.value\"\r\n                :placeholder=\"$t('PleaseSelect')\"\r\n                :options=\"\r\n                          [\r\n                          {label: 'Cash', value: 'Cash'},\r\n                          {label: 'cheque', value: 'cheque'},\r\n                          {label: 'TPE', value: 'tpe'},\r\n                          {label: 'Western Union', value: 'Western Union'},\r\n                          {label: 'bank transfer', value: 'bank transfer'},\r\n                          {label: 'credit card', value: 'credit card'},\r\n                          {label: 'other', value: 'other'},\r\n                          ]\"\r\n              ></v-select>\r\n            </b-form-group>\r\n          </b-col>\r\n\r\n          <b-col md=\"6\" sm=\"12\">\r\n            <b-button\r\n              @click=\"Payments_Sales(serverParams.page)\"\r\n              variant=\"primary ripple m-1\"\r\n              size=\"sm\"\r\n              block\r\n            >\r\n              <i class=\"i-Filter-2\"></i>\r\n              {{ $t(\"Filter\") }}\r\n            </b-button>\r\n          </b-col>\r\n          <b-col md=\"6\" sm=\"12\">\r\n            <b-button @click=\"Reset_Filter()\" variant=\"danger ripple m-1\" size=\"sm\" block>\r\n              <i class=\"i-Power-2\"></i>\r\n              {{ $t(\"Reset\") }}\r\n            </b-button>\r\n          </b-col>\r\n        </b-row>\r\n      </div>\r\n    </b-sidebar>\r\n  </div>\r\n</template>\r\n\r\n\r\n<script>\r\nimport NProgress from \"nprogress\";\r\nimport jsPDF from \"jspdf\";\r\nimport \"jspdf-autotable\";\r\nimport DateRangePicker from 'vue2-daterange-picker'\r\n//you need to import the CSS manually\r\nimport 'vue2-daterange-picker/dist/vue2-daterange-picker.css'\r\nimport moment from 'moment'\r\n\r\nexport default {\r\n  metaInfo: {\r\n    title: \"Payment Sales\"\r\n  },\r\n  components: { DateRangePicker },\r\n\r\n  data() {\r\n    return {\r\n      isLoading: true,\r\n      serverParams: {\r\n        sort: {\r\n          field: \"id\",\r\n          type: \"desc\"\r\n        },\r\n        page: 1,\r\n        perPage: 10\r\n      },\r\n      limit: \"10\",\r\n      search: \"\",\r\n      totalRows: \"\",\r\n      Filter_client: \"\",\r\n      Filter_Ref: \"\",\r\n      Filter_sale: \"\",\r\n      Filter_Reg: \"\",\r\n      payments: [],\r\n      clients: [],\r\n      rows: [{\r\n          Reglement: 'Total',\r\n         \r\n          children: [\r\n             \r\n          ],\r\n      },],\r\n      sales: [],\r\n      today_mode: true,\r\n      startDate: \"\", \r\n      endDate: \"\", \r\n      dateRange: { \r\n       startDate: \"\", \r\n       endDate: \"\" \r\n      }, \r\n      locale:{ \r\n          //separator between the two ranges apply\r\n          Label: \"Apply\", \r\n          cancelLabel: \"Cancel\", \r\n          weekLabel: \"W\", \r\n          customRangeLabel: \"Custom Range\", \r\n          daysOfWeek: moment.weekdaysMin(), \r\n          //array of days - see moment documenations for details \r\n          monthNames: moment.monthsShort(), //array of month names - see moment documenations for details \r\n          firstDay: 1 //ISO first day of week - see moment documenations for details\r\n        },\r\n    };\r\n  },\r\n\r\n  computed: {\r\n    columns() {\r\n      return [\r\n        {\r\n          label: this.$t(\"date\"),\r\n          field: \"date\",\r\n          tdClass: \"text-left\",\r\n          thClass: \"text-left\"\r\n        },\r\n        {\r\n          label: this.$t(\"Reference\"),\r\n          field: \"Ref\",\r\n          tdClass: \"text-left\",\r\n          thClass: \"text-left\"\r\n        },\r\n        {\r\n          label: this.$t(\"Sale\"),\r\n          field: \"Ref_Sale\",\r\n          tdClass: \"text-left\",\r\n          thClass: \"text-left\"\r\n        },\r\n        {\r\n          label: this.$t(\"Customer\"),\r\n          field: \"client_name\",\r\n          tdClass: \"text-left\",\r\n          thClass: \"text-left\"\r\n        },\r\n        {\r\n          label: this.$t(\"ModePaiement\"),\r\n          field: \"Reglement\",\r\n          tdClass: \"text-left\",\r\n          thClass: \"text-left\"\r\n        },\r\n        {\r\n          label: this.$t(\"Amount\"),\r\n          field: \"montant\",\r\n          type: \"decimal\",\r\n          headerField: this.sumCount,\r\n          tdClass: \"text-left\",\r\n          thClass: \"text-left\"\r\n        }\r\n      ];\r\n    }\r\n  },\r\n  methods: {\r\n\r\n    sumCount(rowObj) {\r\n     \r\n    \tlet sum = 0;\r\n      for (let i = 0; i < rowObj.children.length; i++) {\r\n        sum += rowObj.children[i].montant;\r\n      }\r\n      return sum;\r\n    },\r\n\r\n    //---- update Params Table\r\n    updateParams(newProps) {\r\n      this.serverParams = Object.assign({}, this.serverParams, newProps);\r\n    },\r\n\r\n    //---- Event Page Change\r\n    onPageChange({ currentPage }) {\r\n      if (this.serverParams.page !== currentPage) {\r\n        this.updateParams({ page: currentPage });\r\n        this.Payments_Sales(currentPage);\r\n      }\r\n    },\r\n\r\n    //---- Event Per Page Change\r\n    onPerPageChange({ currentPerPage }) {\r\n      if (this.limit !== currentPerPage) {\r\n        this.limit = currentPerPage;\r\n        this.updateParams({ page: 1, perPage: currentPerPage });\r\n        this.Payments_Sales(1);\r\n      }\r\n    },\r\n\r\n    //---- Event on Sort Change\r\n    onSortChange(params) {\r\n      let field = \"\";\r\n      if (params[0].field == \"Ref_Sale\") {\r\n        field = \"sale_id\";\r\n      } else {\r\n        field = params[0].field;\r\n      }\r\n      this.updateParams({\r\n        sort: {\r\n          type: params[0].type,\r\n          field: field\r\n        }\r\n      });\r\n      this.Payments_Sales(this.serverParams.page);\r\n    },\r\n\r\n    //---- Event on Search\r\n\r\n    onSearch(value) {\r\n      this.search = value.searchTerm;\r\n      this.Payments_Sales(this.serverParams.page);\r\n    },\r\n\r\n    //------ Reset Filter\r\n    Reset_Filter() {\r\n      this.search = \"\";\r\n      this.Filter_client = \"\";\r\n      this.Filter_Ref = \"\";\r\n      this.Filter_sale = \"\";\r\n      this.Filter_Reg = \"\";\r\n      this.Payments_Sales(this.serverParams.page);\r\n    },\r\n\r\n    //---------------------------------------- Set To Strings-------------------------\\\\\r\n    setToStrings() {\r\n      // Simply replaces null values with strings=''\r\n      if (this.Filter_client === null) {\r\n        this.Filter_client = \"\";\r\n      } else if (this.Filter_sale === null) {\r\n        this.Filter_sale = \"\";\r\n      }\r\n    },\r\n\r\n    //------------------------ Payment Sales PDF -----------------------\\\\\r\n    Payment_PDF() {\r\n      var self = this;\r\n\r\n      let pdf = new jsPDF(\"p\", \"pt\");\r\n      let columns = [\r\n        { title: \"Date\", dataKey: \"date\" },\r\n        { title: \"Ref\", dataKey: \"Ref\" },\r\n        { title: \"Sale\", dataKey: \"Ref_Sale\" },\r\n        { title: \"Client\", dataKey: \"client_name\" },\r\n        { title: \"Paid by\", dataKey: \"Reglement\" },\r\n        { title: \"Amount\", dataKey: \"montant\" }\r\n      ];\r\n      pdf.autoTable(columns, self.payments);\r\n      pdf.text(\"Payments Sales\", 40, 25);\r\n      pdf.save(\"Payments_Sales.pdf\");\r\n    },\r\n\r\n     //----------------------------- Submit Date Picker -------------------\\\\\r\n    Submit_filter_dateRange() {\r\n      var self = this;\r\n      self.startDate =  self.dateRange.startDate.toJSON().slice(0, 10);\r\n      self.endDate = self.dateRange.endDate.toJSON().slice(0, 10);\r\n      self.Payments_Sales(1);\r\n    },\r\n\r\n\r\n    get_data_loaded() {\r\n      var self = this;\r\n      if (self.today_mode) {\r\n        let today = new Date()\r\n\r\n        self.startDate = today.getFullYear();\r\n        self.endDate = new Date().toJSON().slice(0, 10);\r\n\r\n        self.dateRange.startDate = today.getFullYear();\r\n        self.dateRange.endDate = new Date().toJSON().slice(0, 10);\r\n        \r\n      }\r\n    },\r\n\r\n    //-------------------------------- Get All Payments Sales ---------------------\\\\\r\n    Payments_Sales(page) {\r\n      // Start the progress bar.\r\n      NProgress.start();\r\n      NProgress.set(0.1);\r\n      this.setToStrings();\r\n      this.get_data_loaded();\r\n\r\n      axios\r\n        .get(\r\n          \"payment_sale?page=\" +\r\n            page +\r\n            \"&Ref=\" +\r\n            this.Filter_Ref +\r\n            \"&client_id=\" +\r\n            this.Filter_client +\r\n            \"&sale_id=\" +\r\n            this.Filter_sale +\r\n            \"&Reglement=\" +\r\n            this.Filter_Reg +\r\n            \"&SortField=\" +\r\n            this.serverParams.sort.field +\r\n            \"&SortType=\" +\r\n            this.serverParams.sort.type +\r\n            \"&search=\" +\r\n            this.search +\r\n            \"&limit=\" +\r\n            this.limit +\r\n            \"&to=\" +\r\n            this.endDate +\r\n            \"&from=\" +\r\n            this.startDate\r\n        )\r\n\r\n        .then(response => {\r\n          this.payments = response.data.payments;\r\n          this.clients = response.data.clients;\r\n          this.sales = response.data.sales;\r\n          this.totalRows = response.data.totalRows;\r\n          this.rows[0].children = this.payments;\r\n          // Complete the animation of theprogress bar.\r\n          NProgress.done();\r\n          this.isLoading = false;\r\n          this.today_mode = false;\r\n        })\r\n        .catch(response => {\r\n          // Complete the animation of theprogress bar.\r\n          NProgress.done();\r\n          setTimeout(() => {\r\n            this.isLoading = false;\r\n            this.today_mode = false;\r\n          }, 500);\r\n        });\r\n    }\r\n  },\r\n\r\n  //----------------------------- Created function-------------------\\\\\r\n  created: function() {\r\n    this.Payments_Sales(1);\r\n  }\r\n};\r\n</script>","import { render } from \"./payments_sales.vue?vue&type=template&id=5c99092d\"\nimport script from \"./payments_sales.vue?vue&type=script&lang=js\"\nexport * from \"./payments_sales.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","slot","page","$t","folder","isLoading","md","dateRange","startDate","endDate","Submit_filter_dateRange","locale","input","picker","toJSON","slice","mode","columns","totalRows","rows","onPageChange","onPerPageChange","onSortChange","onSearch","styleClass","variant","size","Payment_PDF","data","payments","id","title","right","shadow","label","placeholder","Filter_Ref","reduce","value","Filter_client","options","clients","map","name","Filter_sale","sales","Ref","Filter_Reg","sm","Payments_Sales","serverParams","block","Reset_Filter","metaInfo","components","DateRangePicker","sort","field","type","perPage","limit","search","Reglement","children","today_mode","Label","cancelLabel","weekLabel","customRangeLabel","daysOfWeek","monthNames","firstDay","computed","this","tdClass","thClass","headerField","sumCount","methods","rowObj","sum","i","length","montant","updateParams","newProps","Object","assign","currentPage","currentPerPage","params","searchTerm","setToStrings","self","pdf","dataKey","autoTable","text","save","get_data_loaded","today","Date","getFullYear","axios","get","then","response","catch","setTimeout","created","__exports__","render"],"sourceRoot":""}