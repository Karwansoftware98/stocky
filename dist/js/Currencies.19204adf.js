"use strict";(self["webpackChunk"]=self["webpackChunk"]||[]).push([[4074],{7524:(e,t,r)=>{r.r(t),r.d(t,{default:()=>S});var s=r(20641),a=r(90033),i=r(53751);const n={class:"main-content"},l={key:0,class:"loading_page spinner spinner-primary mr-3"},o={slot:"selected-row-actions"},c={slot:"table-actions",class:"mt-2 mb-3"},d=(0,s.Lk)("i",{class:"i-Add"},null,-1),u={slot:"table-row","slot-scope":"props"},h={key:0},m=(0,s.Lk)("i",{class:"i-Edit text-25 text-success"},null,-1),b=[m],y=(0,s.Lk)("i",{class:"i-Close-Window text-25 text-danger"},null,-1),C=[y],g=(0,s.Lk)("i",{class:"i-Yes me-2 font-weight-bold"},null,-1),p={key:0,class:"typo__p"},_=(0,s.Lk)("div",{class:"spinner sm spinner-primary mt-3"},null,-1),f=[_];function v(e,t,r,m,y,_){const v=(0,s.g2)("breadcumb"),$=(0,s.g2)("b-button"),k=(0,s.g2)("vue-good-table"),w=(0,s.g2)("b-card"),P=(0,s.g2)("b-form-input"),F=(0,s.g2)("b-form-invalid-feedback"),S=(0,s.g2)("b-form-group"),x=(0,s.g2)("validation-provider"),T=(0,s.g2)("b-col"),D=(0,s.g2)("b-row"),E=(0,s.g2)("b-form"),L=(0,s.g2)("b-modal"),V=(0,s.g2)("validation-observer"),B=(0,s.gN)("b-tooltip");return(0,s.uX)(),(0,s.CE)("div",n,[(0,s.bF)(v,{page:e.$t("Currencies"),folder:e.$t("Settings")},null,8,["page","folder"]),y.isLoading?((0,s.uX)(),(0,s.CE)("div",l)):(0,s.Q3)("",!0),y.isLoading?(0,s.Q3)("",!0):((0,s.uX)(),(0,s.Wv)(w,{key:1,class:"wrapper"},{default:(0,s.k6)((()=>[(0,s.bF)(k,{mode:"remote",columns:_.columns,"search-options":{enabled:!0,placeholder:"search table"},totalRows:y.totalRows,rows:y.currencies,onOnPageChange:_.onPageChange,onOnPerPageChange:_.onPerPageChange,onOnSortChange:_.onSortChange,onOnSearch:_.onSearch,"select-options":{enabled:!0,clearSelectionText:""},onOnSelectedRowsChange:_.selectionChanged,"pagination-options":{enabled:!0,mode:"records",nextLabel:"next",prevLabel:"prev"},styleClass:"table-hover tableOne vgt-table"},{default:(0,s.k6)((()=>[(0,s.Lk)("div",o,[(0,s.Lk)("button",{class:"btn btn-danger btn-sm",onClick:t[0]||(t[0]=e=>_.delete_by_selected())},(0,a.v_)(e.$t("Del")),1)]),(0,s.Lk)("div",c,[(0,s.bF)($,{onClick:t[1]||(t[1]=e=>_.New_Currency()),class:"btn-rounded",variant:"btn btn-primary btn-icon m-1"},{default:(0,s.k6)((()=>[d,(0,s.eW)(" "+(0,a.v_)(e.$t("Add")),1)])),_:1})]),(0,s.Lk)("template",u,["actions"==e.props.column.field?((0,s.uX)(),(0,s.CE)("span",h,[(0,s.bo)(((0,s.uX)(),(0,s.CE)("a",{onClick:t[2]||(t[2]=t=>_.Edit_Currency(e.props.row)),title:"Edit"},b)),[[B,void 0,void 0,{hover:!0}]]),(0,s.bo)(((0,s.uX)(),(0,s.CE)("a",{title:"Delete",onClick:t[3]||(t[3]=t=>_.Remove_Currency(e.props.row.id))},C)),[[B,void 0,void 0,{hover:!0}]])])):(0,s.Q3)("",!0)])])),_:1},8,["columns","totalRows","rows","onOnPageChange","onOnPerPageChange","onOnSortChange","onOnSearch","onOnSelectedRowsChange"])])),_:1})),(0,s.bF)(V,{ref:"Create_Currency"},{default:(0,s.k6)((()=>[(0,s.bF)(L,{"hide-footer":"",size:"md",id:"New_Currency",title:y.editmode?e.$t("Edit"):e.$t("Add")},{default:(0,s.k6)((()=>[(0,s.bF)(E,{onSubmit:(0,i.D$)(_.Submit_Currency,["prevent"])},{default:(0,s.k6)((()=>[(0,s.bF)(D,null,{default:(0,s.k6)((()=>[(0,s.bF)(T,{md:"12"},{default:(0,s.k6)((()=>[(0,s.bF)(x,{name:"Code Currency",rules:{required:!0,min:2,max:5}},{default:(0,s.k6)((r=>[(0,s.bF)(S,{label:e.$t("CurrencyCode")+" *"},{default:(0,s.k6)((()=>[(0,s.bF)(P,{placeholder:e.$t("Enter_Code_Currency"),state:_.getValidationState(r),"aria-describedby":"Code-feedback",label:"Code",modelValue:y.currency.code,"onUpdate:modelValue":t[4]||(t[4]=e=>y.currency.code=e)},null,8,["placeholder","state","modelValue"]),(0,s.bF)(F,{id:"Code-feedback"},{default:(0,s.k6)((()=>[(0,s.eW)((0,a.v_)(r.errors[0]),1)])),_:2},1024)])),_:2},1032,["label"])])),_:1})])),_:1}),(0,s.bF)(T,{md:"12"},{default:(0,s.k6)((()=>[(0,s.bF)(x,{name:"Name Currency",rules:{required:!0,min:3}},{default:(0,s.k6)((r=>[(0,s.bF)(S,{label:e.$t("CurrencyName")+" *"},{default:(0,s.k6)((()=>[(0,s.bF)(P,{placeholder:e.$t("Enter_name_Currency"),state:_.getValidationState(r),"aria-describedby":"Name-feedback",label:"Name",modelValue:y.currency.name,"onUpdate:modelValue":t[5]||(t[5]=e=>y.currency.name=e)},null,8,["placeholder","state","modelValue"]),(0,s.bF)(F,{id:"Name-feedback"},{default:(0,s.k6)((()=>[(0,s.eW)((0,a.v_)(r.errors[0]),1)])),_:2},1024)])),_:2},1032,["label"])])),_:1})])),_:1}),(0,s.bF)(T,{md:"12"},{default:(0,s.k6)((()=>[(0,s.bF)(x,{name:"Symbole Currency",rules:{required:!0,max:5}},{default:(0,s.k6)((r=>[(0,s.bF)(S,{label:e.$t("Symbol")+" *"},{default:(0,s.k6)((()=>[(0,s.bF)(P,{placeholder:e.$t("Enter_Symbol_Currency"),state:_.getValidationState(r),"aria-describedby":"Symbole-feedback",label:"Symbole",modelValue:y.currency.symbol,"onUpdate:modelValue":t[6]||(t[6]=e=>y.currency.symbol=e)},null,8,["placeholder","state","modelValue"]),(0,s.bF)(F,{id:"Symbole-feedback"},{default:(0,s.k6)((()=>[(0,s.eW)((0,a.v_)(r.errors[0]),1)])),_:2},1024)])),_:2},1032,["label"])])),_:1})])),_:1}),(0,s.bF)(T,{md:"12",class:"mt-3"},{default:(0,s.k6)((()=>[(0,s.bF)($,{variant:"primary",type:"submit",disabled:y.SubmitProcessing},{default:(0,s.k6)((()=>[g,(0,s.eW)(" "+(0,a.v_)(e.$t("submit")),1)])),_:1},8,["disabled"]),t[7]||((0,s.Vq)(-1),t[7]=y.SubmitProcessing?((0,s.uX)(),(0,s.CE)("div",p,f)):(0,s.Q3)("",!0),(0,s.Vq)(1),t[7])])),_:1})])),_:1})])),_:1},8,["onSubmit"])])),_:1},8,["title"])])),_:1},512)])}var $=r(5947),k=r.n($);const w={metaInfo:{title:"Currency"},data(){return{isLoading:!0,SubmitProcessing:!1,serverParams:{columnFilters:{},sort:{field:"id",type:"desc"},page:1,perPage:10},selectedIds:[],totalRows:"",search:"",limit:"10",currencies:[],editmode:!1,currency:{id:"",name:"",code:"",symbol:""}}},computed:{columns(){return[{label:this.$t("CurrencyCode"),field:"code",tdClass:"text-left",thClass:"text-left"},{label:this.$t("CurrencyName"),field:"name",tdClass:"text-left",thClass:"text-left"},{label:this.$t("Symbol"),field:"symbol",tdClass:"text-left",thClass:"text-left"},{label:this.$t("Action"),field:"actions",html:!0,tdClass:"text-right",thClass:"text-right",sortable:!1}]}},methods:{updateParams(e){this.serverParams=Object.assign({},this.serverParams,e)},onPageChange({currentPage:e}){this.serverParams.page!==e&&(this.updateParams({page:e}),this.Get_Currency(e))},onPerPageChange({currentPerPage:e}){this.limit!==e&&(this.limit=e,this.updateParams({page:1,perPage:e}),this.Get_Currency(1))},selectionChanged({selectedRows:e}){this.selectedIds=[],e.forEach(((e,t)=>{this.selectedIds.push(e.id)}))},onSortChange(e){this.updateParams({sort:{type:e[0].type,field:e[0].field}}),this.Get_Currency(this.serverParams.page)},onSearch(e){this.search=e.searchTerm,this.Get_Currency(this.serverParams.page)},getValidationState({dirty:e,validated:t,valid:r=null}){return e||t?r:null},Submit_Currency(){this.$refs.Create_Currency.validate().then((e=>{e?this.editmode?this.Update_Currency():this.Create_Currency():this.makeToast("danger",this.$t("Please_fill_the_form_correctly"),this.$t("Failed"))}))},makeToast(e,t,r){this.$root.$bvToast.toast(t,{title:r,variant:e,solid:!0})},New_Currency(){this.reset_Form(),this.editmode=!1,this.$bvModal.show("New_Currency")},Edit_Currency(e){this.Get_Currency(this.serverParams.page),this.reset_Form(),this.currency=e,this.editmode=!0,this.$bvModal.show("New_Currency")},Get_Currency(e){k().start(),k().set(.1),axios.get("currencies?page="+e+"&SortField="+this.serverParams.sort.field+"&SortType="+this.serverParams.sort.type+"&search="+this.search+"&limit="+this.limit).then((e=>{this.currencies=e.data.currencies,this.totalRows=e.data.totalRows,k().done(),this.isLoading=!1})).catch((e=>{k().done(),setTimeout((()=>{this.isLoading=!1}),500)}))},Create_Currency(){this.SubmitProcessing=!0,axios.post("currencies",{name:this.currency.name,code:this.currency.code,symbol:this.currency.symbol}).then((e=>{this.SubmitProcessing=!1,Fire.$emit("Event_Currency"),this.makeToast("success",this.$t("Create.TitleCurrency"),this.$t("Success"))})).catch((e=>{this.SubmitProcessing=!1,this.makeToast("danger",this.$t("InvalidData"),this.$t("Failed"))}))},Update_Currency(){this.SubmitProcessing=!0,axios.put("currencies/"+this.currency.id,{name:this.currency.name,code:this.currency.code,symbol:this.currency.symbol}).then((e=>{this.SubmitProcessing=!1,Fire.$emit("Event_Currency"),this.makeToast("success",this.$t("Update.TitleCurrency"),this.$t("Success"))})).catch((e=>{this.SubmitProcessing=!1,this.makeToast("danger",this.$t("InvalidData"),this.$t("Failed"))}))},reset_Form(){this.currency={id:"",name:"",code:"",symbol:""}},Remove_Currency(e){this.$swal({title:this.$t("Delete.Title"),text:this.$t("Delete.Text"),type:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",cancelButtonText:this.$t("Delete.cancelButtonText"),confirmButtonText:this.$t("Delete.confirmButtonText")}).then((t=>{t.value&&axios.delete("currencies/"+e).then((()=>{this.$swal(this.$t("Delete.Deleted"),this.$t("Delete.TitleCurrency"),"success"),Fire.$emit("Delete_Currency")})).catch((()=>{this.$swal(this.$t("Delete.Failed"),this.$t("Delete.Therewassomethingwronge"),"warning")}))}))},delete_by_selected(){this.$swal({title:this.$t("Delete.Title"),text:this.$t("Delete.Text"),type:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",cancelButtonText:this.$t("Delete.cancelButtonText"),confirmButtonText:this.$t("Delete.confirmButtonText")}).then((e=>{e.value&&(k().start(),k().set(.1),axios.post("currencies/delete/by_selection",{selectedIds:this.selectedIds}).then((()=>{this.$swal(this.$t("Delete.Deleted"),this.$t("Delete.TitleCurrency"),"success"),Fire.$emit("Delete_Currency")})).catch((()=>{setTimeout((()=>k().done()),500),this.$swal(this.$t("Delete.Failed"),this.$t("Delete.Therewassomethingwronge"),"warning")})))}))}},created:function(){this.Get_Currency(1),Fire.$on("Event_Currency",(()=>{setTimeout((()=>{this.Get_Currency(this.serverParams.page),this.$bvModal.hide("New_Currency")}),500)})),Fire.$on("Delete_Currency",(()=>{setTimeout((()=>{this.Get_Currency(this.serverParams.page)}),500)}))}};var P=r(66262);const F=(0,P.A)(w,[["render",v]]),S=F}}]);
//# sourceMappingURL=Currencies.19204adf.js.map