{"version":3,"file":"js/sales_report.f832aa70.js","mappings":"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","sources":["webpack:///./src/views/app/pages/reports/sales_report.vue","webpack:///./src/views/app/pages/reports/sales_report.vue?cdae"],"sourcesContent":["<template>\r\n  <div class=\"main-content\">\r\n    <breadcumb :page=\"$t('SalesReport')\" :folder=\"$t('Reports')\"/>\r\n\r\n    <div v-if=\"isLoading\" class=\"loading_page spinner spinner-primary mr-3\"></div>\r\n      <b-col md=\"12\" class=\"text-center\" v-if=\"!isLoading\">\r\n        <date-range-picker \r\n          v-model=\"dateRange\" \r\n          :startDate=\"startDate\" \r\n          :endDate=\"endDate\" \r\n           @update=\"Submit_filter_dateRange\"\r\n          :locale-data=\"locale\" > \r\n\r\n          <template v-slot:input=\"picker\" style=\"min-width: 350px;\">\r\n              {{ picker.startDate.toJSON().slice(0, 10)}} - {{ picker.endDate.toJSON().slice(0, 10)}}\r\n          </template>        \r\n        </date-range-picker>\r\n      </b-col>\r\n\r\n    <b-card class=\"wrapper\" v-if=\"!isLoading\">\r\n      <vue-good-table\r\n        mode=\"remote\"\r\n        :columns=\"columns\"\r\n        :totalRows=\"totalRows\"\r\n        :rows=\"rows\"\r\n        :group-options=\"{\r\n          enabled: true,\r\n          headerPosition: 'bottom',\r\n        }\"\r\n        @on-page-change=\"onPageChange\"\r\n        @on-per-page-change=\"onPerPageChange\"\r\n        @on-sort-change=\"onSortChange\"\r\n        @on-search=\"onSearch\"\r\n        :search-options=\"{\r\n        placeholder: $t('Search_this_table'),\r\n        enabled: true,\r\n      }\"\r\n        :pagination-options=\"{\r\n        enabled: true,\r\n        mode: 'records',\r\n        nextLabel: 'next',\r\n        prevLabel: 'prev',\r\n      }\"\r\n        :styleClass=\"'mt-5 order-table vgt-table'\"\r\n      >\r\n        <div slot=\"table-actions\" class=\"mt-2 mb-3\">\r\n          <b-button variant=\"outline-info ripple m-1\" size=\"sm\" v-b-toggle.sidebar-right>\r\n            <i class=\"i-Filter-2\"></i>\r\n            {{ $t(\"Filter\") }}\r\n          </b-button>\r\n          <b-button @click=\"Sales_PDF()\" size=\"sm\" variant=\"outline-success ripple m-1\">\r\n            <i class=\"i-File-Copy\"></i> PDF\r\n          </b-button>\r\n           <vue-excel-xlsx\r\n              class=\"btn btn-sm btn-outline-danger ripple m-1\"\r\n              :data=\"sales\"\r\n              :columns=\"columns\"\r\n              :file-name=\"'sales_report'\"\r\n              :file-type=\"'xlsx'\"\r\n              :sheet-name=\"'sales_report'\"\r\n              >\r\n              <i class=\"i-File-Excel\"></i> EXCEL\r\n          </vue-excel-xlsx>\r\n        </div>\r\n\r\n        <template slot=\"table-row\" slot-scope=\"props\">\r\n          <div v-if=\"props.column.field == 'statut'\">\r\n            <span\r\n              v-if=\"props.row.statut == 'completed'\"\r\n              class=\"badge badge-outline-success\"\r\n            >{{$t('complete')}}</span>\r\n            <span\r\n              v-else-if=\"props.row.statut == 'pending'\"\r\n              class=\"badge badge-outline-info\"\r\n            >{{$t('Pending')}}</span>\r\n            <span v-else class=\"badge badge-outline-warning\">{{$t('Ordered')}}</span>\r\n          </div>\r\n\r\n          <div v-else-if=\"props.column.field == 'payment_status'\">\r\n            <span\r\n              v-if=\"props.row.payment_status == 'paid'\"\r\n              class=\"badge badge-outline-success\"\r\n            >{{$t('Paid')}}</span>\r\n            <span\r\n              v-else-if=\"props.row.payment_status == 'partial'\"\r\n              class=\"badge badge-outline-primary\"\r\n            >{{$t('partial')}}</span>\r\n            <span v-else class=\"badge badge-outline-warning\">{{$t('Unpaid')}}</span>\r\n          </div>\r\n        </template>\r\n      </vue-good-table>\r\n    </b-card>\r\n\r\n    <!-- Sidebar Filter -->\r\n    <b-sidebar id=\"sidebar-right\" :title=\"$t('Filter')\" bg-variant=\"white\" right shadow>\r\n      <div class=\"px-3 py-2\">\r\n        <b-row>\r\n          <!-- Reference -->\r\n          <b-col md=\"12\">\r\n            <b-form-group :label=\"$t('Reference')\">\r\n              <b-form-input label=\"Reference\" :placeholder=\"$t('Reference')\" v-model=\"Filter_Ref\"></b-form-input>\r\n            </b-form-group>\r\n          </b-col>\r\n\r\n          <!-- Customer  -->\r\n          <b-col md=\"12\">\r\n            <b-form-group :label=\"$t('Customer')\">\r\n              <v-select\r\n                :reduce=\"label => label.value\"\r\n                :placeholder=\"$t('Choose_Customer')\"\r\n                v-model=\"Filter_Client\"\r\n                :options=\"customers.map(customers => ({label: customers.name, value: customers.id}))\"\r\n              />\r\n            </b-form-group>\r\n          </b-col>\r\n\r\n           <!-- warehouse -->\r\n          <b-col md=\"12\">\r\n            <b-form-group :label=\"$t('warehouse')\">\r\n              <v-select\r\n                v-model=\"Filter_warehouse\"\r\n                :reduce=\"label => label.value\"\r\n                :placeholder=\"$t('Choose_Warehouse')\"\r\n                :options=\"warehouses.map(warehouses => ({label: warehouses.name, value: warehouses.id}))\"\r\n              />\r\n            </b-form-group>\r\n          </b-col>\r\n\r\n          <!-- Status  -->\r\n          <b-col md=\"12\">\r\n            <b-form-group :label=\"$t('Status')\">\r\n              <select v-model=\"Filter_status\" type=\"text\" class=\"form-control\">\r\n                <option value selected>All</option>\r\n                <option value=\"completed\">Completed</option>\r\n                <option value=\"pending\">Pending</option>\r\n                <option value=\"ordered\">Ordered</option>\r\n              </select>\r\n            </b-form-group>\r\n          </b-col>\r\n\r\n          <!-- Payment Status  -->\r\n          <b-col md=\"12\">\r\n            <b-form-group :label=\"$t('PaymentStatus')\">\r\n              <select v-model=\"Filter_Payment\" type=\"text\" class=\"form-control\">\r\n                <option value selected>All</option>\r\n                <option value=\"paid\">Paid</option>\r\n                <option value=\"partial\">partial</option>\r\n                <option value=\"unpaid\">UnPaid</option>\r\n              </select>\r\n            </b-form-group>\r\n          </b-col>\r\n\r\n          <b-col md=\"6\" sm=\"12\">\r\n            <b-button @click=\"Get_Sales(serverParams.page)\" variant=\"primary ripple m-1\" size=\"sm\" block>\r\n              <i class=\"i-Filter-2\"></i>\r\n              {{ $t(\"Filter\") }}\r\n            </b-button>\r\n          </b-col>\r\n          <b-col md=\"6\" sm=\"12\">\r\n            <b-button @click=\"Reset_Filter()\" variant=\"danger ripple m-1\" size=\"sm\" block>\r\n              <i class=\"i-Power-2\"></i>\r\n              {{ $t(\"Reset\") }}\r\n            </b-button>\r\n          </b-col>\r\n        </b-row>\r\n      </div>\r\n    </b-sidebar>\r\n  </div>\r\n  <!-- </div> -->\r\n</template>\r\n\r\n<script>\r\nimport NProgress from \"nprogress\";\r\nimport jsPDF from \"jspdf\";\r\nimport \"jspdf-autotable\";\r\nimport DateRangePicker from 'vue2-daterange-picker'\r\n//you need to import the CSS manually\r\nimport 'vue2-daterange-picker/dist/vue2-daterange-picker.css'\r\nimport moment from 'moment'\r\n\r\nexport default {\r\n  metaInfo: {\r\n    title: \"Report Sales\"\r\n  },\r\ncomponents: { DateRangePicker },\r\n  data() {\r\n    return {\r\n     startDate: \"\", \r\n     endDate: \"\", \r\n     dateRange: { \r\n       startDate: \"\", \r\n       endDate: \"\" \r\n     }, \r\n      locale:{ \r\n          //separator between the two ranges apply\r\n          Label: \"Apply\", \r\n          cancelLabel: \"Cancel\", \r\n          weekLabel: \"W\", \r\n          customRangeLabel: \"Custom Range\", \r\n          daysOfWeek: moment.weekdaysMin(), \r\n          //array of days - see moment documenations for details \r\n          monthNames: moment.monthsShort(), //array of month names - see moment documenations for details \r\n          firstDay: 1 //ISO first day of week - see moment documenations for details\r\n        },\r\n      isLoading: true,\r\n      serverParams: {\r\n        sort: {\r\n          field: \"id\",\r\n          type: \"desc\"\r\n        },\r\n        page: 1,\r\n        perPage: 10\r\n      },\r\n      limit: \"10\",\r\n      search: \"\",\r\n      totalRows: \"\",\r\n      Filter_Client: \"\",\r\n      Filter_warehouse: \"\",\r\n      Filter_Ref: \"\",\r\n      Filter_status: \"\",\r\n      Filter_Payment: \"\",\r\n      customers: [],\r\n      warehouses: [],\r\n      rows: [{\r\n          statut: 'Total',\r\n         \r\n          children: [\r\n             \r\n          ],\r\n      },],\r\n      sales: [],\r\n      today_mode: true,\r\n      to: \"\",\r\n      from: \"\",\r\n    };\r\n  },\r\n\r\n  computed: {\r\n    columns() {\r\n      return [\r\n        {\r\n          label: this.$t(\"date\"),\r\n          field: \"date\",\r\n          tdClass: \"text-left\",\r\n          thClass: \"text-left\"\r\n        },\r\n        {\r\n          label: this.$t(\"Reference\"),\r\n          field: \"Ref\",\r\n          tdClass: \"text-left\",\r\n          thClass: \"text-left\"\r\n        },\r\n        {\r\n          label: this.$t(\"Customer\"),\r\n          field: \"client_name\",\r\n          tdClass: \"text-left\",\r\n          thClass: \"text-left\"\r\n        },\r\n        {\r\n          label: this.$t(\"warehouse\"),\r\n          field: \"warehouse_name\",\r\n          tdClass: \"text-left\",\r\n          thClass: \"text-left\"\r\n        },\r\n        {\r\n          label: this.$t(\"Status\"),\r\n          field: \"statut\",\r\n          html: true,\r\n          tdClass: \"text-left\",\r\n          thClass: \"text-left\"\r\n        },\r\n        {\r\n          label: this.$t(\"Total\"),\r\n          field: \"GrandTotal\",\r\n          type: \"decimal\",\r\n          headerField: this.sumCount,\r\n          tdClass: \"text-left\",\r\n          thClass: \"text-left\"\r\n        },\r\n        {\r\n          label: this.$t(\"Paid\"),\r\n          field: \"paid_amount\",\r\n          type: \"decimal\",\r\n          headerField: this.sumCount2,\r\n          tdClass: \"text-left\",\r\n          thClass: \"text-left\"\r\n        },\r\n        {\r\n          label: this.$t(\"Due\"),\r\n          field: \"due\",\r\n          type: \"decimal\",\r\n          headerField: this.sumCount3,\r\n          tdClass: \"text-left\",\r\n          thClass: \"text-left\"\r\n        },\r\n        {\r\n          label: this.$t(\"PaymentStatus\"),\r\n          field: \"payment_status\",\r\n          html: true,\r\n          tdClass: \"text-left\",\r\n          thClass: \"text-left\"\r\n        }\r\n      ];\r\n    }\r\n  },\r\n\r\n  methods: {\r\n\r\n    sumCount(rowObj) {\r\n     \r\n    \tlet sum = 0;\r\n      for (let i = 0; i < rowObj.children.length; i++) {\r\n        sum += rowObj.children[i].GrandTotal;\r\n      }\r\n      return sum;\r\n    },\r\n    sumCount2(rowObj) {\r\n     \r\n    \tlet sum = 0;\r\n      for (let i = 0; i < rowObj.children.length; i++) {\r\n        sum += rowObj.children[i].paid_amount;\r\n      }\r\n      return sum;\r\n    },\r\n    sumCount3(rowObj) {\r\n     \r\n    \tlet sum = 0;\r\n      for (let i = 0; i < rowObj.children.length; i++) {\r\n        sum += rowObj.children[i].due;\r\n      }\r\n      return sum;\r\n    },\r\n\r\n    //---- update Params Table\r\n    updateParams(newProps) {\r\n      this.serverParams = Object.assign({}, this.serverParams, newProps);\r\n    },\r\n\r\n    //---- Event Page Change\r\n    onPageChange({ currentPage }) {\r\n      if (this.serverParams.page !== currentPage) {\r\n        this.updateParams({ page: currentPage });\r\n        this.Get_Sales(currentPage);\r\n      }\r\n    },\r\n\r\n    //---- Event Per Page Change\r\n    onPerPageChange({ currentPerPage }) {\r\n      if (this.limit !== currentPerPage) {\r\n        this.limit = currentPerPage;\r\n        this.updateParams({ page: 1, perPage: currentPerPage });\r\n        this.Get_Sales(1);\r\n      }\r\n    },\r\n\r\n    //---- Event on Sort Change\r\n\r\n    onSortChange(params) {\r\n      let field = \"\";\r\n      if (params[0].field == \"client_name\") {\r\n        field = \"client_id\";\r\n      } else {\r\n        field = params[0].field;\r\n      }\r\n      this.updateParams({\r\n        sort: {\r\n          type: params[0].type,\r\n          field: field\r\n        }\r\n      });\r\n      this.Get_Sales(this.serverParams.page);\r\n    },\r\n\r\n    //---- Event on Search\r\n    onSearch(value) {\r\n      this.search = value.searchTerm;\r\n      this.Get_Sales(this.serverParams.page);\r\n    },\r\n\r\n    //------ Reset Filter\r\n    Reset_Filter() {\r\n      this.search = \"\";\r\n      this.Filter_Client = \"\";\r\n      this.Filter_status = \"\";\r\n      this.Filter_Payment = \"\";\r\n      this.Filter_Ref = \"\";\r\n      this.Filter_warehouse = \"\";\r\n      this.Get_Sales(this.serverParams.page);\r\n    },\r\n\r\n    //------------------------------Formetted Numbers -------------------------\\\\\r\n    formatNumber(number, dec) {\r\n      const value = (typeof number === \"string\"\r\n        ? number\r\n        : number.toString()\r\n      ).split(\".\");\r\n      if (dec <= 0) return value[0];\r\n      let formated = value[1] || \"\";\r\n      if (formated.length > dec)\r\n        return `${value[0]}.${formated.substr(0, dec)}`;\r\n      while (formated.length < dec) formated += \"0\";\r\n      return `${value[0]}.${formated}`;\r\n    },\r\n\r\n    //----------------------------------- Sales PDF ------------------------------\\\\\r\n    Sales_PDF() {\r\n      var self = this;\r\n\r\n      let pdf = new jsPDF(\"p\", \"pt\");\r\n      let columns = [\r\n        { title: \"Ref\", dataKey: \"Ref\" },\r\n        { title: \"Client\", dataKey: \"client_name\" },\r\n        { title: \"Warehouse\", dataKey: \"warehouse_name\" },\r\n        { title: \"Status\", dataKey: \"statut\" },\r\n        { title: \"Total\", dataKey: \"GrandTotal\" },\r\n        { title: \"Paid\", dataKey: \"paid_amount\" },\r\n        { title: \"Due\", dataKey: \"due\" },\r\n        { title: \"Status Payment\", dataKey: \"payment_status\" }\r\n      ];\r\n      pdf.autoTable(columns, self.sales);\r\n      pdf.text(\"Sales report\", 40, 25);\r\n      pdf.save(\"Sales_report.pdf\");\r\n    },\r\n\r\n    //---------------------------------------- Set To Strings-------------------------\\\\\r\n    setToStrings() {\r\n      // Simply replaces null values with strings=''\r\n      if (this.Filter_Client === null) {\r\n        this.Filter_Client = \"\";\r\n      }else if (this.Filter_warehouse === null) {\r\n        this.Filter_warehouse = \"\";\r\n      }\r\n    },\r\n\r\n     //----------------------------- Submit Date Picker -------------------\\\\\r\n    Submit_filter_dateRange() {\r\n      var self = this;\r\n      self.startDate =  self.dateRange.startDate.toJSON().slice(0, 10);\r\n      self.endDate = self.dateRange.endDate.toJSON().slice(0, 10);\r\n      self.Get_Sales(1);\r\n    },\r\n\r\n\r\n    get_data_loaded() {\r\n      var self = this;\r\n      if (self.today_mode) {\r\n        let today = new Date()\r\n\r\n        self.startDate = today.getFullYear();\r\n        self.endDate = new Date().toJSON().slice(0, 10);\r\n\r\n        self.dateRange.startDate = today.getFullYear();\r\n        self.dateRange.endDate = new Date().toJSON().slice(0, 10);\r\n        \r\n      }\r\n    },\r\n\r\n    //----------------------------------------- Get all Sales ------------------------------\\\\\r\n    Get_Sales(page) {\r\n      // Start the progress bar.\r\n      NProgress.start();\r\n      NProgress.set(0.1);\r\n      this.setToStrings();\r\n      this.get_data_loaded();\r\n      axios\r\n        .get(\r\n          \"/report/sales?page=\" +\r\n            page +\r\n            \"&Ref=\" +\r\n            this.Filter_Ref +\r\n            \"&client_id=\" +\r\n            this.Filter_Client +\r\n            \"&warehouse_id=\" +\r\n            this.Filter_warehouse +\r\n            \"&statut=\" +\r\n            this.Filter_status +\r\n            \"&payment_statut=\" +\r\n            this.Filter_Payment +\r\n            \"&SortField=\" +\r\n            this.serverParams.sort.field +\r\n            \"&SortType=\" +\r\n            this.serverParams.sort.type +\r\n            \"&search=\" +\r\n            this.search +\r\n            \"&limit=\" +\r\n            this.limit+\r\n            \"&to=\" +\r\n            this.endDate +\r\n            \"&from=\" +\r\n            this.startDate\r\n        )\r\n        .then(response => {\r\n          this.sales = response.data.sales;\r\n          this.customers = response.data.customers;\r\n          this.warehouses = response.data.warehouses;\r\n          this.totalRows = response.data.totalRows;\r\n          this.rows[0].children = this.sales;\r\n\r\n          // Complete the animation of theprogress bar.\r\n          NProgress.done();\r\n          this.isLoading = false;\r\n          this.today_mode = false;\r\n        })\r\n        .catch(response => {\r\n          // Complete the animation of theprogress bar.\r\n          NProgress.done();\r\n          setTimeout(() => {\r\n            this.isLoading = false;\r\n            this.today_mode = false;\r\n          }, 500);\r\n        });\r\n    }\r\n  },\r\n  //----------------------------- Created function-------------------\\\\\r\n  created() {\r\n    this.Get_Sales(1);\r\n  }\r\n};\r\n</script>","import { render } from \"./sales_report.vue?vue&type=template&id=512bf642\"\nimport script from \"./sales_report.vue?vue&type=script&lang=js\"\nexport * from \"./sales_report.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","slot","value","selected","page","$t","folder","isLoading","md","dateRange","startDate","endDate","Submit_filter_dateRange","locale","input","picker","toJSON","slice","mode","columns","totalRows","rows","onPageChange","onPerPageChange","onSortChange","onSearch","styleClass","variant","size","Sales_PDF","data","sales","props","column","field","row","statut","payment_status","id","title","right","shadow","label","placeholder","Filter_Ref","reduce","Filter_Client","options","customers","map","name","Filter_warehouse","warehouses","type","Filter_status","Filter_Payment","sm","Get_Sales","serverParams","block","Reset_Filter","metaInfo","components","DateRangePicker","Label","cancelLabel","weekLabel","customRangeLabel","daysOfWeek","monthNames","firstDay","sort","perPage","limit","search","children","today_mode","to","from","computed","this","tdClass","thClass","html","headerField","sumCount","sumCount2","sumCount3","methods","rowObj","sum","i","length","GrandTotal","paid_amount","due","updateParams","newProps","Object","assign","currentPage","currentPerPage","params","searchTerm","formatNumber","number","dec","toString","split","formated","substr","self","pdf","dataKey","autoTable","text","save","setToStrings","get_data_loaded","today","Date","getFullYear","axios","get","then","response","catch","setTimeout","created","__exports__","render"],"sourceRoot":""}