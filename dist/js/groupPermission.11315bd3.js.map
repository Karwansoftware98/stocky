{"version":3,"file":"js/groupPermission.11315bd3.js","mappings":"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","sources":["webpack:///./src/views/app/pages/settings/permissions/Permissions.vue","webpack:///./src/views/app/pages/settings/permissions/Permissions.vue?4248"],"sourcesContent":["<template>\r\n  <div class=\"main-content\">\r\n    <breadcumb :page=\"$t('GroupPermissions')\" :folder=\"$t('Settings')\"/>\r\n\r\n    <div v-if=\"isLoading\" class=\"loading_page spinner spinner-primary mr-3\"></div>\r\n    <b-card class=\"wrapper\" v-if=\"!isLoading\">\r\n      <vue-good-table\r\n        mode=\"remote\"\r\n        :columns=\"columns\"\r\n        :totalRows=\"totalRows\"\r\n        :rows=\"roles\"\r\n        @on-page-change=\"onPageChange\"\r\n        @on-per-page-change=\"onPerPageChange\"\r\n        @on-sort-change=\"onSortChange\"\r\n        @on-search=\"onSearch\"\r\n        :search-options=\"{\r\n        enabled: true,\r\n        placeholder: $t('Search_this_table'),  \r\n      }\"\r\n        :pagination-options=\"{\r\n        enabled: true,\r\n        mode: 'records',\r\n        nextLabel: 'next',\r\n        prevLabel: 'prev',\r\n      }\"\r\n        styleClass=\"table-hover tableOne vgt-table\"\r\n      >\r\n        <div slot=\"table-actions\" class=\"mt-2 mb-3\">\r\n          <router-link\r\n            class=\"btn-rounded btn btn-primary ripple btn-icon m-1\"\r\n            v-if=\"currentUserPermissions && currentUserPermissions.includes('permissions_add')\"\r\n            to=\"/app/Settings/Permissions/store\"\r\n          >\r\n            <span class=\"ul-btn__icon\">\r\n              <i class=\"i-Add\"></i>\r\n            </span>\r\n            <span class=\"ul-btn__text ml-1\">{{$t('Add')}}</span>\r\n          </router-link>\r\n        </div>\r\n\r\n        <template slot=\"table-row\" slot-scope=\"props\" v-if=\"props.row.id !==1\">\r\n          <span v-if=\"props.column.field == 'actions'\">\r\n            <router-link \r\n              v-if=\"currentUserPermissions && currentUserPermissions.includes('permissions_edit')\"\r\n              title=\"Edit\"\r\n              v-b-tooltip.hover\r\n              :to=\"'/app/Settings/Permissions/edit/'+props.row.id\"\r\n            >\r\n              <i class=\"i-Edit text-25 text-success\"></i>\r\n            </router-link>\r\n            <a\r\n              title=\"Delete\"\r\n              v-b-tooltip.hover\r\n              v-if=\"currentUserPermissions && currentUserPermissions.includes('permissions_delete')\"\r\n              @click=\"Delete_Role(props.row.id)\"\r\n            >\r\n              <i class=\"i-Close-Window text-25 text-danger\"></i>\r\n            </a>\r\n          </span>\r\n        </template>\r\n        \r\n      </vue-good-table>\r\n    </b-card>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { mapActions, mapGetters } from \"vuex\";\r\nimport NProgress from \"nprogress\";\r\n\r\nexport default {\r\n  metaInfo: {\r\n    title: \"Permissions\"\r\n  },\r\n  data() {\r\n    return {\r\n      isLoading: true,\r\n      serverParams: {\r\n        columnFilters: {},\r\n        sort: {\r\n          field: \"id\",\r\n          type: \"desc\"\r\n        },\r\n        page: 1,\r\n        perPage: 10\r\n      },\r\n      totalRows: \"\",\r\n      search: \"\",\r\n      limit: \"10\",\r\n      roles: []\r\n    };\r\n  },\r\n\r\n  computed: {\r\n    ...mapGetters([\"currentUserPermissions\"]),\r\n    columns() {\r\n      return [\r\n        {\r\n          label: this.$t(\"RoleName\"),\r\n          field: \"name\",\r\n          tdClass: \"text-left\",\r\n          thClass: \"text-left\"\r\n        },\r\n        {\r\n          label: this.$t(\"Description\"),\r\n          field: \"description\",\r\n          tdClass: \"text-left\",\r\n          thClass: \"text-left\"\r\n        },\r\n        {\r\n          label: this.$t(\"Action\"),\r\n          field: \"actions\",\r\n          html: true,\r\n          tdClass: \"text-right\",\r\n          thClass: \"text-right\",\r\n          sortable: false\r\n        }\r\n      ];\r\n    }\r\n  },\r\n\r\n  methods: {\r\n    //---- update Params Table\r\n    updateParams(newProps) {\r\n      this.serverParams = Object.assign({}, this.serverParams, newProps);\r\n    },\r\n\r\n    //---- Event Page Change\r\n    onPageChange({ currentPage }) {\r\n      if (this.serverParams.page !== currentPage) {\r\n        this.updateParams({ page: currentPage });\r\n        this.Get_Roles(currentPage);\r\n      }\r\n    },\r\n\r\n    //---- Event Per Page Change\r\n    onPerPageChange({ currentPerPage }) {\r\n      if (this.limit !== currentPerPage) {\r\n        this.limit = currentPerPage;\r\n        this.updateParams({ page: 1, perPage: currentPerPage });\r\n        this.Get_Roles(1);\r\n      }\r\n    },\r\n\r\n    //---- Event sort change\r\n    onSortChange(params) {\r\n      this.updateParams({\r\n        sort: {\r\n          type: params[0].type,\r\n          field: params[0].field\r\n        }\r\n      });\r\n      this.Get_Roles(this.serverParams.page);\r\n    },\r\n\r\n    //---- Event Search\r\n    onSearch(value) {\r\n      this.search = value.searchTerm;\r\n      this.Get_Roles(this.serverParams.page);\r\n    },\r\n    //------------------------ Get All Roles -------------------\\\\\r\n    Get_Roles(page) {\r\n      // Start the progress bar.\r\n      NProgress.start();\r\n      NProgress.set(0.1);\r\n      axios\r\n        .get(\r\n          \"roles?page=\" +\r\n            page +\r\n            \"&SortField=\" +\r\n            this.serverParams.sort.field +\r\n            \"&SortType=\" +\r\n            this.serverParams.sort.type +\r\n            \"&search=\" +\r\n            this.search +\r\n            \"&limit=\" +\r\n            this.limit\r\n        )\r\n        .then(response => {\r\n          this.roles = response.data.roles;\r\n          this.totalRows = response.data.totalRows;\r\n\r\n          // Complete the animation of theprogress bar.\r\n          NProgress.done();\r\n          this.isLoading = false;\r\n        })\r\n        .catch(response => {\r\n          // Complete the animation of theprogress bar.\r\n          NProgress.done();\r\n          setTimeout(() => {\r\n            this.isLoading = false;\r\n          }, 500);\r\n        });\r\n    },\r\n\r\n    //------------------------ Delete Role -------------------\\\r\n    Delete_Role(id) {\r\n      this.$swal({\r\n        title: this.$t(\"Delete.Title\"),\r\n        text: this.$t(\"Delete.Text\"),\r\n        type: \"warning\",\r\n        showCancelButton: true,\r\n        confirmButtonColor: \"#3085d6\",\r\n        cancelButtonColor: \"#d33\",\r\n        cancelButtonText: this.$t(\"Delete.cancelButtonText\"),\r\n        confirmButtonText: this.$t(\"Delete.confirmButtonText\")\r\n      }).then(result => {\r\n        if (result.value) {\r\n          axios\r\n            .delete(\"roles/\" + id)\r\n            .then(() => {\r\n              this.$swal(\r\n                this.$t(\"Delete.Deleted\"),\r\n                this.$t(\"Delete.RoleDeleted\"),\r\n                \"success\"\r\n              );\r\n\r\n              Fire.$emit(\"Delete_role\");\r\n            })\r\n            .catch(() => {\r\n              this.$swal(\r\n                this.$t(\"Delete.Failed\"),\r\n                this.$t(\"Delete.Therewassomethingwronge\"),\r\n                \"warning\"\r\n              );\r\n            });\r\n        }\r\n      });\r\n    },\r\n   \r\n  }, //end Methods\r\n\r\n  created: function() {\r\n    this.Get_Roles(1);\r\n\r\n    Fire.$on(\"Delete_role\", () => {\r\n      setTimeout(() => {\r\n        this.Get_Roles(this.serverParams.page);\r\n      }, 500);\r\n    });\r\n  }\r\n};\r\n</script>","import { render } from \"./Permissions.vue?vue&type=template&id=306e9e2a\"\nimport script from \"./Permissions.vue?vue&type=script&lang=js\"\nexport * from \"./Permissions.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","slot","page","$t","folder","isLoading","mode","columns","totalRows","rows","roles","onPageChange","onPerPageChange","onSortChange","onSearch","styleClass","currentUserPermissions","includes","to","props","row","id","column","field","title","Delete_Role","metaInfo","data","serverParams","columnFilters","sort","type","perPage","search","limit","computed","label","this","tdClass","thClass","html","sortable","methods","updateParams","newProps","Object","assign","currentPage","Get_Roles","currentPerPage","params","value","searchTerm","axios","get","then","response","catch","setTimeout","$swal","text","showCancelButton","confirmButtonColor","cancelButtonColor","cancelButtonText","confirmButtonText","result","delete","Fire","$emit","created","$on","__exports__","render"],"sourceRoot":""}