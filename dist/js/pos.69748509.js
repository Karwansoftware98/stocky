"use strict";(self["webpackChunk"]=self["webpackChunk"]||[]).push([[3387],{37427:(e,t,a)=>{a.d(t,{c:()=>p});var i="https://js.stripe.com/v3",s=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,l="loadStripe.setLoadParameters was called but an existing Stripe.js script already exists in the document; existing script parameters will be used",n=function(){for(var e=document.querySelectorAll('script[src^="'.concat(i,'"]')),t=0;t<e.length;t++){var a=e[t];if(s.test(a.src))return a}return null},d=function(e){var t=e&&!e.advancedFraudSignals?"?advancedFraudSignals=false":"",a=document.createElement("script");a.src="".concat(i).concat(t);var s=document.head||document.body;if(!s)throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return s.appendChild(a),a},o=function(e,t){e&&e._registerWrapper&&e._registerWrapper({name:"stripe-js",version:"1.54.2",startTime:t})},r=null,u=function(e){return null!==r||(r=new Promise((function(t,a){if("undefined"!==typeof window&&"undefined"!==typeof document)if(window.Stripe&&e&&console.warn(l),window.Stripe)t(window.Stripe);else try{var i=n();i&&e?console.warn(l):i||(i=d(e)),i.addEventListener("load",(function(){window.Stripe?t(window.Stripe):a(new Error("Stripe.js not available"))})),i.addEventListener("error",(function(){a(new Error("Failed to load Stripe.js"))}))}catch(s){return void a(s)}else t(null)}))),r},c=function(e,t,a){if(null===e)return null;var i=e.apply(void 0,t);return o(i,a),i},h=Promise.resolve().then((function(){return u(null)})),_=!1;h["catch"]((function(e){_||console.warn(e)}));var p=function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];_=!0;var i=Date.now();return h.then((function(e){return c(e,t,i)}))}},62414:(e,t,a)=>{a.d(t,{A:()=>m});var i=a(20641),s=a(53751),l=a(90033);const n={ref:"template"},d=(0,i.Lk)("span",null,"编写你自己的打印区域组件，然后slot插入到vue-easy-print",-1),o=(0,i.Lk)("span",null,"开始打印",-1),r=[o];function u(e,t,a,o,u,c){return(0,i.uX)(),(0,i.CE)("div",null,[(0,i.bo)((0,i.Lk)("div",n,[(0,i.RG)(e.$slots,"default",{getChineseNumber:c.getChineseNumber},(()=>[d]))],512),[[s.aG,a.tableShow]]),a.buttonShow?((0,i.uX)(),(0,i.CE)("button",{key:0,onClick:t[0]||(t[0]=(...e)=>c.print&&c.print(...e)),type:"button",class:(0,l.C4)(a.buttonClass)},r,2)):(0,i.Q3)("",!0)])}const c={name:"vue-easy-print",components:{},props:{spaceRow:{type:Boolean,default:!1},tableData:{type:Object,default(){}},tableShow:{type:Boolean,default:!1},buttonShow:{type:Boolean,default:!1},buttonClass:{type:String,default:"el-button el-button--default"},onePageRow:{type:Number,default:5},beforeCopy:Function,beforePrint:Function},data(){return{}},mounted(){this.init()},methods:{init(){let e=document.getElementById("easyPrintIframe");e?this.getStyle():(e=document.createElement("iframe"),e.id="easyPrintIframe",e.style.position="fixed",e.style.width="0",e.style.height="0",e.style.top="-100px",window.location.hostname!==document.domain&&navigator.userAgent.match(/msie/i)&&(e.src='javascript:document.write("<head><script>document.domain=\\"'+document.domain+'\\";<\/script></head><body></body>")'),e.onload=()=>{this.getStyle()},document.body.appendChild(e))},print(){"function"===typeof this.beforeCopy&&this.beforeCopy();let e=document.getElementById("easyPrintIframe");e.contentDocument.body.innerHTML=this.$refs.template.innerHTML,"function"===typeof this.beforePrint&&this.beforePrint(),this.$nextTick((()=>{setTimeout((()=>{e.contentWindow.print()}),100)}))},getStyle(){let e=document.getElementById("easyPrintIframe");for(var t="",a=document.querySelectorAll("style"),i=0;i<a.length;i++)t+=a[i].outerHTML;e.contentDocument.head.innerHTML=t;let s=document.querySelectorAll("link");for(let l=0;l<s.length;l++){let t=document.createElement("link");t.setAttribute("rel","stylesheet"),s[l].type?t.setAttribute("type",s[l].type):t.setAttribute("type","text/css"),t.setAttribute("href",s[l].href),t.setAttribute("media","all"),e.contentDocument.head.appendChild(t)}},getChineseNumber(e){var t,a,i,s,l,n,d,o,r,u,c,h,_,p,m=99999999999.99,g="零",b="壹",k="贰",f="叁",v="肆",y="伍",L="陆",w="柒",F="捌",x="玖",C="拾",P="佰",$="仟",S="万",T="亿",V="",U="元",q="角",N="分",W="整";if(void 0===e)return"";if(e=e.toString(),""==e)return"";if(null!=e.match(/[^,.\d]/))return"";if(null==e.match(/^((\d{1,3}(,\d{3})*(.((\d{3},)*\d{1,3}))?)|(\d+(.\d+)?))$/))return"";if(e=e.replace(/,/g,""),e=e.replace(/^0+/,""),Number(e)>m)return alert("您输入的金额太大，请重新输入!"),"";if(s=e.split("."),s.length>1?(t=s[0],a=s[1],a=a.substr(0,2)):(t=s[0],a=""),l=new Array(g,b,k,f,v,y,L,w,F,x),n=new Array("",C,P,$),d=new Array("",S,T),o=new Array(q,N),i="",Number(t)>0){for(r=0,u=0;u<t.length;u++)c=t.length-u-1,h=t.substr(u,1),_=c/4,p=c%4,"0"==h?r++:(r>0&&(i+=l[0]),r=0,i+=l[Number(h)]+n[p]),0==p&&r<4&&(i+=d[_]);i+=U}if(""!=a)for(u=0;u<a.length;u++)h=a.substr(u,1),"0"!=h&&(i+=l[Number(h)]+o[u]);return""==i&&(i=g+U),""==a&&(i+=W),i=V+i,i}}};var h=a(66262);const _=(0,h.A)(c,[["render",u]]),p=_;const m=p},9501:(e,t,a)=>{a.d(t,{A:()=>h});var i=a(20641),s=a(90033);const l=["title"];function n(e,t,a,n,d,o){return a.iso?((0,i.uX)(),(0,i.CE)("span",{key:0,class:(0,s.C4)(["flag-icon",o.flagIconClass]),title:a.title||a.iso},null,10,l)):(0,i.Q3)("",!0)}const d={name:"flag",props:{iso:{type:String,default:null},title:{type:String,default:null},squared:{type:Boolean,default:!0}},computed:{flagIconClass(){return(this.squared?"flag-icon-squared ":"")+"flag-icon-"+this.iso.toLowerCase()}}};var o=a(66262);const r=(0,o.A)(d,[["render",n]]),u=r,c={install:function(e){c.installed||(c.installed=!0,e.component("flag",u))}};"undefined"!==typeof window&&window.Vue&&window.Vue.use(c);const h=c},3188:(e,t,a)=>{a.r(t),a.d(t,{default:()=>pi});var i=a(20641),s=a(90033),l=a(53751);const n={class:"pos_page"},d={class:"container-fluid p-0 app-admin-wrap layout-sidebar-large clearfix",id:"pos"},o={key:0,class:"loading_page spinner spinner-primary mr-3"},r={class:"main-header"},u={class:"logo"},c=["src"],h=(0,i.Lk)("div",{class:"mx-auto"},null,-1),_={class:"header-part-right"},p={class:"dropdown"},m=(0,i.Lk)("template",{slot:"button-content"},[(0,i.Lk)("i",{class:"i-Globe text-muted header-icon",role:"button",id:"dropdownMenuButton","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"})],-1),g={class:"menu-icon-grid"},b=(0,i.Lk)("i",{title:"en",class:"flag-icon flag-icon-squared flag-icon-gb"},null,-1),k=(0,i.Lk)("i",{title:"fr",class:"flag-icon flag-icon-squared flag-icon-fr"},null,-1),f=(0,i.Lk)("span",{class:"title-lang"},"French",-1),v=[k,f],y=(0,i.Lk)("i",{title:"sa",class:"flag-icon flag-icon-squared flag-icon-sa"},null,-1),L=(0,i.Lk)("span",{class:"title-lang"},"Arabic",-1),w=[y,L],F=(0,i.Lk)("i",{title:"sa",class:"flag-icon flag-icon-squared flag-icon-tr"},null,-1),x=(0,i.Lk)("span",{class:"title-lang"},"Turkish",-1),C=[F,x],P=(0,i.Lk)("i",{title:"sa",class:"flag-icon flag-icon-squared flag-icon-cn"},null,-1),$=(0,i.Lk)("span",{class:"title-lang"},"Simplified Chinese",-1),S=[P,$],T=(0,i.Lk)("i",{title:"sa",class:"flag-icon flag-icon-squared flag-icon-th"},null,-1),V=(0,i.Lk)("span",{class:"title-lang"},"Thaï",-1),U=[T,V],q=(0,i.Lk)("i",{title:"sa",class:"flag-icon flag-icon-squared flag-icon-in"},null,-1),N=(0,i.Lk)("span",{class:"title-lang"},"Hindi",-1),W=[q,N],A=(0,i.Lk)("i",{title:"de",class:"flag-icon flag-icon-squared flag-icon-de"},null,-1),E=(0,i.Lk)("span",{class:"title-lang"},"German",-1),M=[A,E],D=(0,i.Lk)("i",{title:"es",class:"flag-icon flag-icon-squared flag-icon-es"},null,-1),G=(0,i.Lk)("span",{class:"title-lang"},"Spanish",-1),I=[D,G],R=(0,i.Lk)("i",{title:"it",class:"flag-icon flag-icon-squared flag-icon-it"},null,-1),B=(0,i.Lk)("span",{class:"title-lang"},"Italien",-1),X=[R,B],Q=(0,i.Lk)("i",{title:"sa",class:"flag-icon flag-icon-squared flag-icon-id"},null,-1),j=(0,i.Lk)("span",{class:"title-lang"},"Indonesian",-1),O=[Q,j],K=(0,i.Lk)("i",{title:"sa",class:"flag-icon flag-icon-squared flag-icon-cn"},null,-1),z=(0,i.Lk)("span",{class:"title-lang"},"Traditional Chinese",-1),H=[K,z],Y=(0,i.Lk)("i",{title:"sa",class:"flag-icon flag-icon-squared flag-icon-ru"},null,-1),J=(0,i.Lk)("span",{class:"title-lang"},"Russian",-1),Z=[Y,J],ee=(0,i.Lk)("i",{title:"sa",class:"flag-icon flag-icon-squared flag-icon-vn"},null,-1),te=(0,i.Lk)("span",{class:"title-lang"},"Vietnamese",-1),ae=[ee,te],ie=(0,i.Lk)("i",{title:"sa",class:"flag-icon flag-icon-squared flag-icon-kr"},null,-1),se=(0,i.Lk)("span",{class:"title-lang"},"Korean",-1),le=[ie,se],ne=(0,i.Lk)("i",{title:"sa",class:"flag-icon flag-icon-squared flag-icon-bd"},null,-1),de=(0,i.Lk)("span",{class:"title-lang"},"Bangla",-1),oe=[ne,de],re=(0,i.Lk)("i",{title:"pt",class:"flag-icon flag-icon-squared flag-icon-pt"},null,-1),ue=(0,i.Lk)("span",{class:"title-lang"},"Portuguese",-1),ce=[re,ue],he={class:"dropdown"},_e={slot:"button-content"},pe=["src"],me={class:"dropdown-menu-left","aria-labelledby":"userDropdown"},ge={class:"dropdown-header"},be=(0,i.Lk)("i",{class:"i-Lock-User mr-1"},null,-1),ke=(0,i.Lk)("span",null,[(0,i.Lk)("i",{class:"i-Add-User"})],-1),fe={class:"pos-detail"},ve={class:"table-responsive"},ye={class:"table table-striped"},Le={scope:"col"},we={scope:"col"},Fe={scope:"col",class:"text-center"},xe={scope:"col",class:"text-center"},Ce=(0,i.Lk)("th",{scope:"col",class:"text-center"},[(0,i.Lk)("i",{class:"fa fa-trash"})],-1),Pe={key:0},$e={colspan:"5"},Se=(0,i.Lk)("br",null,null,-1),Te={class:"badge badge-success"},Ve=["onClick"],Ue={class:"quantity"},qe=["onClick"],Ne=["onKeyup","onUpdate:modelValue"],We=["onClick"],Ae={class:"text-center"},Ee=["onClick"],Me=(0,i.Lk)("i",{class:"i-Close-Window text-25 text-danger cursor-pointer"},null,-1),De=[Me],Ge={class:"footer_panel"},Ie={class:"grandtotal"},Re=(0,i.Lk)("i",{class:"i-Power-2"},null,-1),Be=(0,i.Lk)("i",{class:"i-Checkout"},null,-1),Xe={class:"btn btn-outline-info mt-1 btn-block"},Qe=(0,i.Lk)("i",{class:"i-Two-Windows"},null,-1),je={class:"btn btn-outline-info mt-1 btn-block"},Oe=(0,i.Lk)("i",{class:"i-Library"},null,-1),Ke={id:"autocomplete",class:"autocomplete"},ze=["placeholder"],He={class:"autocomplete-result-list"},Ye=["onMousedown"],Je={class:"col-md-12 d-flex flex-row flex-wrap bd-highlight list-item mt-2"},Ze=["onClick"],et={class:"list-thumb d-flex"},tt=["src"],at={class:"flex-grow-1 d-bock"},it={class:"card-body align-self-center d-flex flex-column justify-content-between align-items-lg-center"},st={class:"w-40 w-sm-100 item-title"},lt={class:"text-muted text-small w-15 w-sm-100 mb-2"},nt={class:"badge badge-primary w-15 w-sm-100 mb-2"},dt={key:0,class:"m-0 text-muted text-small w-15 w-sm-100 d-none d-lg-block item-badges"},ot={class:"badge badge-info"},rt=(0,i.Lk)("p",{class:"list-arrow m-0",slot:"prev-text"},[(0,i.Lk)("i",{class:"i-Arrow-Left text-40"})],-1),ut=(0,i.Lk)("p",{class:"list-arrow m-0",slot:"next-text"},[(0,i.Lk)("i",{class:"i-Arrow-Right text-40"})],-1),ct={class:"px-3 py-2"},ht={class:"col-md-12 d-flex flex-row flex-wrap bd-highlight list-item mt-2"},_t=(0,i.Lk)("div",{class:"list-thumb d-flex"},[(0,i.Lk)("img",{alt:"",src:"/images/no-image.png"})],-1),pt={class:"flex-grow-1 d-bock"},mt={class:"card-body align-self-center d-flex flex-column justify-content-between align-items-lg-center"},gt={class:"item-title"},bt=["onClick"],kt=["src"],ft={class:"flex-grow-1 d-bock"},vt={class:"card-body align-self-center d-flex flex-column justify-content-between align-items-lg-center"},yt={class:"item-title"},Lt=(0,i.Lk)("p",{class:"list-arrow m-0",slot:"prev-text"},[(0,i.Lk)("i",{class:"i-Arrow-Left text-40"})],-1),wt=(0,i.Lk)("p",{class:"list-arrow m-0",slot:"next-text"},[(0,i.Lk)("i",{class:"i-Arrow-Right text-40"})],-1),Ft={class:"px-3 py-2"},xt={class:"col-md-12 d-flex flex-row flex-wrap bd-highlight list-item mt-2"},Ct=(0,i.Lk)("div",{class:"list-thumb d-flex"},[(0,i.Lk)("img",{alt:"",src:"/images/no-image.png"})],-1),Pt={class:"flex-grow-1 d-bock"},$t={class:"card-body align-self-center d-flex flex-column justify-content-between align-items-lg-center"},St={class:"item-title"},Tt=["onClick"],Vt=(0,i.Lk)("img",{alt:"",src:"/images/no-image.png"},null,-1),Ut={class:"flex-grow-1 d-bock"},qt={class:"card-body align-self-center d-flex flex-column justify-content-between align-items-lg-center"},Nt={class:"item-title"},Wt=(0,i.Lk)("p",{class:"list-arrow m-0",slot:"prev-text"},[(0,i.Lk)("i",{class:"i-Arrow-Left text-40"})],-1),At=(0,i.Lk)("p",{class:"list-arrow m-0",slot:"next-text"},[(0,i.Lk)("i",{class:"i-Arrow-Right text-40"})],-1),Et={id:"invoice-POS"},Mt={style:{"max-width":"400px",margin:"0px auto"}},Dt={class:"info"},Gt={class:"invoice_logo text-center mb-2"},It=["src"],Rt=(0,i.Lk)("br",null,null,-1),Bt=(0,i.Lk)("br",null,null,-1),Xt=(0,i.Lk)("br",null,null,-1),Qt=(0,i.Lk)("br",null,null,-1),jt=(0,i.Lk)("br",null,null,-1),Ot=(0,i.Lk)("br",null,null,-1),Kt={class:"table_data"},zt={colspan:"3"},Ht=(0,i.Lk)("br",null,null,-1),Yt={style:{"text-align":"right","vertical-align":"bottom"}},Jt={style:{"margin-top":"10px"}},Zt={colspan:"3",class:"total"},ea={style:{"text-align":"right"},class:"total"},ta={style:{"margin-top":"10px"}},aa={colspan:"3",class:"total"},ia={style:{"text-align":"right"},class:"total"},sa={style:{"margin-top":"10px"}},la={colspan:"3",class:"total"},na={style:{"text-align":"right"},class:"total"},da={style:{"margin-top":"10px"}},oa={colspan:"3",class:"total"},ra={style:{"text-align":"right"},class:"total"},ua={colspan:"3",class:"total"},ca={style:{"text-align":"right"},class:"total"},ha={colspan:"3",class:"total"},_a={style:{"text-align":"right"},class:"total"},pa={class:"change mt-3",style:{"font-size":"10px"}},ma={style:{background:"#eee"}},ga={style:{"text-align":"left"},colspan:"1"},ba={style:{"text-align":"center"},colspan:"2"},ka={style:{"text-align":"right"},colspan:"1"},fa={style:{"text-align":"left"},colspan:"1"},va={style:{"text-align":"center"},colspan:"2"},ya={style:{"text-align":"right"},colspan:"1"},La={id:"legalcopy",class:"ml-2"},wa={class:"legal"},Fa={id:"bar"},xa=(0,i.Lk)("i",{class:"i-Billing"},null,-1),Ca={class:"text-center mt-3 mb-3"},Pa={class:"change_amount"},$a={class:"font-weight-bold"},Sa={class:"font-weight-bold"},Ta={class:"font-weight-bold"},Va={class:"font-weight-bold"},Ua={key:0,class:"typo__p"},qa=(0,i.Lk)("div",{class:"spinner sm spinner-primary mt-3"},null,-1),Na=[qa],Wa={key:1},Aa={class:"mt-3"},Ea=(0,i.Lk)("span",{class:"mr-3"},"Saved Credit Card Info For This Client ",-1),Ma=(0,i.Lk)("span",null,[(0,i.Lk)("i",{class:"i-Two-Windows"}),(0,i.eW)(" New Credit Card ")],-1),Da={class:"table table-hover mt-3"},Ga=(0,i.Lk)("thead",null,[(0,i.Lk)("tr",null,[(0,i.Lk)("th",null,"Last 4 digits"),(0,i.Lk)("th",null,"Type"),(0,i.Lk)("th",null,"Exp"),(0,i.Lk)("th",null,"Action")])],-1),Ia=(0,i.Lk)("span",null,[(0,i.Lk)("i",{class:"i-Drag-Up"}),(0,i.eW)(" Use This ")],-1),Ra={key:1,class:"i-Yes",style:{"font-size":"20px"}},Ba={key:2},Xa={id:"payment-form"},Qa={for:"card-element",class:"leading-7 text-sm text-gray-600"},ja=(0,i.Lk)("span",null,[(0,i.Lk)("i",{class:"i-Two-Windows"}),(0,i.eW)(" Use Saved Credit Card ")],-1),Oa=(0,i.Lk)("div",{id:"card-element"},null,-1),Ka=(0,i.Lk)("div",{id:"card-errors",class:"is-invalid",role:"alert"},null,-1),za=(0,i.Lk)("i",{class:"i-Yes me-2 font-weight-bold"},null,-1),Ha={key:0,class:"typo__p"},Ya=(0,i.Lk)("div",{class:"spinner sm spinner-primary mt-3"},null,-1),Ja=[Ya],Za=["placeholder"],ei=(0,i.Lk)("i",{class:"i-Yes me-2 font-weight-bold"},null,-1);function ti(e,t,a,k,f,y){const L=(0,i.g2)("router-link"),F=(0,i.g2)("vue-perfect-scrollbar"),x=(0,i.g2)("b-dropdown"),P=(0,i.g2)("v-select"),$=(0,i.g2)("b-button"),T=(0,i.g2)("b-input-group-append"),V=(0,i.g2)("b-input-group"),q=(0,i.g2)("validation-provider"),N=(0,i.g2)("b-col"),A=(0,i.g2)("b-form-group"),E=(0,i.g2)("b-input-group-prepend"),D=(0,i.g2)("b-row"),G=(0,i.g2)("b-form-input"),R=(0,i.g2)("b-form-invalid-feedback"),B=(0,i.g2)("b-card-body"),Q=(0,i.g2)("b-form"),j=(0,i.g2)("validation-observer"),K=(0,i.g2)("b-modal"),z=(0,i.g2)("b-card"),Y=(0,i.g2)("b-pagination"),J=(0,i.g2)("b-sidebar"),ee=(0,i.g2)("barcode"),te=(0,i.g2)("b-badge"),ie=(0,i.g2)("b-list-group-item"),se=(0,i.g2)("b-list-group"),ne=(0,i.g2)("b-form-textarea"),de=(0,i.gN)("b-toggle");return(0,i.uX)(),(0,i.CE)("div",n,[(0,i.Lk)("div",d,[f.isLoading?((0,i.uX)(),(0,i.CE)("div",o)):(0,i.Q3)("",!0),f.isLoading?(0,i.Q3)("",!0):((0,i.uX)(),(0,i.Wv)(D,{key:1},{default:(0,i.k6)((()=>[(0,i.bF)(N,{md:"5"},{default:(0,i.k6)((()=>[(0,i.bF)(z,{"no-body":"",class:"card-order"},{default:(0,i.k6)((()=>[(0,i.Lk)("div",r,[(0,i.Lk)("div",u,[(0,i.bF)(L,{to:"/app/dashboard"},{default:(0,i.k6)((()=>[(0,i.Lk)("img",{src:"/images/"+e.currentUser.logo,alt:"",width:"60",height:"60"},null,8,c)])),_:1})]),h,(0,i.Lk)("div",_,[(0,i.Lk)("i",{class:"i-Full-Screen header-icon d-none d-sm-inline-block",onClick:t[0]||(t[0]=(...e)=>y.handleFullScreen&&y.handleFullScreen(...e))}),(0,i.Lk)("div",p,[(0,i.bF)(x,{id:"dropdown",text:"Dropdown Button",class:"m-md-2","toggle-class":"text-decoration-none","no-caret":"",right:"",variant:"link"},{default:(0,i.k6)((()=>[m,(0,i.bF)(F,{settings:{suppressScrollX:!0,wheelPropagation:!1},ref:"myData",class:"dropdown-menu-left rtl-ps-none notification-dropdown ps scroll"},{default:(0,i.k6)((()=>[(0,i.Lk)("div",g,[(0,i.Lk)("a",{onClick:t[1]||(t[1]=e=>y.SetLocal("en"))},[b,(0,i.eW)(" English ")]),(0,i.Lk)("a",{onClick:t[2]||(t[2]=e=>y.SetLocal("fr"))},v),(0,i.Lk)("a",{onClick:t[3]||(t[3]=e=>y.SetLocal("ar"))},w),(0,i.Lk)("a",{onClick:t[4]||(t[4]=e=>y.SetLocal("tur"))},C),(0,i.Lk)("a",{onClick:t[5]||(t[5]=e=>y.SetLocal("sm_ch"))},S),(0,i.Lk)("a",{onClick:t[6]||(t[6]=e=>y.SetLocal("thai"))},U),(0,i.Lk)("a",{onClick:t[7]||(t[7]=e=>y.SetLocal("hn"))},W),(0,i.Lk)("a",{onClick:t[8]||(t[8]=e=>y.SetLocal("de"))},M),(0,i.Lk)("a",{onClick:t[9]||(t[9]=e=>y.SetLocal("es"))},I),(0,i.Lk)("a",{onClick:t[10]||(t[10]=e=>y.SetLocal("it"))},X),(0,i.Lk)("a",{onClick:t[11]||(t[11]=e=>y.SetLocal("Ind"))},O),(0,i.Lk)("a",{onClick:t[12]||(t[12]=e=>y.SetLocal("tr_ch"))},H),(0,i.Lk)("a",{onClick:t[13]||(t[13]=e=>y.SetLocal("ru"))},Z),(0,i.Lk)("a",{onClick:t[14]||(t[14]=e=>y.SetLocal("vn"))},ae),(0,i.Lk)("a",{onClick:t[15]||(t[15]=e=>y.SetLocal("kr"))},le),(0,i.Lk)("a",{onClick:t[16]||(t[16]=e=>y.SetLocal("ba"))},oe),(0,i.Lk)("a",{onClick:t[17]||(t[17]=e=>y.SetLocal("br"))},ce)])])),_:1},512)])),_:1})]),(0,i.Lk)("div",he,[(0,i.bF)(x,{id:"dropdown-1",text:"Dropdown Button",class:"m-md-2 user col align-self-end","toggle-class":"text-decoration-none","no-caret":"",variant:"link",right:""},{default:(0,i.k6)((()=>[(0,i.Lk)("template",_e,[(0,i.Lk)("img",{src:"/images/avatar/"+e.currentUser.avatar,id:"userDropdown",alt:"","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},null,8,pe)]),(0,i.Lk)("div",me,[(0,i.Lk)("div",ge,[be,(0,i.Lk)("span",null,(0,s.v_)(e.currentUser.username),1)]),(0,i.bF)(L,{to:"/app/profile",class:"dropdown-item"},{default:(0,i.k6)((()=>[(0,i.eW)((0,s.v_)(e.$t("profil")),1)])),_:1}),e.currentUserPermissions&&e.currentUserPermissions.includes("setting_system")?((0,i.uX)(),(0,i.Wv)(L,{key:0,to:"/app/settings/System_settings",class:"dropdown-item"},{default:(0,i.k6)((()=>[(0,i.eW)((0,s.v_)(e.$t("Settings")),1)])),_:1})):(0,i.Q3)("",!0),(0,i.Lk)("a",{class:"dropdown-item",href:"#",onClick:t[18]||(t[18]=(0,l.D$)(((...e)=>y.logoutUser&&y.logoutUser(...e)),["prevent"]))},(0,s.v_)(e.$t("logout")),1)])])),_:1})])])]),(0,i.bF)(j,{ref:"create_pos"},{default:(0,i.k6)((()=>[(0,i.bF)(Q,{onSubmit:(0,l.D$)(y.Submit_Pos,["prevent"])},{default:(0,i.k6)((()=>[(0,i.bF)(B,null,{default:(0,i.k6)((()=>[(0,i.bF)(D,null,{default:(0,i.k6)((()=>[(0,i.bF)(N,{lg:"12",md:"12",sm:"12"},{default:(0,i.k6)((()=>[(0,i.bF)(q,{name:"Customer",rules:{required:!0}},{default:(0,i.k6)((()=>[(0,i.bF)(V,{"slot-scope":"{ valid, errors }",class:"input-customer"},{default:(0,i.k6)((()=>[(0,i.bF)(P,{class:(0,s.C4)([{"is-invalid":!!e.errors.length},"w-100"]),state:!e.errors[0]&&(!!e.valid||null),modelValue:f.sale.client_id,"onUpdate:modelValue":t[19]||(t[19]=e=>f.sale.client_id=e),onInput:y.onClientSelected,reduce:e=>e.value,placeholder:e.$t("Choose_Customer"),options:f.clients.map((e=>({label:e.name,value:e.id})))},null,8,["class","state","modelValue","onInput","reduce","placeholder","options"]),(0,i.bF)(T,null,{default:(0,i.k6)((()=>[(0,i.bF)($,{variant:"primary",onClick:t[20]||(t[20]=e=>y.New_Client())},{default:(0,i.k6)((()=>[ke])),_:1})])),_:1})])),_:1})])),_:1})])),_:1}),(0,i.bF)(N,{lg:"12",md:"12",sm:"12"},{default:(0,i.k6)((()=>[(0,i.bF)(q,{name:"warehouse",rules:{required:!0}},{default:(0,i.k6)((()=>[(0,i.bF)(A,{"slot-scope":"{ valid, errors }",class:"mt-2"},{default:(0,i.k6)((()=>[(0,i.bF)(P,{class:(0,s.C4)({"is-invalid":!!e.errors.length}),state:!e.errors[0]&&(!!e.valid||null),disabled:f.details.length>0,onInput:y.Selected_Warehouse,modelValue:f.sale.warehouse_id,"onUpdate:modelValue":t[21]||(t[21]=e=>f.sale.warehouse_id=e),reduce:e=>e.value,placeholder:e.$t("Choose_Warehouse"),options:f.warehouses.map((e=>({label:e.name,value:e.id})))},null,8,["class","state","disabled","onInput","modelValue","reduce","placeholder","options"])])),_:1})])),_:1})])),_:1}),(0,i.bF)(N,{md:"12",class:"mt-2"},{default:(0,i.k6)((()=>[(0,i.Lk)("div",fe,[(0,i.Lk)("div",ve,[(0,i.Lk)("table",ye,[(0,i.Lk)("thead",null,[(0,i.Lk)("tr",null,[(0,i.Lk)("th",Le,(0,s.v_)(e.$t("ProductName")),1),(0,i.Lk)("th",we,(0,s.v_)(e.$t("Price")),1),(0,i.Lk)("th",Fe,(0,s.v_)(e.$t("Qty")),1),(0,i.Lk)("th",xe,(0,s.v_)(e.$t("SubTotal")),1),Ce])]),(0,i.Lk)("tbody",null,[f.details.length<=0?((0,i.uX)(),(0,i.CE)("tr",Pe,[(0,i.Lk)("td",$e,(0,s.v_)(e.$t("NodataAvailable")),1)])):(0,i.Q3)("",!0),((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(f.details,((t,a)=>((0,i.uX)(),(0,i.CE)("tr",{key:a},[(0,i.Lk)("td",null,[(0,i.Lk)("span",null,(0,s.v_)(t.code),1),Se,(0,i.Lk)("span",Te,(0,s.v_)(t.name),1),e.currentUserPermissions&&e.currentUserPermissions.includes("edit_product_sale")?((0,i.uX)(),(0,i.CE)("i",{key:0,onClick:e=>y.Modal_Updat_Detail(t),class:"i-Edit text-success cursor-pointer"},null,8,Ve)):(0,i.Q3)("",!0)]),(0,i.Lk)("td",null,(0,s.v_)(e.currentUser.currency)+" "+(0,s.v_)(y.formatNumber(t.Total_price,2)),1),(0,i.Lk)("td",null,[(0,i.Lk)("div",Ue,[(0,i.bF)(V,null,{default:(0,i.k6)((()=>[(0,i.bF)(E,null,{default:(0,i.k6)((()=>[(0,i.Lk)("span",{class:"btn btn-primary btn-sm",onClick:e=>y.decrement(t,t.detail_id)},"-",8,qe)])),_:2},1024),(0,i.bo)((0,i.Lk)("input",{class:"form-control",onKeyup:e=>y.Verified_Qty(t,t.detail_id),"onUpdate:modelValue":e=>t.quantity=e},null,40,Ne),[[l.Jo,t.quantity,void 0,{number:!0}]]),(0,i.bF)(T,null,{default:(0,i.k6)((()=>[(0,i.Lk)("span",{class:"btn btn-primary btn-sm",onClick:e=>y.increment(t.detail_id)},"+",8,We)])),_:2},1024)])),_:2},1024)])]),(0,i.Lk)("td",Ae,(0,s.v_)(e.currentUser.currency)+" "+(0,s.v_)(t.subtotal.toFixed(2)),1),(0,i.Lk)("td",null,[(0,i.Lk)("a",{onClick:e=>y.delete_Product_Detail(t.detail_id),title:"Delete"},De,8,Ee)])])))),128))])])])])])),_:1})])),_:1}),(0,i.Lk)("div",Ge,[(0,i.bF)(D,null,{default:(0,i.k6)((()=>[(0,i.bF)(N,{md:"12"},{default:(0,i.k6)((()=>[(0,i.Lk)("div",Ie,[(0,i.Lk)("span",null,(0,s.v_)(e.$t("Total_Payable"))+" : "+(0,s.v_)(e.currentUser.currency)+" "+(0,s.v_)(f.GrandTotal.toFixed(2)),1)])])),_:1}),e.currentUserPermissions&&e.currentUserPermissions.includes("edit_tax_discount_shipping_sale")?((0,i.uX)(),(0,i.Wv)(N,{key:0,lg:"4",md:"4",sm:"12"},{default:(0,i.k6)((()=>[(0,i.bF)(q,{name:"Order Tax",rules:{regex:/^\d*\.?\d*$/}},{default:(0,i.k6)((a=>[(0,i.bF)(A,{label:e.$t("Tax"),append:"%"},{default:(0,i.k6)((()=>[(0,i.bF)(V,{append:"%"},{default:(0,i.k6)((()=>[(0,i.bF)(G,{state:y.getValidationState(a),"aria-describedby":"OrderTax-feedback",label:"Order Tax",modelValue:f.sale.tax_rate,"onUpdate:modelValue":t[22]||(t[22]=e=>f.sale.tax_rate=e),modelModifiers:{number:!0},onKeyup:t[23]||(t[23]=e=>y.keyup_OrderTax())},null,8,["state","modelValue"])])),_:2},1024),(0,i.bF)(R,{id:"OrderTax-feedback"},{default:(0,i.k6)((()=>[(0,i.eW)((0,s.v_)(a.errors[0]),1)])),_:2},1024)])),_:2},1032,["label"])])),_:1})])),_:1})):(0,i.Q3)("",!0),e.currentUserPermissions&&e.currentUserPermissions.includes("edit_tax_discount_shipping_sale")?((0,i.uX)(),(0,i.Wv)(N,{key:1,lg:"4",md:"4",sm:"12"},{default:(0,i.k6)((()=>[(0,i.bF)(q,{name:"Discount",rules:{regex:/^\d*\.?\d*$/}},{default:(0,i.k6)((a=>[(0,i.bF)(A,{label:e.$t("Discount"),append:"%"},{default:(0,i.k6)((()=>[(0,i.bF)(V,{append:e.currentUser.currency},{default:(0,i.k6)((()=>[(0,i.bF)(G,{state:y.getValidationState(a),"aria-describedby":"Discount-feedback",label:"Discount",modelValue:f.sale.discount,"onUpdate:modelValue":t[24]||(t[24]=e=>f.sale.discount=e),modelModifiers:{number:!0},onKeyup:t[25]||(t[25]=e=>y.keyup_Discount())},null,8,["state","modelValue"])])),_:2},1032,["append"]),(0,i.bF)(R,{id:"Discount-feedback"},{default:(0,i.k6)((()=>[(0,i.eW)((0,s.v_)(a.errors[0]),1)])),_:2},1024)])),_:2},1032,["label"])])),_:1})])),_:1})):(0,i.Q3)("",!0),e.currentUserPermissions&&e.currentUserPermissions.includes("edit_tax_discount_shipping_sale")?((0,i.uX)(),(0,i.Wv)(N,{key:2,lg:"4",md:"4",sm:"12"},{default:(0,i.k6)((()=>[(0,i.bF)(q,{name:"Shipping",rules:{regex:/^\d*\.?\d*$/}},{default:(0,i.k6)((a=>[(0,i.bF)(A,{label:e.$t("Shipping")},{default:(0,i.k6)((()=>[(0,i.bF)(V,{append:e.currentUser.currency},{default:(0,i.k6)((()=>[(0,i.bF)(G,{state:y.getValidationState(a),"aria-describedby":"Shipping-feedback",label:"Shipping",modelValue:f.sale.shipping,"onUpdate:modelValue":t[26]||(t[26]=e=>f.sale.shipping=e),modelModifiers:{number:!0},onKeyup:t[27]||(t[27]=e=>y.keyup_Shipping())},null,8,["state","modelValue"])])),_:2},1032,["append"]),(0,i.bF)(R,{id:"Shipping-feedback"},{default:(0,i.k6)((()=>[(0,i.eW)((0,s.v_)(a.errors[0]),1)])),_:2},1024)])),_:2},1032,["label"])])),_:1})])),_:1})):(0,i.Q3)("",!0),(0,i.bF)(N,{md:"6",sm:"12"},{default:(0,i.k6)((()=>[(0,i.bF)($,{onClick:t[28]||(t[28]=e=>y.Reset_Pos()),variant:"danger ripple btn-rounded btn-block mt-1"},{default:(0,i.k6)((()=>[Re,(0,i.eW)(" "+(0,s.v_)(e.$t("Reset")),1)])),_:1})])),_:1}),(0,i.bF)(N,{md:"6",sm:"12"},{default:(0,i.k6)((()=>[(0,i.bF)($,{type:"submit",variant:"success ripple mt-1 btn-rounded btn-block"},{default:(0,i.k6)((()=>[Be,(0,i.eW)(" "+(0,s.v_)(e.$t("payNow")),1)])),_:1})])),_:1})])),_:1})])])),_:1})])),_:1},8,["onSubmit"])])),_:1},512),(0,i.bF)(j,{ref:"Update_Detail"},{default:(0,i.k6)((()=>[(0,i.bF)(K,{"hide-footer":"",size:"lg",id:"form_Update_Detail",title:f.detail.name},{default:(0,i.k6)((()=>[(0,i.bF)(Q,{onSubmit:(0,l.D$)(y.submit_Update_Detail,["prevent"])},{default:(0,i.k6)((()=>[(0,i.bF)(D,null,{default:(0,i.k6)((()=>[(0,i.bF)(N,{lg:"6",md:"6",sm:"12"},{default:(0,i.k6)((()=>[(0,i.bF)(q,{name:"Product Price",rules:{required:!0,regex:/^\d*\.?\d*$/}},{default:(0,i.k6)((a=>[(0,i.bF)(A,{label:e.$t("ProductPrice")+" *",id:"Price-input"},{default:(0,i.k6)((()=>[(0,i.bF)(G,{label:"Product Price",modelValue:f.detail.Unit_price,"onUpdate:modelValue":t[29]||(t[29]=e=>f.detail.Unit_price=e),state:y.getValidationState(a),"aria-describedby":"Price-feedback"},null,8,["modelValue","state"]),(0,i.bF)(R,{id:"Price-feedback"},{default:(0,i.k6)((()=>[(0,i.eW)((0,s.v_)(a.errors[0]),1)])),_:2},1024)])),_:2},1032,["label"])])),_:1})])),_:1}),(0,i.bF)(N,{lg:"6",md:"6",sm:"12"},{default:(0,i.k6)((()=>[(0,i.bF)(q,{name:"Tax Method",rules:{required:!0}},{default:(0,i.k6)((()=>[(0,i.bF)(A,{"slot-scope":"{ valid, errors }",label:e.$t("TaxMethod")+" *"},{default:(0,i.k6)((()=>[(0,i.bF)(P,{class:(0,s.C4)({"is-invalid":!!e.errors.length}),state:!e.errors[0]&&(!!e.valid||null),modelValue:f.detail.tax_method,"onUpdate:modelValue":t[30]||(t[30]=e=>f.detail.tax_method=e),reduce:e=>e.value,placeholder:e.$t("Choose_Method"),options:[{label:"Exclusive",value:"1"},{label:"Inclusive",value:"2"}]},null,8,["class","state","modelValue","reduce","placeholder"]),(0,i.bF)(R,null,{default:(0,i.k6)((()=>[(0,i.eW)((0,s.v_)(e.errors[0]),1)])),_:1})])),_:1},8,["label"])])),_:1})])),_:1}),(0,i.bF)(N,{lg:"6",md:"6",sm:"12"},{default:(0,i.k6)((()=>[(0,i.bF)(q,{name:"Tax",rules:{required:!0,regex:/^\d*\.?\d*$/}},{default:(0,i.k6)((a=>[(0,i.bF)(A,{label:e.$t("Tax")+" *"},{default:(0,i.k6)((()=>[(0,i.bF)(V,{append:"%"},{default:(0,i.k6)((()=>[(0,i.bF)(G,{label:"Tax",modelValue:f.detail.tax_percent,"onUpdate:modelValue":t[31]||(t[31]=e=>f.detail.tax_percent=e),state:y.getValidationState(a),"aria-describedby":"Tax-feedback"},null,8,["modelValue","state"])])),_:2},1024),(0,i.bF)(R,{id:"Tax-feedback"},{default:(0,i.k6)((()=>[(0,i.eW)((0,s.v_)(a.errors[0]),1)])),_:2},1024)])),_:2},1032,["label"])])),_:1})])),_:1}),(0,i.bF)(N,{lg:"6",md:"6",sm:"12"},{default:(0,i.k6)((()=>[(0,i.bF)(q,{name:"Discount Method",rules:{required:!0}},{default:(0,i.k6)((()=>[(0,i.bF)(A,{"slot-scope":"{ valid, errors }",label:e.$t("Discount_Method")+" *"},{default:(0,i.k6)((()=>[(0,i.bF)(P,{modelValue:f.detail.discount_Method,"onUpdate:modelValue":t[32]||(t[32]=e=>f.detail.discount_Method=e),reduce:e=>e.value,placeholder:e.$t("Choose_Method"),class:(0,s.C4)({"is-invalid":!!e.errors.length}),state:!e.errors[0]&&(!!e.valid||null),options:[{label:"Percent %",value:"1"},{label:"Fixed",value:"2"}]},null,8,["modelValue","reduce","placeholder","class","state"]),(0,i.bF)(R,null,{default:(0,i.k6)((()=>[(0,i.eW)((0,s.v_)(e.errors[0]),1)])),_:1})])),_:1},8,["label"])])),_:1})])),_:1}),(0,i.bF)(N,{lg:"6",md:"6",sm:"12"},{default:(0,i.k6)((()=>[(0,i.bF)(q,{name:"Discount Rate",rules:{required:!0,regex:/^\d*\.?\d*$/}},{default:(0,i.k6)((a=>[(0,i.bF)(A,{label:e.$t("Discount")+" *"},{default:(0,i.k6)((()=>[(0,i.bF)(G,{label:"Discount",modelValue:f.detail.discount,"onUpdate:modelValue":t[33]||(t[33]=e=>f.detail.discount=e),state:y.getValidationState(a),"aria-describedby":"Discount-feedback"},null,8,["modelValue","state"]),(0,i.bF)(R,{id:"Discount-feedback"},{default:(0,i.k6)((()=>[(0,i.eW)((0,s.v_)(a.errors[0]),1)])),_:2},1024)])),_:2},1032,["label"])])),_:1})])),_:1}),"is_service"!=f.detail.product_type?((0,i.uX)(),(0,i.Wv)(N,{key:0,lg:"6",md:"6",sm:"12"},{default:(0,i.k6)((()=>[(0,i.bF)(q,{name:"Unit Sale",rules:{required:!0}},{default:(0,i.k6)((()=>[(0,i.bF)(A,{"slot-scope":"{ valid, errors }",label:e.$t("UnitSale")+" *"},{default:(0,i.k6)((()=>[(0,i.bF)(P,{class:(0,s.C4)({"is-invalid":!!e.errors.length}),state:!e.errors[0]&&(!!e.valid||null),modelValue:f.detail.sale_unit_id,"onUpdate:modelValue":t[34]||(t[34]=e=>f.detail.sale_unit_id=e),placeholder:e.$t("Choose_Unit_Sale"),reduce:e=>e.value,options:f.units.map((e=>({label:e.name,value:e.id})))},null,8,["class","state","modelValue","placeholder","reduce","options"]),(0,i.bF)(R,null,{default:(0,i.k6)((()=>[(0,i.eW)((0,s.v_)(e.errors[0]),1)])),_:1})])),_:1},8,["label"])])),_:1})])),_:1})):(0,i.Q3)("",!0),(0,i.bo)((0,i.bF)(N,{lg:"12",md:"12",sm:"12"},{default:(0,i.k6)((()=>[(0,i.bF)(A,{label:e.$t("Add_product_IMEI_Serial_number")},{default:(0,i.k6)((()=>[(0,i.bF)(G,{label:"Add_product_IMEI_Serial_number",modelValue:f.detail.imei_number,"onUpdate:modelValue":t[35]||(t[35]=e=>f.detail.imei_number=e),placeholder:e.$t("Add_product_IMEI_Serial_number")},null,8,["modelValue","placeholder"])])),_:1},8,["label"])])),_:1},512),[[l.aG,f.detail.is_imei]]),(0,i.bF)(N,{md:"12"},{default:(0,i.k6)((()=>[(0,i.bF)(A,null,{default:(0,i.k6)((()=>[(0,i.bF)($,{variant:"primary",type:"submit"},{default:(0,i.k6)((()=>[(0,i.eW)((0,s.v_)(e.$t("submit")),1)])),_:1})])),_:1})])),_:1})])),_:1})])),_:1},8,["onSubmit"])])),_:1},8,["title"])])),_:1},512)])),_:1})])),_:1}),(0,i.bF)(N,{md:"7"},{default:(0,i.k6)((()=>[(0,i.bF)(z,{class:"list-grid"},{default:(0,i.k6)((()=>[(0,i.bF)(D,null,{default:(0,i.k6)((()=>[(0,i.bF)(N,{md:"6"},{default:(0,i.k6)((()=>[(0,i.bo)(((0,i.uX)(),(0,i.CE)("button",Xe,[Qe,(0,i.eW)(" "+(0,s.v_)(e.$t("ListofCategory")),1)])),[[de,void 0,void 0,{"sidebar-category":!0}]])])),_:1}),(0,i.bF)(N,{md:"6"},{default:(0,i.k6)((()=>[(0,i.bo)(((0,i.uX)(),(0,i.CE)("button",je,[Oe,(0,i.eW)(" "+(0,s.v_)(e.$t("ListofBrand")),1)])),[[de,void 0,void 0,{"sidebar-brand":!0}]])])),_:1}),(0,i.bF)(N,{md:"12",class:"mt-2 mb-2"},{default:(0,i.k6)((()=>[(0,i.Lk)("div",Ke,[(0,i.Lk)("input",{placeholder:e.$t("Scan_Search_Product_by_Code_Name"),onInput:t[36]||(t[36]=e=>f.search_input=e.target.value),onKeyup:t[37]||(t[37]=e=>y.search(f.search_input)),onFocus:t[38]||(t[38]=(...e)=>y.handleFocus&&y.handleFocus(...e)),onBlur:t[39]||(t[39]=(...e)=>y.handleBlur&&y.handleBlur(...e)),ref:"product_autocomplete",class:"autocomplete-input"},null,40,ze),(0,i.bo)((0,i.Lk)("ul",He,[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(f.product_filter,(e=>((0,i.uX)(),(0,i.CE)("li",{class:"autocomplete-result",onMousedown:t=>y.SearchProduct(e)},(0,s.v_)(y.getResultValue(e)),41,Ye)))),256))],512),[[l.aG,f.focused]])])])),_:1}),(0,i.Lk)("div",Je,[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(f.products,(t=>((0,i.uX)(),(0,i.CE)("div",{onClick:e=>y.Check_Product_Exist(t,t.id),class:"card o-hidden bd-highlight m-1"},[(0,i.Lk)("div",et,[(0,i.Lk)("img",{alt:"",src:"/images/products/"+t.image},null,8,tt)]),(0,i.Lk)("div",at,[(0,i.Lk)("div",it,[(0,i.Lk)("div",st,(0,s.v_)(t.name),1),(0,i.Lk)("p",lt,(0,s.v_)(t.code),1),(0,i.Lk)("span",nt,(0,s.v_)(e.currentUser.currency)+" "+(0,s.v_)(y.formatNumber(t.Net_price,2)),1),"is_service"!=t.product_type?((0,i.uX)(),(0,i.CE)("p",dt,[(0,i.Lk)("span",ot,(0,s.v_)(y.formatNumber(t.qte_sale,2))+" "+(0,s.v_)(t.unitSale),1)])):(0,i.Q3)("",!0)])])],8,Ze)))),256))])])),_:1}),(0,i.bF)(D,null,{default:(0,i.k6)((()=>[(0,i.bF)(N,{md:"12",class:"mt-4"},{default:(0,i.k6)((()=>[(0,i.bF)(Y,{onChange:y.Product_onPageChanged,"total-rows":f.product_totalRows,"per-page":f.product_perPage,modelValue:f.product_currentPage,"onUpdate:modelValue":t[40]||(t[40]=e=>f.product_currentPage=e),class:"my-0 gull-pagination align-items-center",align:"center","first-text":"","last-text":""},{default:(0,i.k6)((()=>[rt,ut])),_:1},8,["onChange","total-rows","per-page","modelValue"])])),_:1})])),_:1})])),_:1})])),_:1}),(0,i.bF)(J,{id:"sidebar-brand",title:e.$t("ListofBrand"),"bg-variant":"white",right:"",shadow:""},{default:(0,i.k6)((()=>[(0,i.Lk)("div",ct,[(0,i.bF)(D,null,{default:(0,i.k6)((()=>[(0,i.Lk)("div",ht,[(0,i.Lk)("div",{onClick:t[41]||(t[41]=e=>y.GetAllBrands()),class:(0,s.C4)([{"brand-Active":""==f.brand_id},"card o-hidden bd-highlight m-1"])},[_t,(0,i.Lk)("div",pt,[(0,i.Lk)("div",mt,[(0,i.Lk)("div",gt,(0,s.v_)(e.$t("All_Brand")),1)])])],2),((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(f.paginated_Brands,(e=>((0,i.uX)(),(0,i.CE)("div",{class:(0,s.C4)(["card o-hidden bd-highlight m-1",{"brand-Active":e.id===f.brand_id}]),key:e.id,onClick:t=>y.Products_by_Brands(e.id)},[(0,i.Lk)("img",{alt:"",src:"/images/brands/"+e.image},null,8,kt),(0,i.Lk)("div",ft,[(0,i.Lk)("div",vt,[(0,i.Lk)("div",yt,(0,s.v_)(e.name),1)])])],10,bt)))),128))])])),_:1}),(0,i.bF)(D,null,{default:(0,i.k6)((()=>[(0,i.bF)(N,{md:"12",class:"mt-4"},{default:(0,i.k6)((()=>[(0,i.bF)(Y,{onChange:y.BrandonPageChanged,"total-rows":y.brand_totalRows,"per-page":f.brand_perPage,modelValue:f.brand_currentPage,"onUpdate:modelValue":t[42]||(t[42]=e=>f.brand_currentPage=e),class:"my-0 gull-pagination align-items-center",align:"center","first-text":"","last-text":""},{default:(0,i.k6)((()=>[Lt,wt])),_:1},8,["onChange","total-rows","per-page","modelValue"])])),_:1})])),_:1})])])),_:1},8,["title"]),(0,i.bF)(J,{id:"sidebar-category",title:e.$t("ListofCategory"),"bg-variant":"white",right:"",shadow:""},{default:(0,i.k6)((()=>[(0,i.Lk)("div",Ft,[(0,i.bF)(D,null,{default:(0,i.k6)((()=>[(0,i.Lk)("div",xt,[(0,i.Lk)("div",{onClick:t[43]||(t[43]=e=>y.getAllCategory()),class:(0,s.C4)([{"brand-Active":""==f.category_id},"card o-hidden bd-highlight m-1"])},[Ct,(0,i.Lk)("div",Pt,[(0,i.Lk)("div",$t,[(0,i.Lk)("div",St,(0,s.v_)(e.$t("All_Category")),1)])])],2),((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(f.paginated_Category,(e=>((0,i.uX)(),(0,i.CE)("div",{class:(0,s.C4)(["card o-hidden bd-highlight m-1",{"brand-Active":e.id===f.category_id}]),key:e.id,onClick:t=>y.Products_by_Category(e.id)},[Vt,(0,i.Lk)("div",Ut,[(0,i.Lk)("div",qt,[(0,i.Lk)("div",Nt,(0,s.v_)(e.name),1)])])],10,Tt)))),128))])])),_:1}),(0,i.bF)(D,null,{default:(0,i.k6)((()=>[(0,i.bF)(N,{md:"12",class:"mt-4"},{default:(0,i.k6)((()=>[(0,i.bF)(Y,{onChange:y.Category_onPageChanged,"total-rows":y.category_totalRows,"per-page":f.category_perPage,modelValue:f.category_currentPage,"onUpdate:modelValue":t[44]||(t[44]=e=>f.category_currentPage=e),class:"my-0 gull-pagination align-items-center",align:"center","first-text":"","last-text":""},{default:(0,i.k6)((()=>[Wt,At])),_:1},8,["onChange","total-rows","per-page","modelValue"])])),_:1})])),_:1})])])),_:1},8,["title"]),(0,i.bF)(K,{"hide-footer":"",size:"sm",scrollable:"",id:"Show_invoice",title:e.$t("Invoice_POS")},{default:(0,i.k6)((()=>[(0,i.Lk)("div",Et,[(0,i.Lk)("div",Mt,[(0,i.Lk)("div",Dt,[(0,i.Lk)("div",Gt,[(0,i.Lk)("img",{src:"/images/"+f.invoice_pos.setting.logo,alt:"",width:"60",height:"60"},null,8,It)]),(0,i.Lk)("p",null,[(0,i.Lk)("span",null,[(0,i.eW)((0,s.v_)(e.$t("date"))+" : "+(0,s.v_)(f.invoice_pos.sale.date)+" ",1),Rt]),(0,i.bo)((0,i.Lk)("span",null,[(0,i.eW)((0,s.v_)(e.$t("Adress"))+" : "+(0,s.v_)(f.invoice_pos.setting.CompanyAdress)+" ",1),Bt],512),[[l.aG,f.pos_settings.show_address]]),(0,i.bo)((0,i.Lk)("span",null,[(0,i.eW)((0,s.v_)(e.$t("Email"))+" : "+(0,s.v_)(f.invoice_pos.setting.email)+" ",1),Xt],512),[[l.aG,f.pos_settings.show_email]]),(0,i.bo)((0,i.Lk)("span",null,[(0,i.eW)((0,s.v_)(e.$t("Phone"))+" : "+(0,s.v_)(f.invoice_pos.setting.CompanyPhone)+" ",1),Qt],512),[[l.aG,f.pos_settings.show_phone]]),(0,i.bo)((0,i.Lk)("span",null,[(0,i.eW)((0,s.v_)(e.$t("Customer"))+" : "+(0,s.v_)(f.invoice_pos.sale.client_name)+" ",1),jt],512),[[l.aG,f.pos_settings.show_customer]]),(0,i.bo)((0,i.Lk)("span",null,[(0,i.eW)((0,s.v_)(e.$t("warehouse"))+" : "+(0,s.v_)(f.invoice_pos.sale.warehouse_name)+" ",1),Ot],512),[[l.aG,f.pos_settings.show_Warehouse]])])]),(0,i.Lk)("table",Kt,[(0,i.Lk)("tbody",null,[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(f.invoice_pos.details,(t=>((0,i.uX)(),(0,i.CE)("tr",null,[(0,i.Lk)("td",zt,[(0,i.eW)((0,s.v_)(t.name)+" ",1),(0,i.bo)((0,i.Lk)("br",null,null,512),[[l.aG,t.is_imei&&null!==t.imei_number]]),(0,i.bo)((0,i.Lk)("span",null,(0,s.v_)(e.$t("IMEI_SN"))+" : "+(0,s.v_)(t.imei_number),513),[[l.aG,t.is_imei&&null!==t.imei_number]]),Ht,(0,i.Lk)("span",null,(0,s.v_)(y.formatNumber(t.quantity,2))+" "+(0,s.v_)(t.unit_sale)+" x "+(0,s.v_)(y.formatNumber(t.total/t.quantity,2)),1)]),(0,i.Lk)("td",Yt,(0,s.v_)(y.formatNumber(t.total,2)),1)])))),256)),(0,i.bo)((0,i.Lk)("tr",Jt,[(0,i.Lk)("td",Zt,(0,s.v_)(e.$t("OrderTax")),1),(0,i.Lk)("td",ea,(0,s.v_)(f.invoice_pos.symbol)+" "+(0,s.v_)(y.formatNumber(f.invoice_pos.sale.taxe,2))+" ("+(0,s.v_)(y.formatNumber(f.invoice_pos.sale.tax_rate,2))+" %)",1)],512),[[l.aG,f.pos_settings.show_discount]]),(0,i.bo)((0,i.Lk)("tr",ta,[(0,i.Lk)("td",aa,(0,s.v_)(e.$t("Discount")),1),(0,i.Lk)("td",ia,(0,s.v_)(f.invoice_pos.symbol)+" "+(0,s.v_)(y.formatNumber(f.invoice_pos.sale.discount,2)),1)],512),[[l.aG,f.pos_settings.show_discount]]),(0,i.bo)((0,i.Lk)("tr",sa,[(0,i.Lk)("td",la,(0,s.v_)(e.$t("Shipping")),1),(0,i.Lk)("td",na,(0,s.v_)(f.invoice_pos.symbol)+" "+(0,s.v_)(y.formatNumber(f.invoice_pos.sale.shipping,2)),1)],512),[[l.aG,f.pos_settings.show_discount]]),(0,i.Lk)("tr",da,[(0,i.Lk)("td",oa,(0,s.v_)(e.$t("Total")),1),(0,i.Lk)("td",ra,(0,s.v_)(f.invoice_pos.symbol)+" "+(0,s.v_)(y.formatNumber(f.invoice_pos.sale.GrandTotal,2)),1)]),(0,i.bo)((0,i.Lk)("tr",null,[(0,i.Lk)("td",ua,(0,s.v_)(e.$t("Paid")),1),(0,i.Lk)("td",ca,(0,s.v_)(f.invoice_pos.symbol)+" "+(0,s.v_)(y.formatNumber(f.invoice_pos.sale.paid_amount,2)),1)],512),[[l.aG,f.invoice_pos.sale.paid_amount<f.invoice_pos.sale.GrandTotal]]),(0,i.bo)((0,i.Lk)("tr",null,[(0,i.Lk)("td",ha,(0,s.v_)(e.$t("Due")),1),(0,i.Lk)("td",_a,(0,s.v_)(f.invoice_pos.symbol)+" "+(0,s.v_)(parseFloat(f.invoice_pos.sale.GrandTotal-f.invoice_pos.sale.paid_amount).toFixed(2)),1)],512),[[l.aG,f.invoice_pos.sale.paid_amount<f.invoice_pos.sale.GrandTotal]])])]),(0,i.bo)((0,i.Lk)("table",pa,[(0,i.Lk)("thead",null,[(0,i.Lk)("tr",ma,[(0,i.Lk)("th",ga,(0,s.v_)(e.$t("PayeBy"))+":",1),(0,i.Lk)("th",ba,(0,s.v_)(e.$t("Amount"))+":",1),(0,i.Lk)("th",ka,(0,s.v_)(e.$t("Change"))+":",1)])]),(0,i.Lk)("tbody",null,[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(f.payments,(e=>((0,i.uX)(),(0,i.CE)("tr",null,[(0,i.Lk)("td",fa,(0,s.v_)(e.Reglement),1),(0,i.Lk)("td",va,(0,s.v_)(y.formatNumber(e.montant,2)),1),(0,i.Lk)("td",ya,(0,s.v_)(y.formatNumber(e.change,2)),1)])))),256))])],512),[[l.aG,f.invoice_pos.sale.paid_amount>0]]),(0,i.Lk)("div",La,[(0,i.bo)((0,i.Lk)("p",wa,[(0,i.Lk)("strong",null,(0,s.v_)(f.pos_settings.note_customer),1)],512),[[l.aG,f.pos_settings.show_note]]),(0,i.bo)((0,i.Lk)("div",Fa,[(0,i.bF)(ee,{class:"barcode",format:f.barcodeFormat,value:f.invoice_pos.sale.Ref,textmargin:"0",fontoptions:"bold",fontSize:"15",height:"25",width:"1"},null,8,["format","value"])],512),[[l.aG,f.pos_settings.show_barcode]])])])]),(0,i.Lk)("button",{onClick:t[45]||(t[45]=e=>y.print_pos()),class:"btn btn-outline-primary"},[xa,(0,i.eW)(" "+(0,s.v_)(e.$t("print")),1)])])),_:1},8,["title"]),(0,i.bF)(j,{ref:"Add_payment"},{default:(0,i.k6)((()=>[(0,i.bF)(K,{"hide-footer":"",size:"lg",id:"Add_Payment",title:e.$t("AddPayment")},{default:(0,i.k6)((()=>[(0,i.bF)(Q,{onSubmit:(0,l.D$)(y.Submit_Payment,["prevent"])},{default:(0,i.k6)((()=>[(0,i.Lk)("h1",Ca,(0,s.v_)(f.client_name),1),(0,i.bF)(D,null,{default:(0,i.k6)((()=>[(0,i.bF)(N,{md:"6"},{default:(0,i.k6)((()=>[(0,i.bF)(D,null,{default:(0,i.k6)((()=>[(0,i.bF)(N,{lg:"12",md:"12",sm:"12"},{default:(0,i.k6)((()=>[(0,i.bF)(q,{name:"Received Amount",rules:{required:!0,regex:/^\d*\.?\d*$/}},{default:(0,i.k6)((a=>[(0,i.bF)(A,{label:e.$t("Received_Amount")+" *"},{default:(0,i.k6)((()=>[(0,i.bF)(G,{onKeyup:t[46]||(t[46]=e=>y.Verified_Received_Amount(f.payment.received_amount)),label:"Received_Amount",placeholder:e.$t("Received_Amount"),modelValue:f.payment.received_amount,"onUpdate:modelValue":t[47]||(t[47]=e=>f.payment.received_amount=e),modelModifiers:{number:!0},state:y.getValidationState(a),"aria-describedby":"Received_Amount-feedback"},null,8,["placeholder","modelValue","state"]),(0,i.bF)(R,{id:"Received_Amount-feedback"},{default:(0,i.k6)((()=>[(0,i.eW)((0,s.v_)(a.errors[0]),1)])),_:2},1024)])),_:2},1032,["label"])])),_:1})])),_:1}),(0,i.bF)(N,{lg:"12",md:"12",sm:"12"},{default:(0,i.k6)((()=>[(0,i.bF)(q,{name:"Paying Amount",rules:{required:!0,regex:/^\d*\.?\d*$/}},{default:(0,i.k6)((a=>[(0,i.bF)(A,{label:e.$t("Paying_Amount")+" *"},{default:(0,i.k6)((()=>[(0,i.bF)(G,{label:"Paying_Amount",onKeyup:t[48]||(t[48]=e=>y.Verified_paidAmount(f.payment.amount)),placeholder:e.$t("Paying_Amount"),modelValue:f.payment.amount,"onUpdate:modelValue":t[49]||(t[49]=e=>f.payment.amount=e),modelModifiers:{number:!0},state:y.getValidationState(a),"aria-describedby":"Paying_Amount-feedback"},null,8,["placeholder","modelValue","state"]),(0,i.bF)(R,{id:"Paying_Amount-feedback"},{default:(0,i.k6)((()=>[(0,i.eW)((0,s.v_)(a.errors[0]),1)])),_:2},1024)])),_:2},1032,["label"])])),_:1})])),_:1}),(0,i.bF)(N,{lg:"12",md:"12",sm:"12"},{default:(0,i.k6)((()=>[(0,i.Lk)("label",null,(0,s.v_)(e.$t("Change"))+" :",1),(0,i.Lk)("p",Pa,(0,s.v_)(parseFloat(f.payment.received_amount-f.payment.amount).toFixed(2)),1)])),_:1})])),_:1})])),_:1}),(0,i.bF)(N,{md:"6"},{default:(0,i.k6)((()=>[(0,i.bF)(z,null,{default:(0,i.k6)((()=>[(0,i.bF)(se,null,{default:(0,i.k6)((()=>[(0,i.bF)(ie,{class:"d-flex justify-content-between align-items-center"},{default:(0,i.k6)((()=>[(0,i.eW)((0,s.v_)(e.$t("TotalProducts"))+" ",1),(0,i.bF)(te,{variant:"primary",pill:""},{default:(0,i.k6)((()=>[(0,i.eW)((0,s.v_)(f.details.length),1)])),_:1})])),_:1}),(0,i.bF)(ie,{class:"d-flex justify-content-between align-items-center"},{default:(0,i.k6)((()=>[(0,i.eW)((0,s.v_)(e.$t("OrderTax"))+" ",1),(0,i.Lk)("span",$a,(0,s.v_)(e.currentUser.currency)+" "+(0,s.v_)(f.sale.TaxNet.toFixed(2))+" ("+(0,s.v_)(f.sale.tax_rate)+" %)",1)])),_:1}),(0,i.bF)(ie,{class:"d-flex justify-content-between align-items-center"},{default:(0,i.k6)((()=>[(0,i.eW)((0,s.v_)(e.$t("Discount"))+" ",1),(0,i.Lk)("span",Sa,(0,s.v_)(e.currentUser.currency)+" "+(0,s.v_)(f.sale.discount.toFixed(2)),1)])),_:1}),(0,i.bF)(ie,{class:"d-flex justify-content-between align-items-center"},{default:(0,i.k6)((()=>[(0,i.eW)((0,s.v_)(e.$t("Shipping"))+" ",1),(0,i.Lk)("span",Ta,(0,s.v_)(e.currentUser.currency)+" "+(0,s.v_)(f.sale.shipping.toFixed(2)),1)])),_:1}),(0,i.bF)(ie,{class:"d-flex justify-content-between align-items-center"},{default:(0,i.k6)((()=>[(0,i.eW)((0,s.v_)(e.$t("Total_Payable"))+" ",1),(0,i.Lk)("span",Va,(0,s.v_)(e.currentUser.currency)+" "+(0,s.v_)(f.GrandTotal.toFixed(2)),1)])),_:1})])),_:1})])),_:1})])),_:1})])),_:1}),(0,i.bF)(D,{class:"mt-4"},{default:(0,i.k6)((()=>[(0,i.bF)(N,{lg:"6",md:"6",sm:"12"},{default:(0,i.k6)((()=>[(0,i.bF)(q,{name:"Payment choice",rules:{required:!0}},{default:(0,i.k6)((()=>[(0,i.bF)(A,{"slot-scope":"{ valid, errors }",label:e.$t("Paymentchoice")+" *"},{default:(0,i.k6)((()=>[(0,i.bF)(P,{class:(0,s.C4)({"is-invalid":!!e.errors.length}),state:!e.errors[0]&&(!!e.valid||null),modelValue:f.payment.Reglement,"onUpdate:modelValue":t[50]||(t[50]=e=>f.payment.Reglement=e),onInput:y.Selected_PaymentMethod,reduce:e=>e.value,placeholder:e.$t("PleaseSelect"),options:[{label:"Cash",value:"Cash"},{label:"credit card",value:"credit card"},{label:"TPE",value:"tpe"},{label:"cheque",value:"cheque"},{label:"Western Union",value:"Western Union"},{label:"bank transfer",value:"bank transfer"},{label:"other",value:"other"}]},null,8,["class","state","modelValue","onInput","reduce","placeholder"]),(0,i.bF)(R,null,{default:(0,i.k6)((()=>[(0,i.eW)((0,s.v_)(e.errors[0]),1)])),_:1})])),_:1},8,["label"])])),_:1})])),_:1}),(0,i.bF)(N,{md:"12"},{default:(0,i.k6)((()=>[(0,i.bo)((0,i.bF)(z,null,{default:(0,i.k6)((()=>[t[51]||((0,i.Vq)(-1),t[51]=f.submit_showing_credit_card?((0,i.uX)(),(0,i.CE)("div",Ua,Na)):(0,i.Q3)("",!0),(0,i.Vq)(1),t[51]),y.displaySavedPaymentMethods&&!f.submit_showing_credit_card?((0,i.uX)(),(0,i.CE)("div",Wa,[(0,i.Lk)("div",Aa,[Ea,(0,i.bF)($,{variant:"outline-info",onClick:t[52]||(t[52]=e=>y.show_new_credit_card())},{default:(0,i.k6)((()=>[Ma])),_:1})]),(0,i.Lk)("table",Da,[Ga,(0,i.Lk)("tbody",null,[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(f.savedPaymentMethods,(e=>((0,i.uX)(),(0,i.CE)("tr",{class:(0,s.C4)({"bg-selected-card":y.isSelectedCard(e)})},[(0,i.Lk)("td",null,"**** "+(0,s.v_)(e.last4),1),(0,i.Lk)("td",null,(0,s.v_)(e.type),1),(0,i.Lk)("td",null,(0,s.v_)(e.exp),1),(0,i.Lk)("td",null,[y.isSelectedCard(e)||f.card_id==e.card_id?(0,i.Q3)("",!0):((0,i.uX)(),(0,i.Wv)($,{key:0,variant:"outline-primary",onClick:t=>y.selectCard(e)},{default:(0,i.k6)((()=>[Ia])),_:2},1032,["onClick"])),y.isSelectedCard(e)||f.card_id==e.card_id?((0,i.uX)(),(0,i.CE)("i",Ra)):(0,i.Q3)("",!0)])],2)))),256))])])])):(0,i.Q3)("",!0),y.displayFormNewCard&&!f.submit_showing_credit_card?((0,i.uX)(),(0,i.CE)("div",Ba,[(0,i.Lk)("form",Xa,[(0,i.Lk)("label",Qa,[(0,i.eW)((0,s.v_)(e.$t("Credit_Card_Info"))+" ",1),f.savedPaymentMethods&&f.savedPaymentMethods.length>0?((0,i.uX)(),(0,i.Wv)($,{key:0,variant:"outline-info",onClick:t[53]||(t[53]=e=>y.show_saved_credit_card())},{default:(0,i.k6)((()=>[ja])),_:1})):(0,i.Q3)("",!0)]),Oa,Ka])])):(0,i.Q3)("",!0)])),_:1},512),[[l.aG,"credit card"==f.payment.Reglement]])])),_:1}),(0,i.bF)(N,{lg:"6",md:"6",sm:"12",class:"mt-2"},{default:(0,i.k6)((()=>[(0,i.bF)(A,{label:e.$t("Payment_note")},{default:(0,i.k6)((()=>[(0,i.bF)(ne,{id:"textarea",modelValue:f.payment.notes,"onUpdate:modelValue":t[54]||(t[54]=e=>f.payment.notes=e),rows:"3","max-rows":"6"},null,8,["modelValue"])])),_:1},8,["label"])])),_:1}),(0,i.bF)(N,{lg:"6",md:"6",sm:"12",class:"mt-2"},{default:(0,i.k6)((()=>[(0,i.bF)(A,{label:e.$t("sale_note")},{default:(0,i.k6)((()=>[(0,i.bF)(ne,{id:"textarea",modelValue:f.sale.notes,"onUpdate:modelValue":t[55]||(t[55]=e=>f.sale.notes=e),rows:"3","max-rows":"6"},null,8,["modelValue"])])),_:1},8,["label"])])),_:1}),(0,i.bF)(N,{md:"12",class:"mt-3"},{default:(0,i.k6)((()=>[(0,i.bF)($,{variant:"primary",type:"submit",disabled:f.paymentProcessing},{default:(0,i.k6)((()=>[za,(0,i.eW)(" "+(0,s.v_)(e.$t("submit")),1)])),_:1},8,["disabled"]),t[56]||((0,i.Vq)(-1),t[56]=f.paymentProcessing?((0,i.uX)(),(0,i.CE)("div",Ha,Ja)):(0,i.Q3)("",!0),(0,i.Vq)(1),t[56])])),_:1})])),_:1})])),_:1},8,["onSubmit"])])),_:1},8,["title"])])),_:1},512),(0,i.bF)(j,{ref:"Create_Customer"},{default:(0,i.k6)((()=>[(0,i.bF)(K,{"hide-footer":"",size:"lg",id:"New_Customer",title:e.$t("Add")},{default:(0,i.k6)((()=>[(0,i.bF)(Q,{onSubmit:(0,l.D$)(y.Submit_Customer,["prevent"])},{default:(0,i.k6)((()=>[(0,i.bF)(D,null,{default:(0,i.k6)((()=>[(0,i.bF)(N,{md:"6",sm:"12"},{default:(0,i.k6)((()=>[(0,i.bF)(q,{name:"Name Customer",rules:{required:!0}},{default:(0,i.k6)((a=>[(0,i.bF)(A,{label:e.$t("CustomerName")+" *"},{default:(0,i.k6)((()=>[(0,i.bF)(G,{state:y.getValidationState(a),"aria-describedby":"name-feedback",label:"name",modelValue:f.client.name,"onUpdate:modelValue":t[57]||(t[57]=e=>f.client.name=e),placeholder:e.$t("CustomerName")},null,8,["state","modelValue","placeholder"]),(0,i.bF)(R,{id:"name-feedback"},{default:(0,i.k6)((()=>[(0,i.eW)((0,s.v_)(a.errors[0]),1)])),_:2},1024)])),_:2},1032,["label"])])),_:1})])),_:1}),(0,i.bF)(N,{md:"6",sm:"12"},{default:(0,i.k6)((()=>[(0,i.bF)(A,{label:e.$t("Email")},{default:(0,i.k6)((()=>[(0,i.bF)(G,{label:"email",modelValue:f.client.email,"onUpdate:modelValue":t[58]||(t[58]=e=>f.client.email=e),placeholder:e.$t("Email")},null,8,["modelValue","placeholder"])])),_:1},8,["label"])])),_:1}),(0,i.bF)(N,{md:"6",sm:"12"},{default:(0,i.k6)((()=>[(0,i.bF)(A,{label:e.$t("Phone")},{default:(0,i.k6)((()=>[(0,i.bF)(G,{label:"Phone",modelValue:f.client.phone,"onUpdate:modelValue":t[59]||(t[59]=e=>f.client.phone=e),placeholder:e.$t("Phone")},null,8,["modelValue","placeholder"])])),_:1},8,["label"])])),_:1}),(0,i.bF)(N,{md:"6",sm:"12"},{default:(0,i.k6)((()=>[(0,i.bF)(A,{label:e.$t("Country")},{default:(0,i.k6)((()=>[(0,i.bF)(G,{label:"Country",modelValue:f.client.country,"onUpdate:modelValue":t[60]||(t[60]=e=>f.client.country=e),placeholder:e.$t("Country")},null,8,["modelValue","placeholder"])])),_:1},8,["label"])])),_:1}),(0,i.bF)(N,{md:"6",sm:"12"},{default:(0,i.k6)((()=>[(0,i.bF)(A,{label:e.$t("City")},{default:(0,i.k6)((()=>[(0,i.bF)(G,{label:"City",modelValue:f.client.city,"onUpdate:modelValue":t[61]||(t[61]=e=>f.client.city=e),placeholder:e.$t("City")},null,8,["modelValue","placeholder"])])),_:1},8,["label"])])),_:1}),(0,i.bF)(N,{md:"6",sm:"12"},{default:(0,i.k6)((()=>[(0,i.bF)(A,{label:e.$t("Tax_Number")},{default:(0,i.k6)((()=>[(0,i.bF)(G,{label:"Tax Number",modelValue:f.client.tax_number,"onUpdate:modelValue":t[62]||(t[62]=e=>f.client.tax_number=e),placeholder:e.$t("Tax_Number")},null,8,["modelValue","placeholder"])])),_:1},8,["label"])])),_:1}),(0,i.bF)(N,{md:"12",sm:"12"},{default:(0,i.k6)((()=>[(0,i.bF)(A,{label:e.$t("Adress")},{default:(0,i.k6)((()=>[(0,i.bo)((0,i.Lk)("textarea",{label:"Adress",class:"form-control",rows:"4","onUpdate:modelValue":t[63]||(t[63]=e=>f.client.adresse=e),placeholder:e.$t("Adress")},null,8,Za),[[l.Jo,f.client.adresse]])])),_:1},8,["label"])])),_:1}),(0,i.bF)(N,{md:"12",class:"mt-3"},{default:(0,i.k6)((()=>[(0,i.bF)($,{variant:"primary",type:"submit"},{default:(0,i.k6)((()=>[ei,(0,i.eW)(" "+(0,s.v_)(e.$t("submit")),1)])),_:1})])),_:1})])),_:1})])),_:1},8,["onSubmit"])])),_:1},8,["title"])])),_:1},512)])),_:1}))])])}var ai=a(5947),ii=a.n(ai),si=a(95353),li=a(62414),ni=a(470),di=a.n(ni),oi=a(9501),ri=a(56878),ui=a(37427);const ci={components:{vueEasyPrint:li.A,barcode:di(),FlagIcon:oi.A},metaInfo:{title:"POS"},data(){return{langs:["en","fr","ar","de","es","it","Ind","thai","tr_ch","sm_ch","tur","ru","hn","vn","kr","ba","br"],stripe:{},stripe_key:"",cardElement:{},paymentProcessing:!1,savedPaymentMethods:[],hasSavedPaymentMethod:!1,useSavedPaymentMethod:!1,selectedCard:null,card_id:"",is_new_credit_card:!1,submit_showing_credit_card:!1,client_name:"",payment:{amount:"",received_amount:"",Reglement:"",notes:""},focused:!1,timer:null,search_input:"",product_filter:[],isLoading:!0,load_product:!0,GrandTotal:0,total:0,Ref:"",clients:[],units:[],warehouses:[],payments:[],products:[],products_pos:[],details:[],detail:{},categories:[],brands:[],pos_settings:{},product_currentPage:1,paginated_Products:"",product_perPage:8,product_totalRows:"",paginated_Brands:"",brand_currentPage:1,brand_perPage:3,paginated_Category:"",category_currentPage:1,category_perPage:3,barcodeFormat:"CODE128",invoice_pos:{sale:{Ref:"",client_name:"",discount:"",taxe:"",date:"",tax_rate:"",shipping:"",GrandTotal:"",paid_amount:""},details:[],setting:{logo:"",CompanyName:"",CompanyAdress:"",email:"",CompanyPhone:""}},sale:{warehouse_id:"",client_id:"",tax_rate:0,shipping:0,discount:0,TaxNet:0,notes:""},client:{id:"",name:"",code:"",email:"",phone:"",country:"",tax_number:"",city:"",adresse:""},category_id:"",brand_id:"",product:{id:"",code:"",product_type:"",current:"",quantity:"",check_qty:"",discount:"",DiscountNet:"",discount_Method:"",sale_unit_id:"",fix_stock:"",fix_price:"",name:"",unitSale:"",Net_price:"",Unit_price:"",Total_price:"",subtotal:"",product_id:"",detail_id:"",taxe:"",tax_percent:"",tax_method:"",product_variant_id:"",is_imei:"",imei_number:""},sound:"/audio/Beep.wav",audio:new Audio("/audio/Beep.wav")}},computed:{...(0,si.L8)(["currentUser","currentUserPermissions"]),brand_totalRows(){return this.brands.length},category_totalRows(){return this.categories.length},displaySavedPaymentMethods(){return!!this.hasSavedPaymentMethod},displayFormNewCard(){return!this.useSavedPaymentMethod},isSelectedCard(){return e=>this.selectedCard===e}},mounted(){this.changeSidebarProperties(),this.paginate_products(this.product_perPage,0)},methods:{...(0,si.i0)(["changeSidebarProperties","changeThemeMode","logout"]),logoutUser(){this.$store.dispatch("logout")},handleFocus(){this.focused=!0},handleBlur(){this.focused=!1},async Selected_PaymentMethod(e){"credit card"===e?(this.savedPaymentMethods=[],this.submit_showing_credit_card=!0,this.selectedCard=null,this.card_id="",await axios.get(`/retrieve-customer?customerId=${this.sale.client_id}`).then((e=>{this.savedPaymentMethods=e.data.data,this.card_id=e.data.customer_default_source,this.hasSavedPaymentMethod=!0,this.useSavedPaymentMethod=!0,this.is_new_credit_card=!1,this.submit_showing_credit_card=!1})).catch((e=>{this.hasSavedPaymentMethod=!1,this.useSavedPaymentMethod=!1,this.is_new_credit_card=!0,this.card_id="",setTimeout((()=>{this.loadStripe_payment()}),1e3),this.submit_showing_credit_card=!1}))):(this.hasSavedPaymentMethod=!1,this.useSavedPaymentMethod=!1,this.is_new_credit_card=!1)},show_saved_credit_card(){this.hasSavedPaymentMethod=!0,this.useSavedPaymentMethod=!0,this.is_new_credit_card=!1,this.Selected_PaymentMethod("credit card")},show_new_credit_card(){this.selectedCard=null,this.card_id="",this.useSavedPaymentMethod=!1,this.hasSavedPaymentMethod=!1,this.is_new_credit_card=!0,setTimeout((()=>{this.loadStripe_payment()}),500)},selectCard(e){this.selectedCard=e,this.card_id=e.card_id},async loadStripe_payment(){this.stripe=await(0,ui.c)(`${this.stripe_key}`);const e=this.stripe.elements();this.cardElement=e.create("card",{classes:{base:"bg-gray-100 rounded border border-gray-300 focus:border-indigo-500 text-base outline-none text-gray-700 p-3 leading-8 transition-colors duration-200 ease-in-out"}}),this.cardElement.mount("#card-element")},SetLocal(e){this.$i18n.locale=e,this.$store.dispatch("language/setLanguage",e),Fire.$emit("ChangeLanguage")},handleFullScreen(){ri.A.toggleFullScreen()},logoutUser(){this.logout()},Product_paginatePerPage(){this.paginate_products(this.product_perPage,0)},paginate_products(e,t){let a=this.products;this.paginated_Products=a.slice(t*e,(t+1)*e)},Product_onPageChanged(e){this.paginate_products(this.product_perPage,e-1),this.getProducts(e)},BrandpaginatePerPage(){this.paginate_Brands(this.brand_perPage,0)},paginate_Brands(e,t){let a=this.brands;this.paginated_Brands=a.slice(t*e,(t+1)*e)},BrandonPageChanged(e){this.paginate_Brands(this.brand_perPage,e-1)},Category_paginatePerPage(){this.paginate_Category(this.category_perPage,0)},paginate_Category(e,t){let a=this.categories;this.paginated_Category=a.slice(t*e,(t+1)*e)},Category_onPageChanged(e){this.paginate_Category(this.category_perPage,e-1)},Submit_Pos(){ii().start(),ii().set(.1),this.$refs.create_pos.validate().then((e=>{e?this.verifiedForm()?Fire.$emit("pay_now"):ii().done():(ii().done(),""==this.sale.client_id||null===this.sale.client_id?this.makeToast("danger",this.$t("Choose_Customer"),this.$t("Failed")):""==this.sale.warehouse_id||null===this.sale.warehouse_id?this.makeToast("danger",this.$t("Choose_Warehouse"),this.$t("Failed")):this.makeToast("danger",this.$t("Please_fill_the_form_correctly"),this.$t("Failed")))}))},submit_Update_Detail(){this.$refs.Update_Detail.validate().then((e=>{e&&this.Update_Detail()}))},Submit_Payment(){ii().start(),ii().set(.1),this.$refs.Add_payment.validate().then((e=>{e?this.payment.amount>this.payment.received_amount?(this.makeToast("warning",this.$t("Paying_amount_is_greater_than_Received_amount"),this.$t("Warning")),this.payment.received_amount=0,ii().done()):this.payment.amount>this.GrandTotal?(this.makeToast("warning",this.$t("Paying_amount_is_greater_than_Grand_Total"),this.$t("Warning")),this.payment.amount=0,ii().done()):this.CreatePOS():(ii().done(),this.makeToast("danger",this.$t("Please_fill_the_form_correctly"),this.$t("Failed")))}))},Submit_Customer(){ii().start(),ii().set(.1),this.$refs.Create_Customer.validate().then((e=>{e?this.Create_Client():(ii().done(),this.makeToast("danger",this.$t("Please_fill_the_form_correctly"),this.$t("Failed")))}))},Create_Client(){axios.post("clients",{name:this.client.name,email:this.client.email,phone:this.client.phone,tax_number:this.client.tax_number,country:this.client.country,city:this.client.city,adresse:this.client.adresse}).then((e=>{ii().done(),this.makeToast("success",this.$t("Create.TitleCustomer"),this.$t("Success")),this.Get_Client_Without_Paginate(),this.$bvModal.hide("New_Customer")})).catch((e=>{ii().done(),this.makeToast("danger",this.$t("InvalidData"),this.$t("Failed"))}))},New_Client(){this.reset_Form_client(),this.$bvModal.show("New_Customer")},reset_Form_client(){this.client={id:"",name:"",email:"",phone:"",tax_number:"",country:"",city:"",adresse:""}},Get_Client_Without_Paginate(){axios.get("get_clients_without_paginate").then((({data:e})=>this.clients=e))},getValidationState({dirty:e,validated:t,valid:a=null}){return e||t?a:null},makeToast(e,t,a){this.$root.$bvToast.toast(t,{title:a,variant:e,solid:!0})},Selected_Warehouse(e){this.search_input="",this.product_filter=[],this.Get_Products_By_Warehouse(e),this.getProducts(1)},onClientSelected(e){this.client_name="";const t=this.clients.find((t=>t.id===e));this.client_name=t.name},Get_Products_By_Warehouse(e){ii().start(),ii().set(.1),axios.get("get_Products_by_warehouse/"+e+"?stock=1&is_sale=1&product_service=1").then((e=>{this.products_pos=e.data,ii().done()})).catch((e=>{}))},add_product(e){this.audio.play(),this.details.some((t=>t.code===e))?this.increment_qty_scanner(e):(this.details.length>0?this.order_detail_id():0===this.details.length&&(this.product.detail_id=1),this.details.push(this.product),setTimeout((()=>{this.load_product=!0}),300),this.product.is_imei&&this.Modal_Updat_Detail(this.product))},order_detail_id(){this.product.detail_id=0;var e=this.details.length;this.product.detail_id=this.details[e-1].detail_id+1},get_units(e){axios.get("get_units?id="+e).then((({data:e})=>this.units=e))},Modal_Updat_Detail(e){this.detail={},this.get_units(e.product_id),this.detail.detail_id=e.detail_id,this.detail.sale_unit_id=e.sale_unit_id,this.detail.name=e.name,this.detail.product_type=e.product_type,this.detail.Unit_price=e.Unit_price,this.detail.fix_price=e.fix_price,this.detail.fix_stock=e.fix_stock,this.detail.current=e.current,this.detail.tax_method=e.tax_method,this.detail.discount_Method=e.discount_Method,this.detail.discount=e.discount,this.detail.quantity=e.quantity,this.detail.tax_percent=e.tax_percent,this.detail.is_imei=e.is_imei,this.detail.imei_number=e.imei_number,setTimeout((()=>{this.$bvModal.show("form_Update_Detail")}),1e3)},Update_Detail(){for(var e=0;e<this.details.length;e++)if(this.details[e].detail_id===this.detail.detail_id){for(var t=0;t<this.units.length;t++)this.units[t].id==this.detail.sale_unit_id&&("/"==this.units[t].operator?(this.details[e].current=this.detail.fix_stock*this.units[t].operator_value,this.details[e].unitSale=this.units[t].ShortName):(this.details[e].current=this.detail.fix_stock/this.units[t].operator_value,this.details[e].unitSale=this.units[t].ShortName));this.details[e].current<this.details[e].quantity?this.details[e].quantity=this.details[e].current:this.details[e].quantity=1,this.details[e].Unit_price=this.detail.Unit_price,this.details[e].tax_percent=this.detail.tax_percent,this.details[e].tax_method=this.detail.tax_method,this.details[e].discount_Method=this.detail.discount_Method,this.details[e].discount=this.detail.discount,this.details[e].sale_unit_id=this.detail.sale_unit_id,this.details[e].imei_number=this.detail.imei_number,this.details[e].product_type=this.detail.product_type,"2"==this.details[e].discount_Method?this.details[e].DiscountNet=this.details[e].discount:this.details[e].DiscountNet=parseFloat(this.details[e].Unit_price*this.details[e].discount/100),"1"==this.details[e].tax_method?(this.details[e].Net_price=parseFloat(this.details[e].Unit_price-this.details[e].DiscountNet),this.details[e].taxe=parseFloat(this.details[e].tax_percent*(this.details[e].Unit_price-this.details[e].DiscountNet)/100),this.details[e].Total_price=parseFloat(this.details[e].Net_price+this.details[e].taxe)):(this.details[e].Net_price=parseFloat((this.details[e].Unit_price-this.details[e].DiscountNet)/(this.details[e].tax_percent/100+1)),this.details[e].taxe=parseFloat(this.details[e].Unit_price-this.details[e].Net_price-this.details[e].DiscountNet),this.details[e].Total_price=parseFloat(this.details[e].Net_price+this.details[e].taxe)),this.$forceUpdate()}this.CaclulTotal(),setTimeout((()=>{this.$bvModal.hide("form_Update_Detail")}),1e3)},verifiedForm(){if(this.details.length<=0)return this.makeToast("warning",this.$t("AddProductToList"),this.$t("Warning")),!1;for(var e=0,t=0;t<this.details.length;t++)if((""==this.details[t].quantity||0===this.details[t].quantity||this.details[t].quantity>this.details[t].current)&&(e+=1,this.details[t].quantity>this.details[t].current))return this.makeToast("warning",this.$t("LowStock"),this.$t("Warning")),!1;return!(e>0)||(this.makeToast("warning",this.$t("AddQuantity"),this.$t("Warning")),!1)},print_pos(){var e=document.getElementById("invoice-POS").innerHTML,t=window.open("","","height=500, width=500");t.document.write('<link rel="stylesheet" href="/css/pos_print.css"><html>'),t.document.write("<body >"),t.document.write(e),t.document.write("</body></html>"),t.document.close(),setTimeout((()=>{t.print()}),1e3)},Invoice_POS(e){ii().start(),ii().set(.1),axios.get("sales_print_invoice/"+e).then((e=>{this.invoice_pos=e.data,this.payments=e.data.payments,this.pos_settings=e.data.pos_settings,setTimeout((()=>{ii().done(),this.$bvModal.show("Show_invoice")}),500),e.data.pos_settings.is_printable&&setTimeout((()=>this.print_pos()),1e3)})).catch((()=>{setTimeout((()=>ii().done()),500)}))},async processPayment(){this.paymentProcessing=!0;const{token:e,error:t}=await this.stripe.createToken(this.cardElement);t?(this.paymentProcessing=!1,ii().done(),this.makeToast("danger",this.$t("InvalidData"),this.$t("Failed"))):axios.post("pos/create_pos",{client_id:this.sale.client_id,warehouse_id:this.sale.warehouse_id,tax_rate:this.sale.tax_rate?this.sale.tax_rate:0,TaxNet:this.sale.TaxNet?this.sale.TaxNet:0,discount:this.sale.discount?this.sale.discount:0,shipping:this.sale.shipping?this.sale.shipping:0,details:this.details,GrandTotal:this.GrandTotal,payment:this.payment,amount:parseFloat(this.payment.amount).toFixed(2),received_amount:parseFloat(this.payment.received_amount).toFixed(2),change:parseFloat(this.payment.received_amount-this.payment.amount).toFixed(2),token:e.id,is_new_credit_card:this.is_new_credit_card,selectedCard:this.selectedCard,card_id:this.card_id}).then((e=>{this.paymentProcessing=!1,!0===e.data.success&&(ii().done(),this.Invoice_POS(e.data.id),this.$bvModal.hide("Add_Payment"),this.Reset_Pos())})).catch((e=>{this.paymentProcessing=!1,ii().done(),this.makeToast("danger",this.$t("InvalidData"),this.$t("Failed"))}))},CreatePOS(){ii().start(),ii().set(.1),"credit card"==this.payment.Reglement&&this.is_new_credit_card?""!=this.stripe_key?this.processPayment():(this.makeToast("danger",this.$t("credit_card_account_not_available"),this.$t("Failed")),ii().done()):(this.paymentProcessing=!0,axios.post("pos/create_pos",{client_id:this.sale.client_id,warehouse_id:this.sale.warehouse_id,tax_rate:this.sale.tax_rate?this.sale.tax_rate:0,TaxNet:this.sale.TaxNet?this.sale.TaxNet:0,discount:this.sale.discount?this.sale.discount:0,shipping:this.sale.shipping?this.sale.shipping:0,notes:this.sale.notes,details:this.details,GrandTotal:this.GrandTotal,payment:this.payment,amount:parseFloat(this.payment.amount).toFixed(2),received_amount:parseFloat(this.payment.received_amount).toFixed(2),change:parseFloat(this.payment.received_amount-this.payment.amount).toFixed(2),is_new_credit_card:this.is_new_credit_card,selectedCard:this.selectedCard,card_id:this.card_id}).then((e=>{!0===e.data.success&&(ii().done(),this.paymentProcessing=!1,this.Invoice_POS(e.data.id),this.$bvModal.hide("Add_Payment"),this.Reset_Pos())})).catch((e=>{ii().done(),this.paymentProcessing=!1,this.makeToast("danger",this.$t("InvalidData"),this.$t("Failed"))})))},formatNumber(e,t){const a=("string"===typeof e?e:e.toString()).split(".");if(t<=0)return a[0];let i=a[1]||"";if(i.length>t)return`${a[0]}.${i.substr(0,t)}`;while(i.length<t)i+="0";return`${a[0]}.${i}`},Get_Product_Details(e,t){axios.get("/show_product_data/"+e+"/"+t).then((e=>{this.product.discount=0,this.product.DiscountNet=0,this.product.discount_Method="2",this.product.product_id=e.data.id,this.product.product_type=e.data.product_type,this.product.name=e.data.name,this.product.Net_price=e.data.Net_price,this.product.Total_price=e.data.Total_price,this.product.Unit_price=e.data.Unit_price,this.product.taxe=e.data.tax_price,this.product.tax_method=e.data.tax_method,this.product.tax_percent=e.data.tax_percent,this.product.unitSale=e.data.unitSale,this.product.product_variant_id=t,this.product.code=e.data.code,this.product.fix_price=e.data.fix_price,this.product.sale_unit_id=e.data.sale_unit_id,this.product.is_imei=e.data.is_imei,this.product.imei_number="",this.add_product(e.data.code),this.CaclulTotal(),ii().done()}))},CaclulTotal(){this.total=0;for(var e=0;e<this.details.length;e++){var t=this.details[e].taxe*this.details[e].quantity;this.details[e].subtotal=parseFloat(this.details[e].quantity*this.details[e].Net_price+t),this.total=parseFloat(this.total+this.details[e].subtotal)}const a=parseFloat(this.total-this.sale.discount);this.sale.TaxNet=parseFloat(a*this.sale.tax_rate/100),this.GrandTotal=parseFloat(a+this.sale.TaxNet+this.sale.shipping);var i=this.GrandTotal.toFixed(2);this.GrandTotal=parseFloat(i)},Verified_Qty(e,t){for(var a=0;a<this.details.length;a++)this.details[a].detail_id===t&&(isNaN(e.quantity)&&(this.details[a].quantity=e.current),e.quantity>e.current?(this.makeToast("warning",this.$t("LowStock"),this.$t("Warning")),this.details[a].quantity=e.current):this.details[a].quantity=e.quantity);this.$forceUpdate(),this.CaclulTotal()},increment_qty_scanner(e){for(var t=0;t<this.details.length;t++)this.details[t].code===e&&(this.details[t].quantity+1>this.details[t].current?this.makeToast("warning",this.$t("LowStock"),this.$t("Warning")):this.details[t].quantity++);this.CaclulTotal(),this.$forceUpdate(),ii().done(),setTimeout((()=>{this.load_product=!0}),300)},increment(e){for(var t=0;t<this.details.length;t++)this.details[t].detail_id==e&&(this.details[t].quantity+1>this.details[t].current?this.makeToast("warning",this.$t("LowStock"),this.$t("Warning")):this.details[t].quantity++);this.CaclulTotal(),this.$forceUpdate()},decrement(e,t){for(var a=0;a<this.details.length;a++)this.details[a].detail_id==t&&(e.quantity-1>e.current||e.quantity-1<1?this.makeToast("warning",this.$t("LowStock"),this.$t("Warning")):this.details[a].quantity--);this.CaclulTotal(),this.$forceUpdate()},keyup_OrderTax(){isNaN(this.sale.tax_rate)?this.sale.tax_rate=0:""==this.sale.tax_rate?(this.sale.tax_rate=0,this.CaclulTotal()):this.CaclulTotal()},keyup_Discount(){isNaN(this.sale.discount)?this.sale.discount=0:""==this.sale.discount?(this.sale.discount=0,this.CaclulTotal()):this.CaclulTotal()},keyup_Shipping(){isNaN(this.sale.shipping)?this.sale.shipping=0:""==this.sale.shipping?(this.sale.shipping=0,this.CaclulTotal()):this.CaclulTotal()},Verified_paidAmount(){isNaN(this.payment.amount)?this.payment.amount=0:this.payment.amount>this.payment.received_amount?(this.makeToast("warning",this.$t("Paying_amount_is_greater_than_Received_amount"),this.$t("Warning")),this.payment.amount=0):this.payment.amount>this.GrandTotal&&(this.makeToast("warning",this.$t("Paying_amount_is_greater_than_Grand_Total"),this.$t("Warning")),this.payment.amount=0)},Verified_Received_Amount(){isNaN(this.payment.received_amount)&&(this.payment.received_amount=0)},delete_Product_Detail(e){for(var t=0;t<this.details.length;t++)e===this.details[t].detail_id&&(this.details.splice(t,1),this.CaclulTotal())},Reset_Pos(){this.details=[],this.product={},this.payment={amount:"",received_amount:"",Reglement:"",notes:""},this.savedPaymentMethods=[],this.hasSavedPaymentMethod=!1,this.useSavedPaymentMethod=!1,this.selectedCard=null,this.card_id="",this.is_new_credit_card=!1,this.submit_showing_credit_card=!1,this.sale.tax_rate=0,this.sale.TaxNet=0,this.sale.shipping=0,this.sale.discount=0,this.GrandTotal=0,this.total=0,this.category_id="",this.brand_id="",this.client_name="",this.getProducts(1)},getResultValue(e){return e.code+" ("+e.name+")"},SearchProduct(e){this.load_product?(this.load_product=!1,this.product={},"is_service"==e.product_type?(this.product.quantity=1,this.product.code=e.code):(this.product.code=e.code,this.product.current=e.qte_sale,this.product.fix_stock=e.qte,e.qte_sale<1?this.product.quantity=e.qte_sale:this.product.quantity=1),this.product.product_variant_id=e.product_variant_id,this.Get_Product_Details(e.id,e.product_variant_id),this.search_input="",this.$refs.product_autocomplete.value="",this.product_filter=[]):this.makeToast("warning",this.$t("Please_wait_until_the_product_is_loaded"),this.$t("Warning"))},search(){if(this.timer&&(clearTimeout(this.timer),this.timer=null),this.search_input.length<2)return this.product_filter=[];""!=this.sale.warehouse_id&&null!=this.sale.warehouse_id?this.timer=setTimeout((()=>{const e=this.products_pos.filter((e=>e.code===this.search_input||e.barcode.includes(this.search_input)));1===e.length?this.Check_Product_Exist(e[0],e[0].id):this.product_filter=this.products_pos.filter((e=>e.name.toLowerCase().includes(this.search_input.toLowerCase())||e.code.toLowerCase().includes(this.search_input.toLowerCase())||e.barcode.toLowerCase().includes(this.search_input.toLowerCase())))}),800):this.makeToast("warning",this.$t("SelectWarehouse"),this.$t("Warning"))},Check_Product_Exist(e,t){this.load_product?(this.load_product=!1,ii().start(),ii().set(.1),this.product={},"is_service"==e.product_type?this.product.quantity=1:(this.product.current=e.qte_sale,this.product.fix_stock=e.qte,e.qte_sale<1?this.product.quantity=e.qte_sale:this.product.quantity=1),this.Get_Product_Details(t,e.product_variant_id),ii().done(),this.search_input="",this.$refs.product_autocomplete.value="",this.product_filter=[]):this.makeToast("warning",this.$t("Please_wait_until_the_product_is_loaded"),this.$t("Warning"))},Products_by_Category(e){this.category_id=e,this.getProducts(1)},Products_by_Brands(e){this.brand_id=e,this.getProducts(1)},getAllCategory(){this.category_id="",this.getProducts(1)},GetAllBrands(){this.brand_id="",this.getProducts(1)},getProducts(e=1){ii().start(),ii().set(.1),axios.get("pos/get_products_pos?page="+e+"&category_id="+this.category_id+"&brand_id="+this.brand_id+"&warehouse_id="+this.sale.warehouse_id+"&stock=1&product_service=1").then((e=>{this.products=e.data.products,this.product_totalRows=e.data.totalRows,this.Product_paginatePerPage(),ii().done()})).catch((e=>{ii().done()}))},GetElementsPos(){axios.get("pos/data_create_pos").then((e=>{this.clients=e.data.clients,this.warehouses=e.data.warehouses,this.categories=e.data.categories,this.brands=e.data.brands,this.sale.warehouse_id=e.data.defaultWarehouse,this.sale.client_id=e.data.defaultClient,this.client_name=e.data.default_client_name,this.getProducts(),""!=e.data.defaultWarehouse&&this.Get_Products_By_Warehouse(e.data.defaultWarehouse),this.paginate_Brands(this.brand_perPage,0),this.paginate_Category(this.category_perPage,0),this.stripe_key=e.data.stripe_key,this.isLoading=!1})).catch((e=>{this.isLoading=!1}))}},created(){this.GetElementsPos(),Fire.$on("pay_now",(()=>{setTimeout((()=>{this.payment.amount=this.formatNumber(this.GrandTotal,2),this.payment.received_amount=this.formatNumber(this.GrandTotal,2),this.payment.Reglement="Cash",this.$bvModal.show("Add_Payment"),ii().done()}),500)}))}};var hi=a(66262);const _i=(0,hi.A)(ci,[["render",ti]]),pi=_i},56878:(e,t,a)=>{a.d(t,{A:()=>s});const i=()=>{let e=window.document,t=e.documentElement,a=t.requestFullscreen||t.mozRequestFullScreen||t.webkitRequestFullScreen||t.msRequestFullscreen,i=e.exitFullscreen||e.mozCancelFullScreen||e.webkitExitFullscreen||e.msExitFullscreen;e.fullscreenElement||e.mozFullScreenElement||e.webkitFullscreenElement||e.msFullscreenElement?i.call(e):a.call(t)},s={toggleFullScreen:i}}}]);
//# sourceMappingURL=pos.69748509.js.map