{"version":3,"file":"js/payments_purchases.ea0f56da.js","mappings":"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","sources":["webpack:///./src/views/app/pages/reports/payments/payments_purchases.vue","webpack:///./src/views/app/pages/reports/payments/payments_purchases.vue?f434"],"sourcesContent":["<template>\r\n  <div class=\"main-content\">\r\n    <breadcumb :page=\"$t('PurchaseInvoice')\" :folder=\"$t('Reports')\"/>\r\n\r\n    <div v-if=\"isLoading\" class=\"loading_page spinner spinner-primary mr-3\"></div>\r\n\r\n    <b-col md=\"12\" class=\"text-center\" v-if=\"!isLoading\">\r\n        <date-range-picker \r\n          v-model=\"dateRange\" \r\n          :startDate=\"startDate\" \r\n          :endDate=\"endDate\" \r\n           @update=\"Submit_filter_dateRange\"\r\n          :locale-data=\"locale\" > \r\n\r\n          <template v-slot:input=\"picker\" style=\"min-width: 350px;\">\r\n              {{ picker.startDate.toJSON().slice(0, 10)}} - {{ picker.endDate.toJSON().slice(0, 10)}}\r\n          </template>        \r\n        </date-range-picker>\r\n      </b-col>\r\n\r\n    <b-card class=\"wrapper\" v-if=\"!isLoading\">\r\n      <vue-good-table\r\n        mode=\"remote\"\r\n        :columns=\"columns\"\r\n        :totalRows=\"totalRows\"\r\n        :rows=\"rows\"\r\n        :group-options=\"{\r\n          enabled: true,\r\n          headerPosition: 'bottom',\r\n        }\"\r\n        @on-page-change=\"onPageChange\"\r\n        @on-per-page-change=\"onPerPageChange\"\r\n        @on-sort-change=\"onSortChange\"\r\n        @on-search=\"onSearch\"\r\n        :search-options=\"{\r\n        placeholder: $t('Search_this_table'),\r\n        enabled: true,\r\n      }\"\r\n        :pagination-options=\"{\r\n        enabled: true,\r\n        mode: 'records',\r\n        nextLabel: 'next',\r\n        prevLabel: 'prev',\r\n      }\"\r\n        styleClass=\"table-hover tableOne vgt-table\"\r\n      >\r\n        <div slot=\"table-actions\" class=\"mt-2 mb-3\">\r\n          <b-button variant=\"outline-info ripple m-1\" size=\"sm\" v-b-toggle.sidebar-right>\r\n            <i class=\"i-Filter-2\"></i>\r\n            {{ $t(\"Filter\") }}\r\n          </b-button>\r\n          <b-button @click=\"Payment_PDF()\" size=\"sm\" variant=\"outline-success ripple m-1\">\r\n            <i class=\"i-File-Copy\"></i> PDF\r\n          </b-button>\r\n           <vue-excel-xlsx\r\n              class=\"btn btn-sm btn-outline-danger ripple m-1\"\r\n              :data=\"payments\"\r\n              :columns=\"columns\"\r\n              :file-name=\"'payments'\"\r\n              :file-type=\"'xlsx'\"\r\n              :sheet-name=\"'payments'\"\r\n              >\r\n              <i class=\"i-File-Excel\"></i> EXCEL\r\n          </vue-excel-xlsx>\r\n        </div>\r\n      </vue-good-table>\r\n    </b-card>\r\n\r\n    <!-- Sidebar Filter -->\r\n    <b-sidebar id=\"sidebar-right\" :title=\"$t('Filter')\" bg-variant=\"white\" right shadow>\r\n      <div class=\"px-3 py-2\">\r\n        <b-row>\r\n\r\n          <!-- Reference -->\r\n          <b-col md=\"12\">\r\n            <b-form-group :label=\"$t('Reference')\">\r\n              <b-form-input label=\"Reference\" :placeholder=\"$t('Reference')\" v-model=\"Filter_Ref\"></b-form-input>\r\n            </b-form-group>\r\n          </b-col>\r\n\r\n          <!-- Supplier  -->\r\n          <b-col md=\"12\">\r\n            <b-form-group :label=\"$t('Supplier')\">\r\n              <v-select\r\n                :reduce=\"label => label.value\"\r\n                :placeholder=\"$t('Choose_Supplier')\"\r\n                v-model=\"Filter_Supplier\"\r\n                :options=\"suppliers.map(suppliers => ({label: suppliers.name, value: suppliers.id}))\"\r\n              />\r\n            </b-form-group>\r\n          </b-col>\r\n\r\n          <!-- Purchase  -->\r\n          <b-col md=\"12\">\r\n            <b-form-group :label=\"$t('Purchase')\">\r\n              <v-select\r\n                :reduce=\"label => label.value\"\r\n                :placeholder=\"$t('PleaseSelect')\"\r\n                v-model=\"Filter_purchase\"\r\n                :options=\"purchases.map(purchases => ({label: purchases.Ref, value: purchases.id}))\"\r\n              />\r\n            </b-form-group>\r\n          </b-col>\r\n\r\n          <!-- Payment choice -->\r\n          <b-col md=\"12\">\r\n            <b-form-group :label=\"$t('Paymentchoice')\">\r\n              <v-select\r\n                v-model=\"Filter_Reg\"\r\n                :reduce=\"label => label.value\"\r\n                :placeholder=\"$t('PleaseSelect')\"\r\n                :options=\"\r\n                          [\r\n                          {label: 'Cash', value: 'Cash'},\r\n                          {label: 'cheque', value: 'cheque'},\r\n                          {label: 'TPE', value: 'tpe'},\r\n                          {label: 'Western Union', value: 'Western Union'},\r\n                          {label: 'bank transfer', value: 'bank transfer'},\r\n                          {label: 'credit card', value: 'credit card'},\r\n                          {label: 'other', value: 'other'},\r\n                          ]\"\r\n              ></v-select>\r\n            </b-form-group>\r\n          </b-col>\r\n\r\n          <b-col md=\"6\" sm=\"12\">\r\n            <b-button\r\n              @click=\"Payments_Purchases(serverParams.page)\"\r\n              variant=\"primary ripple m-1\"\r\n              size=\"sm\"\r\n              block\r\n            >\r\n              <i class=\"i-Filter-2\"></i>\r\n              {{ $t(\"Filter\") }}\r\n            </b-button>\r\n          </b-col>\r\n          <b-col md=\"6\" sm=\"12\">\r\n            <b-button @click=\"Reset_Filter()\" variant=\"danger ripple m-1\" size=\"sm\" block>\r\n              <i class=\"i-Power-2\"></i>\r\n              {{ $t(\"Reset\") }}\r\n            </b-button>\r\n          </b-col>\r\n        </b-row>\r\n      </div>\r\n    </b-sidebar>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport NProgress from \"nprogress\";\r\nimport jsPDF from \"jspdf\";\r\nimport \"jspdf-autotable\";\r\nimport DateRangePicker from 'vue2-daterange-picker'\r\n//you need to import the CSS manually\r\nimport 'vue2-daterange-picker/dist/vue2-daterange-picker.css'\r\nimport moment from 'moment'\r\n\r\nexport default {\r\n  metaInfo: {\r\n    title: \"Payment Purchases\"\r\n  },\r\n  components: { DateRangePicker },\r\n  data() {\r\n    return {\r\n      isLoading: true,\r\n      serverParams: {\r\n        sort: {\r\n          field: \"id\",\r\n          type: \"desc\"\r\n        },\r\n        page: 1,\r\n        perPage: 10\r\n      },\r\n      limit: \"10\",\r\n      search: \"\",\r\n      totalRows: \"\",\r\n      Filter_Supplier: \"\",\r\n      Filter_Ref: \"\",\r\n      Filter_purchase: \"\",\r\n      Filter_Reg: \"\",\r\n      payments: [],\r\n      suppliers: [],\r\n      rows: [{\r\n          Reglement: 'Total',\r\n         \r\n          children: [\r\n             \r\n          ],\r\n      },],\r\n      purchases: [],\r\n      today_mode: true,\r\n      startDate: \"\", \r\n      endDate: \"\", \r\n      dateRange: { \r\n       startDate: \"\", \r\n       endDate: \"\" \r\n      }, \r\n      locale:{ \r\n          //separator between the two ranges apply\r\n          Label: \"Apply\", \r\n          cancelLabel: \"Cancel\", \r\n          weekLabel: \"W\", \r\n          customRangeLabel: \"Custom Range\", \r\n          daysOfWeek: moment.weekdaysMin(), \r\n          //array of days - see moment documenations for details \r\n          monthNames: moment.monthsShort(), //array of month names - see moment documenations for details \r\n          firstDay: 1 //ISO first day of week - see moment documenations for details\r\n        },\r\n    };\r\n  },\r\n\r\n  computed: {\r\n    columns() {\r\n      return [\r\n        {\r\n          label: this.$t(\"date\"),\r\n          field: \"date\",\r\n          tdClass: \"text-left\",\r\n          thClass: \"text-left\"\r\n        },\r\n        {\r\n          label: this.$t(\"Reference\"),\r\n          field: \"Ref\",\r\n          tdClass: \"text-left\",\r\n          thClass: \"text-left\"\r\n        },\r\n        {\r\n          label: this.$t(\"Purchase\"),\r\n          field: \"Ref_Purchase\",\r\n          tdClass: \"text-left\",\r\n          thClass: \"text-left\"\r\n        },\r\n        {\r\n          label: this.$t(\"Supplier\"),\r\n          field: \"provider_name\",\r\n          tdClass: \"text-left\",\r\n          thClass: \"text-left\"\r\n        },\r\n        {\r\n          label: this.$t(\"ModePaiement\"),\r\n          field: \"Reglement\",\r\n          tdClass: \"text-left\",\r\n          thClass: \"text-left\"\r\n        },\r\n        {\r\n          label: this.$t(\"Amount\"),\r\n          field: \"montant\",\r\n          type: \"decimal\",\r\n          headerField: this.sumCount,\r\n          tdClass: \"text-left\",\r\n          thClass: \"text-left\"\r\n        }\r\n      ];\r\n    }\r\n  },\r\n\r\n  methods: {\r\n\r\n    sumCount(rowObj) {\r\n     \r\n    \tlet sum = 0;\r\n      for (let i = 0; i < rowObj.children.length; i++) {\r\n        sum += rowObj.children[i].montant;\r\n      }\r\n      return sum;\r\n    },\r\n\r\n    //---- update Params\r\n    updateParams(newProps) {\r\n      this.serverParams = Object.assign({}, this.serverParams, newProps);\r\n    },\r\n\r\n    //---- Event Page Change\r\n    onPageChange({ currentPage }) {\r\n      if (this.serverParams.page !== currentPage) {\r\n        this.updateParams({ page: currentPage });\r\n        this.Payments_Purchases(currentPage);\r\n      }\r\n    },\r\n\r\n    //---- Event Per Page Change\r\n    onPerPageChange({ currentPerPage }) {\r\n      if (this.limit !== currentPerPage) {\r\n        this.limit = currentPerPage;\r\n        this.updateParams({ page: 1, perPage: currentPerPage });\r\n        this.Payments_Purchases(1);\r\n      }\r\n    },\r\n\r\n    //---- Event on Sort Change\r\n\r\n    onSortChange(params) {\r\n      let field = \"\";\r\n      if (params[0].field == \"Ref_Purchase\") {\r\n        field = \"purchase_id\";\r\n      } else {\r\n        field = params[0].field;\r\n      }\r\n      this.updateParams({\r\n        sort: {\r\n          type: params[0].type,\r\n          field: field\r\n        }\r\n      });\r\n      this.Payments_Purchases(this.serverParams.page);\r\n    },\r\n\r\n    //---- Event Search\r\n\r\n    onSearch(value) {\r\n      this.search = value.searchTerm;\r\n      this.Payments_Purchases(this.serverParams.page);\r\n    },\r\n\r\n    //------ Reset Filter\r\n    Reset_Filter() {\r\n      this.search = \"\";\r\n      this.Filter_Supplier = \"\";\r\n      this.Filter_Ref = \"\";\r\n      this.Filter_purchase = \"\";\r\n      this.Filter_Reg = \"\";\r\n      this.Payments_Purchases(this.serverParams.page);\r\n    },\r\n\r\n    //---------------------------------------- Set To Strings-------------------------\\\\\r\n    setToStrings() {\r\n      // Simply replaces null values with strings=''\r\n      if (this.Filter_Supplier === null) {\r\n        this.Filter_Supplier = \"\";\r\n      } else if (this.Filter_purchase === null) {\r\n        this.Filter_purchase = \"\";\r\n      }\r\n    },\r\n\r\n    //-------------------------------- Payments Purchases PDF ---------------------\\\\\r\n    Payment_PDF() {\r\n      var self = this;\r\n\r\n      let pdf = new jsPDF(\"p\", \"pt\");\r\n      let columns = [\r\n        { title: \"Date\", dataKey: \"date\" },\r\n        { title: \"Ref\", dataKey: \"Ref\" },\r\n        { title: \"Purchase\", dataKey: \"Ref_Purchase\" },\r\n        { title: \"Supplier\", dataKey: \"provider_name\" },\r\n        { title: \"Paid by\", dataKey: \"Reglement\" },\r\n        { title: \"Amount\", dataKey: \"montant\" }\r\n      ];\r\n      pdf.autoTable(columns, self.payments);\r\n      pdf.text(\"Payments Purchases List\", 40, 25);\r\n      pdf.save(\"Payments_Purchases_List.pdf\");\r\n    },\r\n\r\n    //----------------------------- Submit Date Picker -------------------\\\\\r\n    Submit_filter_dateRange() {\r\n      var self = this;\r\n      self.startDate =  self.dateRange.startDate.toJSON().slice(0, 10);\r\n      self.endDate = self.dateRange.endDate.toJSON().slice(0, 10);\r\n      self.Payments_Purchases(1);\r\n    },\r\n\r\n\r\n    get_data_loaded() {\r\n      var self = this;\r\n      if (self.today_mode) {\r\n        let today = new Date()\r\n\r\n        self.startDate = today.getFullYear();\r\n        self.endDate = new Date().toJSON().slice(0, 10);\r\n\r\n        self.dateRange.startDate = today.getFullYear();\r\n        self.dateRange.endDate = new Date().toJSON().slice(0, 10);\r\n        \r\n      }\r\n    },\r\n\r\n    //-------------------------------- Get All Payments Purchases ---------------------\\\\\r\n    Payments_Purchases(page) {\r\n      // Start the progress bar.\r\n      NProgress.start();\r\n      NProgress.set(0.1);\r\n      this.setToStrings();\r\n      this.get_data_loaded();\r\n\r\n      axios\r\n        .get(\r\n          \"payment_purchase?page=\" +\r\n            page +\r\n            \"&Ref=\" +\r\n            this.Filter_Ref +\r\n            \"&provider_id=\" +\r\n            this.Filter_Supplier +\r\n            \"&purchase_id=\" +\r\n            this.Filter_purchase +\r\n            \"&Reglement=\" +\r\n            this.Filter_Reg +\r\n            \"&SortField=\" +\r\n            this.serverParams.sort.field +\r\n            \"&SortType=\" +\r\n            this.serverParams.sort.type +\r\n            \"&search=\" +\r\n            this.search +\r\n            \"&limit=\" +\r\n            this.limit +\r\n            \"&to=\" +\r\n            this.endDate +\r\n            \"&from=\" +\r\n            this.startDate\r\n        )\r\n\r\n        .then(response => {\r\n          this.payments = response.data.payments;\r\n          this.suppliers = response.data.suppliers;\r\n          this.purchases = response.data.purchases;\r\n          this.totalRows = response.data.totalRows;\r\n          this.rows[0].children = this.payments;\r\n          // Complete the animation of theprogress bar.\r\n          NProgress.done();\r\n          this.isLoading = false;\r\n          this.today_mode = false;\r\n        })\r\n        .catch(response => {\r\n          // Complete the animation of theprogress bar.\r\n          NProgress.done();\r\n          setTimeout(() => {\r\n            this.isLoading = false;\r\n            this.today_mode = false;\r\n          }, 500);\r\n        });\r\n    }\r\n  },\r\n  //----------------------------- Created function-------------------\r\n  created: function() {\r\n    this.Payments_Purchases(1);\r\n  }\r\n};\r\n</script>","import { render } from \"./payments_purchases.vue?vue&type=template&id=52adde94\"\nimport script from \"./payments_purchases.vue?vue&type=script&lang=js\"\nexport * from \"./payments_purchases.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","slot","page","$t","folder","isLoading","md","dateRange","startDate","endDate","Submit_filter_dateRange","locale","input","picker","toJSON","slice","mode","columns","totalRows","rows","onPageChange","onPerPageChange","onSortChange","onSearch","styleClass","variant","size","Payment_PDF","data","payments","id","title","right","shadow","label","placeholder","Filter_Ref","reduce","value","Filter_Supplier","options","suppliers","map","name","Filter_purchase","purchases","Ref","Filter_Reg","sm","Payments_Purchases","serverParams","block","Reset_Filter","metaInfo","components","DateRangePicker","sort","field","type","perPage","limit","search","Reglement","children","today_mode","Label","cancelLabel","weekLabel","customRangeLabel","daysOfWeek","monthNames","firstDay","computed","this","tdClass","thClass","headerField","sumCount","methods","rowObj","sum","i","length","montant","updateParams","newProps","Object","assign","currentPage","currentPerPage","params","searchTerm","setToStrings","self","pdf","dataKey","autoTable","text","save","get_data_loaded","today","Date","getFullYear","axios","get","then","response","catch","setTimeout","created","__exports__","render"],"sourceRoot":""}