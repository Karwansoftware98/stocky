{"version":3,"file":"js/stock_report.7bcc0bf1.js","mappings":"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","sources":["webpack:///./src/views/app/pages/reports/stock_report.vue","webpack:///./src/views/app/pages/reports/stock_report.vue?2edf"],"sourcesContent":["<template>\r\n  <div class=\"main-content\">\r\n    <breadcumb :page=\"$t('stock_report')\" :folder=\"$t('Reports')\"/>\r\n\r\n    <div v-if=\"isLoading\" class=\"loading_page spinner spinner-primary mr-3\"></div>\r\n    <b-card class=\"wrapper\" v-if=\"!isLoading\">\r\n      <vue-good-table\r\n        mode=\"remote\"\r\n        :columns=\"columns\"\r\n        :totalRows=\"totalRows\"\r\n        :rows=\"reports\"\r\n        @on-page-change=\"onPageChange\"\r\n        @on-per-page-change=\"onPerPageChange\"\r\n        @on-sort-change=\"onSortChange\"\r\n        @on-search=\"onSearch\"\r\n        :search-options=\"{\r\n        placeholder: $t('Search_this_table'),\r\n        enabled: true,\r\n      }\"\r\n        :pagination-options=\"{\r\n        enabled: true,\r\n        mode: 'records',\r\n        nextLabel: 'next',\r\n        prevLabel: 'prev',\r\n      }\"\r\n        styleClass=\"tableOne table-hover vgt-table mt-3\"\r\n      >\r\n\r\n       <div slot=\"table-actions\" class=\"mt-2 mb-3 quantity_alert_warehouse\">\r\n        <!-- warehouse -->\r\n        <b-form-group :label=\"$t('warehouse')\">\r\n          <v-select\r\n            @input=\"Selected_Warehouse\"\r\n            v-model=\"warehouse_id\"\r\n            :reduce=\"label => label.value\"\r\n            :placeholder=\"$t('Choose_Warehouse')\"\r\n            :options=\"warehouses.map(warehouses => ({label: warehouses.name, value: warehouses.id}))\"\r\n          />\r\n        </b-form-group>\r\n      </div>\r\n\r\n       <div slot=\"table-actions\" class=\"mt-2 mb-3\">\r\n        \r\n          <b-button @click=\"stock_report_PDF()\" size=\"sm\" variant=\"outline-success ripple m-1\">\r\n            <i class=\"i-File-Copy\"></i> PDF\r\n          </b-button>\r\n           <vue-excel-xlsx\r\n              class=\"btn btn-sm btn-outline-danger ripple m-1\"\r\n              :data=\"reports\"\r\n              :columns=\"columns\"\r\n              :file-name=\"'stock_report'\"\r\n              :file-type=\"'xlsx'\"\r\n              :sheet-name=\"'stock_report'\"\r\n              >\r\n              <i class=\"i-File-Excel\"></i> EXCEL\r\n          </vue-excel-xlsx>\r\n        </div>\r\n\r\n        <template slot=\"table-row\" slot-scope=\"props\">\r\n          <span v-if=\"props.column.field == 'actions'\">\r\n            <router-link title=\"Report\" :to=\"'/app/reports/detail_stock/'+props.row.id\">\r\n              <b-button variant=\"primary\">{{$t('Reports')}}</b-button>\r\n            </router-link>\r\n          </span>\r\n        </template>\r\n      </vue-good-table>\r\n    </b-card>\r\n  </div>\r\n</template>\r\n\r\n\r\n<script>\r\nimport NProgress from \"nprogress\";\r\nimport jsPDF from \"jspdf\";\r\nimport \"jspdf-autotable\";\r\n\r\nexport default {\r\n  metaInfo: {\r\n    title: \"Stock Report\"\r\n  },\r\n  data() {\r\n    return {\r\n      isLoading: true,\r\n      serverParams: {\r\n        sort: {\r\n          field: \"id\",\r\n          type: \"desc\"\r\n        },\r\n        page: 1,\r\n        perPage: 10\r\n      },\r\n      limit: \"10\",\r\n      search: \"\",\r\n      totalRows: \"\",\r\n      reports: [],\r\n      report: {},\r\n      warehouses: [],\r\n      warehouse_id: \"\"\r\n    };\r\n  },\r\n\r\n  computed: {\r\n    columns() {\r\n      return [\r\n        {\r\n          label: this.$t(\"ProductCode\"),\r\n          field: \"code\",\r\n          tdClass: \"text-left\",\r\n          thClass: \"text-left\"\r\n        },\r\n        {\r\n          label: this.$t(\"Name_product\"),\r\n          field: \"name\",\r\n          tdClass: \"text-left\",\r\n          thClass: \"text-left\",\r\n          sortable: false\r\n        },\r\n        {\r\n          label: this.$t(\"Categorie\"),\r\n          field: \"category\",\r\n          tdClass: \"text-left\",\r\n          thClass: \"text-left\",\r\n          sortable: false\r\n        },\r\n      \r\n        {\r\n          label: this.$t(\"Current_stock\"),\r\n          field: \"quantity\",\r\n          tdClass: \"text-left\",\r\n          thClass: \"text-left\"\r\n        },\r\n        {\r\n          label: this.$t(\"Action\"),\r\n          field: \"actions\",\r\n          html: true,\r\n          tdClass: \"text-right\",\r\n          thClass: \"text-right\",\r\n          sortable: false\r\n        }\r\n      ];\r\n    }\r\n  },\r\n\r\n  methods: {\r\n\r\n     //----------------------------------- Sales PDF ------------------------------\\\\\r\n    stock_report_PDF() {\r\n      var self = this;\r\n\r\n      let pdf = new jsPDF(\"p\", \"pt\");\r\n      let columns = [\r\n        { title: \"Code\", dataKey: \"code\" },\r\n        { title: \"name\", dataKey: \"name\" },\r\n        { title: \"category\", dataKey: \"category\" },\r\n        { title: \"quantity\", dataKey: \"quantity\" },\r\n      ];\r\n      pdf.autoTable(columns, self.reports);\r\n      pdf.text(\"Stock report\", 40, 25);\r\n      pdf.save(\"Stock_report.pdf\");\r\n    },\r\n\r\n    //---- update Params Table\r\n    updateParams(newProps) {\r\n      this.serverParams = Object.assign({}, this.serverParams, newProps);\r\n    },\r\n\r\n    //---- Event Page Change\r\n    onPageChange({ currentPage }) {\r\n      if (this.serverParams.page !== currentPage) {\r\n        this.updateParams({ page: currentPage });\r\n        this.Get_Stock_Report(currentPage);\r\n      }\r\n    },\r\n\r\n    //---- Event Per Page Change\r\n    onPerPageChange({ currentPerPage }) {\r\n      if (this.limit !== currentPerPage) {\r\n        this.limit = currentPerPage;\r\n        this.updateParams({ page: 1, perPage: currentPerPage });\r\n        this.Get_Stock_Report(1);\r\n      }\r\n    },\r\n\r\n    //---- Event on Sort Change\r\n    onSortChange(params) {\r\n      this.updateParams({\r\n        sort: {\r\n          type: params[0].type,\r\n          field: params[0].field\r\n        }\r\n      });\r\n      this.Get_Stock_Report(this.serverParams.page);\r\n    },\r\n\r\n    //---- Event on Search\r\n\r\n    onSearch(value) {\r\n      this.search = value.searchTerm;\r\n      this.Get_Stock_Report(this.serverParams.page);\r\n    },\r\n\r\n    //------------------------------Formetted Numbers -------------------------\\\\\r\n    formatNumber(number, dec) {\r\n      const value = (typeof number === \"string\"\r\n        ? number\r\n        : number.toString()\r\n      ).split(\".\");\r\n      if (dec <= 0) return value[0];\r\n      let formated = value[1] || \"\";\r\n      if (formated.length > dec)\r\n        return `${value[0]}.${formated.substr(0, dec)}`;\r\n      while (formated.length < dec) formated += \"0\";\r\n      return `${value[0]}.${formated}`;\r\n    },\r\n\r\n     //---------------------- Event Select Warehouse ------------------------------\\\\\r\n    Selected_Warehouse(value) {\r\n      if (value === null) {\r\n        this.warehouse_id = \"\";\r\n      }\r\n      this.Get_Stock_Report(1);\r\n    },\r\n\r\n    //--------------------------- Get Customer Report -------------\\\\\r\n\r\n    Get_Stock_Report(page) {\r\n      // Start the progress bar.\r\n      NProgress.start();\r\n      NProgress.set(0.1);\r\n      axios\r\n        .get(\r\n          \"report/stock?page=\" +\r\n            page +\r\n            \"&SortField=\" +\r\n            this.serverParams.sort.field +\r\n            \"&SortType=\" +\r\n            this.serverParams.sort.type +\r\n            \"&warehouse_id=\" +\r\n            this.warehouse_id +\r\n            \"&search=\" +\r\n            this.search +\r\n            \"&limit=\" +\r\n            this.limit\r\n        )\r\n        .then(response => {\r\n          this.reports = response.data.report;\r\n          this.totalRows = response.data.totalRows;\r\n          this.warehouses = response.data.warehouses;\r\n          // Complete the animation of theprogress bar.\r\n          NProgress.done();\r\n          this.isLoading = false;\r\n        })\r\n        .catch(response => {\r\n          // Complete the animation of theprogress bar.\r\n          NProgress.done();\r\n          setTimeout(() => {\r\n            this.isLoading = false;\r\n          }, 500);\r\n        });\r\n    }\r\n  }, //end Methods\r\n\r\n  //----------------------------- Created function------------------- \\\\\r\n\r\n  created: function() {\r\n    this.Get_Stock_Report(1);\r\n  }\r\n};\r\n</script>","import { render } from \"./stock_report.vue?vue&type=template&id=3b0e2124\"\nimport script from \"./stock_report.vue?vue&type=script&lang=js\"\nexport * from \"./stock_report.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","slot","page","$t","folder","isLoading","mode","columns","totalRows","rows","reports","onPageChange","onPerPageChange","onSortChange","onSearch","styleClass","label","Selected_Warehouse","warehouse_id","reduce","value","placeholder","options","warehouses","map","name","id","stock_report_PDF","size","variant","data","props","column","field","title","to","row","metaInfo","serverParams","sort","type","perPage","limit","search","report","computed","this","tdClass","thClass","sortable","html","methods","self","pdf","dataKey","autoTable","text","save","updateParams","newProps","Object","assign","currentPage","Get_Stock_Report","currentPerPage","params","searchTerm","formatNumber","number","dec","toString","split","formated","length","substr","axios","get","then","response","catch","setTimeout","created","__exports__","render"],"sourceRoot":""}