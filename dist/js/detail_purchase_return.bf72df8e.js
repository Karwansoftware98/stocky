"use strict";(self["webpackChunk"]=self["webpackChunk"]||[]).push([[4547],{47243:(t,e,n)=>{n.r(e),n.d(e,{default:()=>V});var r=n(20641),s=n(90033),l=n(53751);const u={class:"main-content"},a={key:0,class:"loading_page spinner spinner-primary mr-3"},i=(0,r.Lk)("i",{class:"i-Edit"},null,-1),c=(0,r.Lk)("i",{class:"i-File-TXT"},null,-1),o=(0,r.Lk)("i",{class:"i-Billing"},null,-1),d=(0,r.Lk)("i",{class:"i-Close-Window"},null,-1),_={class:"invoice",id:"print_Invoice"},p={class:"invoice-print"},h={class:"font-weight-bold"},k=(0,r.Lk)("hr",null,null,-1),v={class:"font-weight-bold"},m={class:"font-weight-bold"},b={class:"font-weight-bold"},L={key:0,class:"badge badge-outline-success"},f={key:1,class:"badge badge-outline-warning"},g={key:0,class:"badge badge-outline-success"},$={key:1,class:"badge badge-outline-info"},y={key:2,class:"badge badge-outline-warning"},w={class:"font-weight-bold"},C={class:"alert alert-danger"},D={class:"table-responsive"},T={class:"table table-hover table-md"},F={class:"bg-gray-300"},U={scope:"col"},R={scope:"col"},P={scope:"col"},x={scope:"col"},E={scope:"col"},N={scope:"col"},X={scope:"col"},B={class:"offset-md-9 col-md-3 mt-4"},I={class:"table table-striped table-sm"},W={class:"font-weight-bold"},S={class:"font-weight-bold"},G={class:"font-weight-bold"},Q={class:"font-weight-bold"},j={class:"font-weight-bold"},A={class:"font-weight-bold"};function O(t,e,n,O,q,K){const M=(0,r.g2)("breadcumb"),z=(0,r.g2)("router-link"),H=(0,r.g2)("b-col"),J=(0,r.g2)("b-row"),V=(0,r.g2)("b-card");return(0,r.uX)(),(0,r.CE)("div",u,[(0,r.bF)(M,{page:t.$t("ReturnDetail"),folder:t.$t("ListReturns")},null,8,["page","folder"]),q.isLoading?((0,r.uX)(),(0,r.CE)("div",a)):(0,r.Q3)("",!0),q.isLoading?(0,r.Q3)("",!0):((0,r.uX)(),(0,r.Wv)(V,{key:1},{default:(0,r.k6)((()=>[(0,r.bF)(J,null,{default:(0,r.k6)((()=>[(0,r.bF)(H,{md:"12",class:"mb-5"},{default:(0,r.k6)((()=>[t.currentUserPermissions&&t.currentUserPermissions.includes("Purchase_Returns_edit")?((0,r.uX)(),(0,r.Wv)(z,{key:0,title:"Edit",class:"btn btn-success btn-icon ripple btn-sm",to:"/app/purchase_return/edit/"+t.$route.params.id+"/"+q.purchase_return.purchase_id},{default:(0,r.k6)((()=>[i,(0,r.Lk)("span",null,(0,s.v_)(t.$t("EditReturn")),1)])),_:1},8,["to"])):(0,r.Q3)("",!0),(0,r.Lk)("button",{onClick:e[0]||(e[0]=t=>K.Return_PDF()),class:"btn btn-primary btn-icon ripple btn-sm"},[c,(0,r.eW)(" PDF ")]),(0,r.Lk)("button",{onClick:e[1]||(e[1]=t=>K.print()),class:"btn btn-warning btn-icon ripple btn-sm"},[o,(0,r.eW)(" "+(0,s.v_)(t.$t("print")),1)]),t.currentUserPermissions&&t.currentUserPermissions.includes("Purchase_Returns_delete")?((0,r.uX)(),(0,r.CE)("button",{key:1,onClick:e[2]||(e[2]=t=>K.Delete_Return()),class:"btn btn-danger btn-icon ripple btn-sm"},[d,(0,r.eW)(" "+(0,s.v_)(t.$t("Del")),1)])):(0,r.Q3)("",!0)])),_:1})])),_:1}),(0,r.Lk)("div",_,[(0,r.Lk)("div",p,[(0,r.bF)(J,{class:"justify-content-md-center"},{default:(0,r.k6)((()=>[(0,r.Lk)("h4",h,(0,s.v_)(t.$t("ReturnDetail"))+" : "+(0,s.v_)(q.purchase_return.Ref),1)])),_:1}),k,(0,r.bF)(J,{class:"mt-5"},{default:(0,r.k6)((()=>[(0,r.bF)(H,{lg:"4",md:"4",sm:"12",class:"mb-4"},{default:(0,r.k6)((()=>[(0,r.Lk)("h5",v,(0,s.v_)(t.$t("Supplier_Info")),1),(0,r.Lk)("div",null,(0,s.v_)(q.purchase_return.supplier_name),1),(0,r.Lk)("div",null,(0,s.v_)(q.purchase_return.supplier_email),1),(0,r.Lk)("div",null,(0,s.v_)(q.purchase_return.supplier_phone),1),(0,r.Lk)("div",null,(0,s.v_)(q.purchase_return.supplier_adr),1)])),_:1}),(0,r.bF)(H,{lg:"4",md:"4",sm:"12",class:"mb-4"},{default:(0,r.k6)((()=>[(0,r.Lk)("h5",m,(0,s.v_)(t.$t("Company_Info")),1),(0,r.Lk)("div",null,(0,s.v_)(q.company.CompanyName),1),(0,r.Lk)("div",null,(0,s.v_)(q.company.email),1),(0,r.Lk)("div",null,(0,s.v_)(q.company.CompanyPhone),1),(0,r.Lk)("div",null,(0,s.v_)(q.company.CompanyAdress),1)])),_:1}),(0,r.bF)(H,{lg:"4",md:"4",sm:"12",class:"mb-4"},{default:(0,r.k6)((()=>[(0,r.Lk)("h5",b,(0,s.v_)(t.$t("Return_Info")),1),(0,r.Lk)("div",null,(0,s.v_)(t.$t("Reference"))+" : "+(0,s.v_)(q.purchase_return.Ref),1),(0,r.Lk)("div",null,(0,s.v_)(t.$t("Purchase_Ref"))+" : "+(0,s.v_)(q.purchase_return.purchase_ref),1),(0,r.Lk)("div",null,[(0,r.eW)((0,s.v_)(t.$t("Status"))+" : ",1),"completed"==q.purchase_return.statut?((0,r.uX)(),(0,r.CE)("span",L,(0,s.v_)(t.$t("complete")),1)):((0,r.uX)(),(0,r.CE)("span",f,(0,s.v_)(t.$t("Pending")),1))]),(0,r.Lk)("div",null,(0,s.v_)(t.$t("warehouse"))+" : "+(0,s.v_)(q.purchase_return.warehouse),1),(0,r.Lk)("div",null,[(0,r.eW)((0,s.v_)(t.$t("PaymentStatus"))+" : ",1),"paid"==q.purchase_return.payment_status?((0,r.uX)(),(0,r.CE)("span",g,(0,s.v_)(t.$t("Paid")),1)):"partial"==q.purchase_return.payment_status?((0,r.uX)(),(0,r.CE)("span",$,(0,s.v_)(t.$t("partial")),1)):((0,r.uX)(),(0,r.CE)("span",y,(0,s.v_)(t.$t("Unpaid")),1))])])),_:1})])),_:1}),(0,r.bF)(J,{class:"mt-3"},{default:(0,r.k6)((()=>[(0,r.bF)(H,{md:"12"},{default:(0,r.k6)((()=>[(0,r.Lk)("h5",w,(0,s.v_)(t.$t("list_product_returns")),1),(0,r.Lk)("div",C,(0,s.v_)(t.$t("products_refunded_alert")),1),(0,r.Lk)("div",D,[(0,r.Lk)("table",T,[(0,r.Lk)("thead",F,[(0,r.Lk)("tr",null,[(0,r.Lk)("th",U,(0,s.v_)(t.$t("ProductName")),1),(0,r.Lk)("th",R,(0,s.v_)(t.$t("Net_Unit_Cost")),1),(0,r.Lk)("th",P,(0,s.v_)(t.$t("Qty_return")),1),(0,r.Lk)("th",x,(0,s.v_)(t.$t("Unitcost")),1),(0,r.Lk)("th",E,(0,s.v_)(t.$t("Discount")),1),(0,r.Lk)("th",N,(0,s.v_)(t.$t("Tax")),1),(0,r.Lk)("th",X,(0,s.v_)(t.$t("SubTotal")),1)])]),(0,r.Lk)("tbody",null,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(q.details,(e=>((0,r.uX)(),(0,r.CE)("tr",null,[(0,r.Lk)("td",null,[(0,r.Lk)("span",null,(0,s.v_)(e.code)+" ("+(0,s.v_)(e.name)+")",1),(0,r.bo)((0,r.Lk)("p",null,(0,s.v_)(t.$t("IMEI_SN"))+" : "+(0,s.v_)(e.imei_number),513),[[l.aG,e.is_imei&&null!==e.imei_number]])]),(0,r.Lk)("td",null,(0,s.v_)(t.currentUser.currency)+" "+(0,s.v_)(K.formatNumber(e.Net_cost,3)),1),(0,r.Lk)("td",null,(0,s.v_)(K.formatNumber(e.quantity,2))+" "+(0,s.v_)(e.unit_purchase),1),(0,r.Lk)("td",null,(0,s.v_)(t.currentUser.currency)+" "+(0,s.v_)(K.formatNumber(e.cost,2)),1),(0,r.Lk)("td",null,(0,s.v_)(t.currentUser.currency)+" "+(0,s.v_)(K.formatNumber(e.DiscountNet,2)),1),(0,r.Lk)("td",null,(0,s.v_)(t.currentUser.currency)+" "+(0,s.v_)(K.formatNumber(e.taxe,2)),1),(0,r.Lk)("td",null,(0,s.v_)(t.currentUser.currency)+" "+(0,s.v_)(e.total.toFixed(2)),1)])))),256))])])])])),_:1}),(0,r.Lk)("div",B,[(0,r.Lk)("table",I,[(0,r.Lk)("tbody",null,[(0,r.Lk)("tr",null,[(0,r.Lk)("td",null,[(0,r.Lk)("span",null,(0,s.v_)(t.$t("OrderTax")),1)]),(0,r.Lk)("td",null,[(0,r.Lk)("span",null,(0,s.v_)(t.currentUser.currency)+" "+(0,s.v_)(q.purchase_return.TaxNet.toFixed(2))+" ("+(0,s.v_)(K.formatNumber(q.purchase_return.tax_rate,2))+" %)",1)])]),(0,r.Lk)("tr",null,[(0,r.Lk)("td",null,[(0,r.Lk)("span",null,(0,s.v_)(t.$t("Discount")),1)]),(0,r.Lk)("td",null,[(0,r.Lk)("span",null,(0,s.v_)(t.currentUser.currency)+" "+(0,s.v_)(q.purchase_return.discount.toFixed(2)),1)])]),(0,r.Lk)("tr",null,[(0,r.Lk)("td",null,[(0,r.Lk)("span",null,(0,s.v_)(t.$t("Shipping")),1)]),(0,r.Lk)("td",null,[(0,r.Lk)("span",null,(0,s.v_)(t.currentUser.currency)+" "+(0,s.v_)(q.purchase_return.shipping.toFixed(2)),1)])]),(0,r.Lk)("tr",null,[(0,r.Lk)("td",null,[(0,r.Lk)("span",W,(0,s.v_)(t.$t("Total")),1)]),(0,r.Lk)("td",null,[(0,r.Lk)("span",S,(0,s.v_)(t.currentUser.currency)+" "+(0,s.v_)(q.purchase_return.GrandTotal),1)])]),(0,r.Lk)("tr",null,[(0,r.Lk)("td",null,[(0,r.Lk)("span",G,(0,s.v_)(t.$t("Paid")),1)]),(0,r.Lk)("td",null,[(0,r.Lk)("span",Q,(0,s.v_)(t.currentUser.currency)+" "+(0,s.v_)(q.purchase_return.paid_amount),1)])]),(0,r.Lk)("tr",null,[(0,r.Lk)("td",null,[(0,r.Lk)("span",j,(0,s.v_)(t.$t("Due")),1)]),(0,r.Lk)("td",null,[(0,r.Lk)("span",A,(0,s.v_)(t.currentUser.currency)+" "+(0,s.v_)(q.purchase_return.due),1)])])])])])])),_:1}),(0,r.bo)((0,r.Lk)("hr",null,null,512),[[l.aG,q.purchase_return.note]]),(0,r.bF)(J,{class:"mt-4"},{default:(0,r.k6)((()=>[(0,r.bF)(H,{md:"12"},{default:(0,r.k6)((()=>[(0,r.Lk)("p",null,(0,s.v_)(q.purchase_return.note),1)])),_:1})])),_:1})])])])),_:1}))])}var q=n(95353),K=n(5947),M=n.n(K);const z={computed:(0,q.L8)(["currentUserPermissions","currentUser"]),metaInfo:{title:"Detail Return Purchase"},data(){return{isLoading:!0,purchase_return:{},details:[],company:{},email:{to:"",subject:"",message:""}}},methods:{Return_PDF(){M().start(),M().set(.1);let t=this.$route.params.id;axios.get(`return_purchase_pdf/${t}`,{responseType:"blob",headers:{"Content-Type":"application/json"}}).then((t=>{const e=window.URL.createObjectURL(new Blob([t.data])),n=document.createElement("a");n.href=e,n.setAttribute("download","Return_Purchase_"+this.purchase_return.Ref+".pdf"),document.body.appendChild(n),n.click(),setTimeout((()=>M().done()),500)})).catch((()=>{setTimeout((()=>M().done()),500)}))},print(){this.$htmlToPaper("print_Invoice")},formatNumber(t,e){const n=("string"===typeof t?t:t.toString()).split(".");if(e<=0)return n[0];let r=n[1]||"";if(r.length>e)return`${n[0]}.${r.substr(0,e)}`;while(r.length<e)r+="0";return`${n[0]}.${r}`},makeToast(t,e,n){this.$root.$bvToast.toast(e,{title:n,variant:t,solid:!0})},Get_Details(){let t=this.$route.params.id;axios.get(`returns/purchase/${t}`).then((t=>{this.purchase_return=t.data.purchase_return,this.details=t.data.details,this.company=t.data.company,this.isLoading=!1})).catch((t=>{setTimeout((()=>{this.isLoading=!1}),500)}))},Delete_Return(){let t=this.$route.params.id;this.$swal({title:this.$t("Delete.Title"),text:this.$t("Delete.Text"),type:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",cancelButtonText:this.$t("Delete.cancelButtonText"),confirmButtonText:this.$t("Delete.confirmButtonText")}).then((e=>{e.value&&axios.delete("returns/purchase/"+t).then((()=>{this.$swal(this.$t("Delete.Deleted"),this.$t("Delete.ReturnDeleted"),"success"),this.$router.push({name:"index_purchase_return"})})).catch((()=>{this.$swal(this.$t("Delete.Failed"),this.$t("Delete.Therewassomethingwronge"),"warning")}))}))}},created:function(){this.Get_Details()}};var H=n(66262);const J=(0,H.A)(z,[["render",O]]),V=J}}]);
//# sourceMappingURL=detail_purchase_return.bf72df8e.js.map