{"version":3,"file":"js/Backup.414052cf.js","mappings":"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","sources":["webpack:///./src/views/app/pages/settings/backup.vue","webpack:///./src/views/app/pages/settings/backup.vue?f836"],"sourcesContent":["<template>\r\n  <div class=\"main-content\">\r\n    <breadcumb :page=\"$t('BackupDatabase')\" :folder=\"$t('Settings')\"/>\r\n\r\n    <div v-if=\"isLoading\" class=\"loading_page spinner spinner-primary mr-3\"></div>\r\n    <b-card class=\"wrapper\" v-if=\"!isLoading\">\r\n      <span class=\"alert alert-danger\">{{$t('You_will_find_your_backup_on')}} <strong>/storage/app/public/backup</strong> {{$t('and_save_it_to_your_pc')}}</span>\r\n      <vue-good-table\r\n        mode=\"remote\"\r\n        :columns=\"columns\"\r\n        :totalRows=\"totalRows\"\r\n        :rows=\"backups\"\r\n        styleClass=\"table-hover tableOne vgt-table\"\r\n      >\r\n        <div slot=\"table-actions\" class=\"mt-2 mb-3\">\r\n          <b-button\r\n            @click=\"GenerateBackup()\"\r\n            size=\"sm\"\r\n            class=\"btn-rounded\"\r\n            variant=\"btn btn-primary btn-icon m-1\"\r\n          >\r\n            <i class=\"i-Add\"></i>\r\n            {{$t('GenerateBackup')}}\r\n          </b-button>\r\n        </div>\r\n\r\n        <template slot=\"table-row\" slot-scope=\"props\">\r\n          <span v-if=\"props.column.field == 'actions'\">\r\n            <!-- <a v-b-tooltip.hover @click=\"DownloadBackup(props.row.date)\" title=\"Download\">\r\n              <i class=\"i-Download text-25 text-success\"></i>\r\n            </a> -->\r\n            <a title=\"Delete\" v-b-tooltip.hover @click=\"DeleteBackup(props.row.date)\">\r\n              <i class=\"i-Close-Window text-25 text-danger\"></i>\r\n            </a>\r\n          </span>\r\n        </template>\r\n      </vue-good-table>\r\n    </b-card>\r\n  </div>\r\n</template>\r\n\r\n\r\n\r\n<script>\r\nimport NProgress from \"nprogress\";\r\n\r\nexport default {\r\n  metaInfo: {\r\n    title: \"Backup\"\r\n  },\r\n  data() {\r\n    return {\r\n      backups: [],\r\n      isLoading: true,\r\n      totalRows: \"\"\r\n    };\r\n  },\r\n\r\n  computed: {\r\n    columns() {\r\n      return [\r\n        {\r\n          label: this.$t(\"date\"),\r\n          field: \"date\",\r\n          tdClass: \"text-left\",\r\n          thClass: \"text-left\"\r\n        },\r\n        {\r\n          label: this.$t(\"Filesize\"),\r\n          field: \"size\",\r\n          tdClass: \"text-left\",\r\n          thClass: \"text-left\"\r\n        },\r\n\r\n        {\r\n          label: this.$t(\"Action\"),\r\n          field: \"actions\",\r\n          html: true,\r\n          tdClass: \"text-right\",\r\n          thClass: \"text-right\",\r\n          sortable: false\r\n        }\r\n      ];\r\n    }\r\n  },\r\n\r\n  methods: {\r\n    //---------------------------------- Generate Backup --------------------\\\\\r\n\r\n    GenerateBackup() {\r\n      // Start the progress bar.\r\n      NProgress.start();\r\n      NProgress.set(0.1);\r\n      axios\r\n        .get(\"generate_new_backup\")\r\n        .then(response => {\r\n          Fire.$emit(\"Generate_Backup\");\r\n          // Complete the animation of the  progress bar.\r\n          setTimeout(() => NProgress.done(), 500);\r\n        })\r\n        .catch(response => {\r\n          // Complete the animation of the  progress bar.\r\n          setTimeout(() => NProgress.done(), 500);\r\n        });\r\n    },\r\n\r\n  \r\n    //----------------------------------------  Get All backups -------------------------\\\\\r\n    Get_Backups() {\r\n      // Start the progress bar.\r\n      NProgress.start();\r\n      NProgress.set(0.1);\r\n      axios\r\n        .get(\"get_backup\")\r\n        .then(response => {\r\n          this.backups = response.data.backups;\r\n          this.totalRows = response.data.totalRows;\r\n\r\n          // Complete the animation of theprogress bar.\r\n          NProgress.done();\r\n          this.isLoading = false;\r\n        })\r\n        .catch(response => {\r\n          // Complete the animation of theprogress bar.\r\n          NProgress.done();\r\n          setTimeout(() => {\r\n            this.isLoading = false;\r\n          }, 500);\r\n        });\r\n    },\r\n\r\n    //--------------------------------- Delete Backup --------------------\\\\\r\n    DeleteBackup(date) {\r\n      this.$swal({\r\n        title: this.$t(\"Delete.Title\"),\r\n        text: this.$t(\"Delete.Text\"),\r\n        type: \"warning\",\r\n        showCancelButton: true,\r\n        confirmButtonColor: \"#3085d6\",\r\n        cancelButtonColor: \"#d33\",\r\n        cancelButtonText: this.$t(\"Delete.cancelButtonText\"),\r\n        confirmButtonText: this.$t(\"Delete.confirmButtonText\")\r\n      }).then(result => {\r\n        if (result.value) {\r\n          axios\r\n            .delete(\"delete_backup/\" + date)\r\n            .then(() => {\r\n              this.$swal(\r\n                this.$t(\"Delete.Deleted\"),\r\n                this.$t(\"Delete.BackupDeleted\"),\r\n                \"success\"\r\n              );\r\n\r\n              Fire.$emit(\"Delete_Backup\");\r\n            })\r\n            .catch(() => {\r\n              this.$swal(\r\n                this.$t(\"Delete.Failed\"),\r\n                this.$t(\"Delete.Therewassomethingwronge\"),\r\n                \"warning\"\r\n              );\r\n            });\r\n        }\r\n      });\r\n    }\r\n  }, //end Method\r\n\r\n  //----------------------------- Created function-------------------\r\n  created: function() {\r\n    this.Get_Backups();\r\n\r\n    Fire.$on(\"Generate_Backup\", () => {\r\n      setTimeout(() => {\r\n        this.Get_Backups();\r\n      }, 500);\r\n    });\r\n\r\n    Fire.$on(\"Delete_Backup\", () => {\r\n      setTimeout(() => {\r\n        this.Get_Backups();\r\n        // Complete the animation of the  progress bar.\r\n        NProgress.done();\r\n      }, 500);\r\n    });\r\n  }\r\n};\r\n</script>","import { render } from \"./backup.vue?vue&type=template&id=06aca578\"\nimport script from \"./backup.vue?vue&type=script&lang=js\"\nexport * from \"./backup.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","slot","page","$t","folder","isLoading","mode","columns","totalRows","rows","backups","styleClass","GenerateBackup","size","variant","props","column","field","title","DeleteBackup","row","date","metaInfo","data","computed","label","this","tdClass","thClass","html","sortable","methods","axios","get","then","response","Fire","$emit","setTimeout","catch","Get_Backups","$swal","text","type","showCancelButton","confirmButtonColor","cancelButtonColor","cancelButtonText","confirmButtonText","result","value","delete","created","$on","__exports__","render"],"sourceRoot":""}