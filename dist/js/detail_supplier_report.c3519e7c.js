"use strict";(self["webpackChunk"]=self["webpackChunk"]||[]).push([[2252],{9826:(e,t,a)=>{a.r(t),a.d(t,{default:()=>le});var s=a(20641),l=a(90033);const r={class:"main-content"},n={key:0,class:"loading_page spinner spinner-primary mr-3"},i=(0,s.Lk)("i",{class:"i-Full-Cart"},null,-1),o={class:"content"},u={class:"text-muted mt-2 mb-0"},p={class:"text-primary text-24 line-height-1 mb-2"},d=(0,s.Lk)("i",{class:"i-Financial"},null,-1),c={class:"content"},h={class:"text-muted mt-2 mb-0"},m={class:"text-primary text-24 line-height-1 mb-2"},_=(0,s.Lk)("i",{class:"i-Money-2"},null,-1),b={class:"content"},g={class:"text-muted mt-2 mb-0"},f={class:"text-primary text-24 line-height-1 mb-2"},y=(0,s.Lk)("i",{class:"i-Money-Bag"},null,-1),P={class:"content"},C={class:"text-muted mt-2 mb-0"},v={class:"text-primary text-24 line-height-1 mb-2"},k={slot:"table-actions",class:"mt-2 mb-3"},x=(0,s.Lk)("i",{class:"i-File-Copy"},null,-1),R={slot:"table-row","slot-scope":"props"},w={key:0},$={key:0,class:"badge badge-outline-success"},L={key:1,class:"badge badge-outline-info"},F={key:2,class:"badge badge-outline-warning"},S={key:1},K={key:0,class:"badge badge-outline-success"},O={key:1,class:"badge badge-outline-primary"},X={key:2,class:"badge badge-outline-warning"},G={key:2},E={class:"ul-btn__text ml-1"},T={slot:"table-actions",class:"mt-2 mb-3"},D=(0,s.Lk)("i",{class:"i-File-Copy"},null,-1),W={slot:"table-row","slot-scope":"props"},U={key:0},Q={key:0,class:"badge badge-outline-success"},A={key:1,class:"badge badge-outline-info"},N={key:1},z={key:0,class:"badge badge-outline-success"},M={key:1,class:"badge badge-outline-primary"},B={key:2,class:"badge badge-outline-warning"},I={key:2},j={class:"ul-btn__text ml-1"},q={key:3},H={class:"ul-btn__text ml-1"},J={slot:"table-actions",class:"mt-2 mb-3"},V=(0,s.Lk)("i",{class:"i-File-Copy"},null,-1);function Y(e,t,a,Y,Z,ee){const te=(0,s.g2)("breadcumb"),ae=(0,s.g2)("b-card"),se=(0,s.g2)("b-col"),le=(0,s.g2)("b-row"),re=(0,s.g2)("b-button"),ne=(0,s.g2)("router-link"),ie=(0,s.g2)("vue-good-table"),oe=(0,s.g2)("b-tab"),ue=(0,s.g2)("b-tabs");return(0,s.uX)(),(0,s.CE)("div",r,[(0,s.bF)(te,{page:e.$t("SuppliersReport"),folder:e.$t("Reports")},null,8,["page","folder"]),Z.isLoading?((0,s.uX)(),(0,s.CE)("div",n)):(0,s.Q3)("",!0),Z.isLoading?(0,s.Q3)("",!0):((0,s.uX)(),(0,s.Wv)(le,{key:1},{default:(0,s.k6)((()=>[(0,s.bF)(se,{lg:"3",md:"6",sm:"12"},{default:(0,s.k6)((()=>[(0,s.bF)(ae,{class:"card-icon-bg card-icon-bg-primary o-hidden mb-30 text-center"},{default:(0,s.k6)((()=>[i,(0,s.Lk)("div",o,[(0,s.Lk)("p",u,(0,l.v_)(e.$t("Purchases")),1),(0,s.Lk)("p",p,(0,l.v_)(Z.provider.total_purchase),1)])])),_:1})])),_:1}),(0,s.bF)(se,{lg:"3",md:"6",sm:"12"},{default:(0,s.k6)((()=>[(0,s.bF)(ae,{class:"card-icon-bg card-icon-bg-primary o-hidden mb-30 text-center"},{default:(0,s.k6)((()=>[d,(0,s.Lk)("div",c,[(0,s.Lk)("p",h,(0,l.v_)(e.$t("TotalAmount")),1),(0,s.Lk)("p",m,(0,l.v_)(e.currentUser.currency)+" "+(0,l.v_)(ee.formatNumber(Z.provider.total_amount,2)),1)])])),_:1})])),_:1}),(0,s.bF)(se,{lg:"3",md:"6",sm:"12"},{default:(0,s.k6)((()=>[(0,s.bF)(ae,{class:"card-icon-bg card-icon-bg-primary o-hidden mb-30 text-center"},{default:(0,s.k6)((()=>[_,(0,s.Lk)("div",b,[(0,s.Lk)("p",g,(0,l.v_)(e.$t("TotalPaid")),1),(0,s.Lk)("p",f,(0,l.v_)(e.currentUser.currency)+" "+(0,l.v_)(ee.formatNumber(Z.provider.total_paid,2)),1)])])),_:1})])),_:1}),(0,s.bF)(se,{lg:"3",md:"6",sm:"12"},{default:(0,s.k6)((()=>[(0,s.bF)(ae,{class:"card-icon-bg card-icon-bg-primary o-hidden mb-30 text-center"},{default:(0,s.k6)((()=>[y,(0,s.Lk)("div",P,[(0,s.Lk)("p",C,(0,l.v_)(e.$t("Due")),1),(0,s.Lk)("p",v,(0,l.v_)(e.currentUser.currency)+" "+(0,l.v_)(ee.formatNumber(Z.provider.due,2)),1)])])),_:1})])),_:1})])),_:1})),Z.isLoading?(0,s.Q3)("",!0):((0,s.uX)(),(0,s.Wv)(le,{key:2},{default:(0,s.k6)((()=>[(0,s.bF)(se,{md:"12"},{default:(0,s.k6)((()=>[(0,s.bF)(ae,{class:"card mb-30","header-bg-variant":"transparent "},{default:(0,s.k6)((()=>[(0,s.bF)(ue,{"active-nav-item-class":"nav nav-tabs","content-class":"mt-3"},{default:(0,s.k6)((()=>[(0,s.bF)(oe,{title:e.$t("Purchases")},{default:(0,s.k6)((()=>[(0,s.bF)(ie,{mode:"remote",columns:ee.columns_purchases,totalRows:Z.totalRows_purchases,rows:Z.purchases,onOnPageChange:ee.PageChangePurchases,onOnPerPageChange:ee.onPerPageChangePurchases,onOnSearch:ee.onSearch_purchases,"search-options":{placeholder:e.$t("Search_this_table"),enabled:!0},"pagination-options":{enabled:!0,mode:"records",nextLabel:"next",prevLabel:"prev"},styleClass:"tableOne table-hover vgt-table"},{default:(0,s.k6)((()=>[(0,s.Lk)("div",k,[(0,s.bF)(re,{onClick:t[0]||(t[0]=e=>ee.Purchase_PDF()),size:"sm",variant:"outline-success ripple m-1"},{default:(0,s.k6)((()=>[x,(0,s.eW)(" PDF ")])),_:1})]),(0,s.Lk)("template",R,["statut"==e.props.column.field?((0,s.uX)(),(0,s.CE)("div",w,["received"==e.props.row.statut?((0,s.uX)(),(0,s.CE)("span",$,(0,l.v_)(e.$t("Received")),1)):"pending"==e.props.row.statut?((0,s.uX)(),(0,s.CE)("span",L,(0,l.v_)(e.$t("Pending")),1)):((0,s.uX)(),(0,s.CE)("span",F,(0,l.v_)(e.$t("Ordered")),1))])):"payment_status"==e.props.column.field?((0,s.uX)(),(0,s.CE)("div",S,["paid"==e.props.row.payment_status?((0,s.uX)(),(0,s.CE)("span",K,(0,l.v_)(e.$t("Paid")),1)):"partial"==e.props.row.payment_status?((0,s.uX)(),(0,s.CE)("span",O,(0,l.v_)(e.$t("partial")),1)):((0,s.uX)(),(0,s.CE)("span",X,(0,l.v_)(e.$t("Unpaid")),1))])):"Ref"==e.props.column.field?((0,s.uX)(),(0,s.CE)("div",G,[(0,s.bF)(ne,{to:"/app/purchases/detail/"+e.props.row.id},{default:(0,s.k6)((()=>[(0,s.Lk)("span",E,(0,l.v_)(e.props.row.Ref),1)])),_:1},8,["to"])])):(0,s.Q3)("",!0)])])),_:1},8,["columns","totalRows","rows","onOnPageChange","onOnPerPageChange","onOnSearch","search-options"])])),_:1},8,["title"]),(0,s.bF)(oe,{title:e.$t("Returns")},{default:(0,s.k6)((()=>[(0,s.bF)(ie,{mode:"remote",columns:ee.columns_returns,totalRows:Z.totalRows_returns,rows:Z.returns_supplier,onOnPageChange:ee.PageChangeReturns,onOnPerPageChange:ee.onPerPageChangeReturns,onOnSearch:ee.onSearch_return_purchases,"search-options":{placeholder:e.$t("Search_this_table"),enabled:!0},"pagination-options":{enabled:!0,mode:"records",nextLabel:"next",prevLabel:"prev"},styleClass:"tableOne table-hover vgt-table"},{default:(0,s.k6)((()=>[(0,s.Lk)("div",T,[(0,s.bF)(re,{onClick:t[1]||(t[1]=e=>ee.Returns_Purchase_PDF()),size:"sm",variant:"outline-success ripple m-1"},{default:(0,s.k6)((()=>[D,(0,s.eW)(" PDF ")])),_:1})]),(0,s.Lk)("template",W,["statut"==e.props.column.field?((0,s.uX)(),(0,s.CE)("div",U,["completed"==e.props.row.statut?((0,s.uX)(),(0,s.CE)("span",Q,(0,l.v_)(e.$t("complete")),1)):((0,s.uX)(),(0,s.CE)("span",A,(0,l.v_)(e.$t("Pending")),1))])):"payment_status"==e.props.column.field?((0,s.uX)(),(0,s.CE)("div",N,["paid"==e.props.row.payment_status?((0,s.uX)(),(0,s.CE)("span",z,(0,l.v_)(e.$t("Paid")),1)):"partial"==e.props.row.payment_status?((0,s.uX)(),(0,s.CE)("span",M,(0,l.v_)(e.$t("partial")),1)):((0,s.uX)(),(0,s.CE)("span",B,(0,l.v_)(e.$t("Unpaid")),1))])):"Ref"==e.props.column.field?((0,s.uX)(),(0,s.CE)("div",I,[(0,s.bF)(ne,{to:"/app/purchase_return/detail/"+e.props.row.id},{default:(0,s.k6)((()=>[(0,s.Lk)("span",j,(0,l.v_)(e.props.row.Ref),1)])),_:1},8,["to"])])):"purchase_ref"==e.props.column.field&&e.props.row.purchase_id?((0,s.uX)(),(0,s.CE)("div",q,[(0,s.bF)(ne,{to:"/app/purchases/detail/"+e.props.row.purchase_id},{default:(0,s.k6)((()=>[(0,s.Lk)("span",H,(0,l.v_)(e.props.row.purchase_ref),1)])),_:1},8,["to"])])):(0,s.Q3)("",!0)])])),_:1},8,["columns","totalRows","rows","onOnPageChange","onOnPerPageChange","onOnSearch","search-options"])])),_:1},8,["title"]),(0,s.bF)(oe,{title:e.$t("PurchaseInvoice")},{default:(0,s.k6)((()=>[(0,s.bF)(ie,{mode:"remote",columns:ee.columns_payments,totalRows:Z.totalRows_payments,rows:Z.payments,onOnPageChange:ee.PageChangePayments,onOnPerPageChange:ee.onPerPageChangePayments,onOnSearch:ee.onSearch_payments,"search-options":{placeholder:e.$t("Search_this_table"),enabled:!0},"pagination-options":{enabled:!0,mode:"records",nextLabel:"next",prevLabel:"prev"},styleClass:"tableOne table-hover vgt-table"},{default:(0,s.k6)((()=>[(0,s.Lk)("div",J,[(0,s.bF)(re,{onClick:t[2]||(t[2]=e=>ee.Payments_PDF()),size:"sm",variant:"outline-success ripple m-1"},{default:(0,s.k6)((()=>[V,(0,s.eW)(" PDF ")])),_:1})])])),_:1},8,["columns","totalRows","rows","onOnPageChange","onOnPerPageChange","onOnSearch","search-options"])])),_:1},8,["title"])])),_:1})])),_:1})])),_:1})])),_:1}))])}var Z=a(95353),ee=a(44323);a(13246);const te={data(){return{totalRows_purchases:"",totalRows_returns:"",totalRows_payments:"",limit_returns:"10",limit_purchases:"10",limit_payments:"10",purchases_page:1,Return_page:1,Payment_page:1,isLoading:!0,returns_supplier:[],payments:[],purchases:[],search_purchases:"",search_payments:"",search_return_purchases:"",provider:{id:"",name:"",total_purchase:0,total_amount:0,total_paid:0,due:0}}},computed:{...(0,Z.L8)(["currentUser"]),columns_purchases(){return[{label:this.$t("Reference"),field:"Ref",tdClass:"text-left",thClass:"text-left",sortable:!1},{label:this.$t("Supplier"),field:"provider_name",tdClass:"text-left",thClass:"text-left",sortable:!1},{label:this.$t("warehouse"),field:"warehouse_name",tdClass:"text-left",thClass:"text-left"},{label:this.$t("Total"),field:"GrandTotal",type:"decimal",tdClass:"text-left",thClass:"text-left",sortable:!1},{label:this.$t("Paid"),field:"paid_amount",type:"decimal",tdClass:"text-left",thClass:"text-left",sortable:!1},{label:this.$t("Due"),field:"due",type:"decimal",tdClass:"text-left",thClass:"text-left",sortable:!1},{label:this.$t("Status"),field:"statut",html:!0,tdClass:"text-left",thClass:"text-left",sortable:!1},{label:this.$t("PaymentStatus"),field:"payment_status",html:!0,tdClass:"text-left",thClass:"text-left",sortable:!1}]},columns_returns(){return[{label:this.$t("Reference"),field:"Ref",tdClass:"text-left",thClass:"text-left",sortable:!1},{label:this.$t("Supplier"),field:"provider_name",tdClass:"text-left",thClass:"text-left",sortable:!1},{label:this.$t("warehouse"),field:"warehouse_name",tdClass:"text-left",thClass:"text-left"},{label:this.$t("Purchase_Ref"),field:"purchase_ref",tdClass:"text-left",thClass:"text-left"},{label:this.$t("Total"),field:"GrandTotal",type:"decimal",tdClass:"text-left",thClass:"text-left",sortable:!1},{label:this.$t("Paid"),field:"paid_amount",type:"decimal",tdClass:"text-left",thClass:"text-left",sortable:!1},{label:this.$t("Due"),field:"due",type:"decimal",tdClass:"text-left",thClass:"text-left",sortable:!1},{label:this.$t("Status"),field:"statut",html:!0,tdClass:"text-left",thClass:"text-left",sortable:!1},{label:this.$t("PaymentStatus"),field:"payment_status",html:!0,tdClass:"text-left",thClass:"text-left",sortable:!1}]},columns_payments(){return[{label:this.$t("date"),field:"date",tdClass:"text-left",thClass:"text-left",sortable:!1},{label:this.$t("Reference"),field:"Ref",tdClass:"text-left",thClass:"text-left",sortable:!1},{label:this.$t("Purchase"),field:"purchase_Ref",tdClass:"text-left",thClass:"text-left",sortable:!1},{label:this.$t("ModePaiement"),field:"Reglement",tdClass:"text-left",thClass:"text-left",sortable:!1},{label:this.$t("Amount"),field:"montant",tdClass:"text-left",thClass:"text-left",type:"decimal",sortable:!1}]}},methods:{Purchase_PDF(){var e=this;let t=new ee["default"]("p","pt"),a=[{title:"Ref",dataKey:"Ref"},{title:"Supplier",dataKey:"provider_name"},{title:"Warehouse",dataKey:"warehouse_name"},{title:"Total",dataKey:"GrandTotal"},{title:"Paid",dataKey:"paid_amount"},{title:"Due",dataKey:"due"},{title:"Status",dataKey:"statut"},{title:"Status Payment",dataKey:"payment_status"}];t.autoTable(a,e.purchases),t.text("Purchase List",40,25),t.save("Purchase_List.pdf")},Returns_Purchase_PDF(){var e=this;let t=new ee["default"]("p","pt"),a=[{title:"Ref",dataKey:"Ref"},{title:"Supplier",dataKey:"provider_name"},{title:"Warehouse",dataKey:"warehouse_name"},{title:"Purchase",dataKey:"purchase_ref"},{title:"Total",dataKey:"GrandTotal"},{title:"Paid",dataKey:"paid_amount"},{title:"Due",dataKey:"due"},{title:"Status",dataKey:"statut"},{title:"Status Payment",dataKey:"payment_status"}];t.autoTable(a,e.returns_supplier),t.text("Purchase Returns",40,25),t.save("purchase_returns.pdf")},Payments_PDF(){var e=this;let t=new ee["default"]("p","pt"),a=[{title:"Date",dataKey:"date"},{title:"Ref",dataKey:"Ref"},{title:"Purchase",dataKey:"purchase_Ref"},{title:"Reglement",dataKey:"Reglement"},{title:"Amount",dataKey:"montant"}];t.autoTable(a,e.payments),t.text("Payments List",40,25),t.save("Payments_List.pdf")},formatNumber(e,t){const a=("string"===typeof e?e:e.toString()).split(".");if(t<=0)return a[0];let s=a[1]||"";if(s.length>t)return`${a[0]}.${s.substr(0,t)}`;while(s.length<t)s+="0";return`${a[0]}.${s}`},Get_Reports(){let e=this.$route.params.id;axios.get(`report/provider/${e}`).then((e=>{this.provider=e.data.report,this.isLoading=!1})).catch((e=>{setTimeout((()=>{this.isLoading=!1}),500)}))},PageChangePurchases({currentPage:e}){this.purchases_page!==e&&this.Get_Sales(e)},onPerPageChangePurchases({currentPerPage:e}){this.limit_purchases!==e&&(this.limit_purchases=e,this.Get_Purchases(1))},onSearch_purchases(e){this.search_purchases=e.searchTerm,this.Get_Purchases(1)},Get_Purchases(e){axios.get("report/provider_purchases?page="+e+"&limit="+this.limit_purchases+"&search="+this.search_purchases+"&id="+this.$route.params.id).then((e=>{this.purchases=e.data.purchases,this.totalRows_purchases=e.data.totalRows,this.isLoading=!1})).catch((e=>{this.isLoading=!1}))},PageChangePayments({currentPage:e}){this.Payment_page!==e&&this.Get_Payments(e)},onPerPageChangePayments({currentPerPage:e}){this.limit_payments!==e&&(this.limit_payments=e,this.Get_Payments(1))},onSearch_payments(e){this.search_payments=e.searchTerm,this.Get_Payments(1)},Get_Payments(e){axios.get("/report/provider_payments?page="+e+"&limit="+this.limit_payments+"&search="+this.search_payments+"&id="+this.$route.params.id).then((e=>{this.payments=e.data.payments,this.totalRows_payments=e.data.totalRows})).catch((e=>{}))},PageChangeReturns({currentPage:e}){this.Return_page!==e&&this.Get_Returns(e)},onPerPageChangeReturns({currentPerPage:e}){this.limit_returns!==e&&(this.limit_returns=e,this.Get_Returns(1))},onSearch_return_purchases(e){this.search_return_purchases=e.searchTerm,this.Get_Returns(1)},Get_Returns(e){axios.get("/report/provider_returns?page="+e+"&limit="+this.limit_payments+"&search="+this.search_return_purchases+"&id="+this.$route.params.id).then((e=>{this.returns_supplier=e.data.returns_supplier,this.totalRows_returns=e.data.totalRows})).catch((e=>{}))}},created:function(){this.Get_Reports(),this.Get_Purchases(1),this.Get_Payments(1),this.Get_Returns(1)}};var ae=a(66262);const se=(0,ae.A)(te,[["render",Y]]),le=se}}]);
//# sourceMappingURL=detail_supplier_report.c3519e7c.js.map