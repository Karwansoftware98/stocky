"use strict";(self["webpackChunk"]=self["webpackChunk"]||[]).push([[9225],{65116:(e,l,t)=>{t.r(l),t.d(l,{default:()=>g});var a=t(20641),o=t(53751),i=t(90033);const d={class:"main-content"},s={key:0,class:"loading_page spinner spinner-primary mr-3"},n=(0,a.Lk)("i",{class:"i-Yes me-2 font-weight-bold"},null,-1),r={key:0,class:"typo__p"},m=(0,a.Lk)("div",{class:"spinner sm spinner-primary mt-3"},null,-1),u=[m];function p(e,l,t,m,p,_){const c=(0,a.g2)("breadcumb"),b=(0,a.g2)("b-form-input"),f=(0,a.g2)("b-form-invalid-feedback"),h=(0,a.g2)("b-form-group"),y=(0,a.g2)("validation-provider"),g=(0,a.g2)("b-col"),F=(0,a.g2)("v-select"),k=(0,a.g2)("Datepicker"),v=(0,a.g2)("b-row"),V=(0,a.g2)("b-card"),$=(0,a.g2)("b-button"),C=(0,a.g2)("b-form"),S=(0,a.g2)("validation-observer");return(0,a.uX)(),(0,a.CE)("div",d,[(0,a.bF)(c,{page:e.$t("Add_Employee"),folder:e.$t("Employees")},null,8,["page","folder"]),p.isLoading?((0,a.uX)(),(0,a.CE)("div",s)):(0,a.Q3)("",!0),p.isLoading?(0,a.Q3)("",!0):((0,a.uX)(),(0,a.Wv)(S,{key:1,ref:"Create_Employee"},{default:(0,a.k6)((()=>[(0,a.bF)(C,{onSubmit:(0,o.D$)(_.Submit_Employee,["prevent"]),enctype:"multipart/form-data"},{default:(0,a.k6)((()=>[(0,a.bF)(v,null,{default:(0,a.k6)((()=>[(0,a.bF)(g,{md:"8"},{default:(0,a.k6)((()=>[(0,a.bF)(V,null,{default:(0,a.k6)((()=>[(0,a.bF)(v,null,{default:(0,a.k6)((()=>[(0,a.bF)(g,{lg:"6",md:"6",sm:"12",class:"mb-2"},{default:(0,a.k6)((()=>[(0,a.bF)(y,{name:"FirstName",rules:{required:!0}},{default:(0,a.k6)((t=>[(0,a.bF)(h,{label:e.$t("FirstName")+" *"},{default:(0,a.k6)((()=>[(0,a.bF)(b,{state:_.getValidationState(t),"aria-describedby":"FirstName-feedback",label:"FirstName",placeholder:e.$t("Enter_FirstName"),modelValue:p.employee.firstname,"onUpdate:modelValue":l[0]||(l[0]=e=>p.employee.firstname=e)},null,8,["state","placeholder","modelValue"]),(0,a.bF)(f,{id:"FirstName-feedback"},{default:(0,a.k6)((()=>[(0,a.eW)((0,i.v_)(t.errors[0]),1)])),_:2},1024)])),_:2},1032,["label"])])),_:1})])),_:1}),(0,a.bF)(g,{lg:"6",md:"6",sm:"12",class:"mb-2"},{default:(0,a.k6)((()=>[(0,a.bF)(y,{name:"LastName",rules:{required:!0}},{default:(0,a.k6)((t=>[(0,a.bF)(h,{label:e.$t("LastName")+" *"},{default:(0,a.k6)((()=>[(0,a.bF)(b,{state:_.getValidationState(t),"aria-describedby":"LastName-feedback",label:"LastName",placeholder:e.$t("Enter_LastName"),modelValue:p.employee.lastname,"onUpdate:modelValue":l[1]||(l[1]=e=>p.employee.lastname=e)},null,8,["state","placeholder","modelValue"]),(0,a.bF)(f,{id:"LastName-feedback"},{default:(0,a.k6)((()=>[(0,a.eW)((0,i.v_)(t.errors[0]),1)])),_:2},1024)])),_:2},1032,["label"])])),_:1})])),_:1}),(0,a.bF)(g,{lg:"6",md:"6",sm:"12",class:"mb-2"},{default:(0,a.k6)((()=>[(0,a.bF)(y,{name:"Gender",rules:{required:!0}},{default:(0,a.k6)((()=>[(0,a.bF)(h,{"slot-scope":"{ valid, errors }",label:e.$t("Gender")+" *"},{default:(0,a.k6)((()=>[(0,a.bF)(F,{class:(0,i.C4)({"is-invalid":!!e.errors.length}),state:!e.errors[0]&&(!!e.valid||null),modelValue:p.employee.gender,"onUpdate:modelValue":l[2]||(l[2]=e=>p.employee.gender=e),reduce:e=>e.value,placeholder:e.$t("Choose_Gender"),options:[{label:"Male",value:"male"},{label:"Female",value:"female"}]},null,8,["class","state","modelValue","reduce","placeholder"]),(0,a.bF)(f,null,{default:(0,a.k6)((()=>[(0,a.eW)((0,i.v_)(e.errors[0]),1)])),_:1})])),_:1},8,["label"])])),_:1})])),_:1}),(0,a.bF)(g,{lg:"6",md:"6",sm:"12",class:"mb-2"},{default:(0,a.k6)((()=>[(0,a.bF)(h,{label:e.$t("Birth_date")},{default:(0,a.k6)((()=>[(0,a.bF)(k,{id:"birth_date",name:"birth_date",placeholder:e.$t("Enter_Birth_date"),modelValue:p.employee.birth_date,"onUpdate:modelValue":l[3]||(l[3]=e=>p.employee.birth_date=e),"input-class":"form-control back_important",format:"yyyy-MM-dd",onClosed:l[4]||(l[4]=e=>p.employee.birth_date=_.formatDate(p.employee.birth_date))},null,8,["placeholder","modelValue"])])),_:1},8,["label"])])),_:1}),(0,a.bF)(g,{lg:"6",md:"6",sm:"12",class:"mb-2"},{default:(0,a.k6)((()=>[(0,a.bF)(h,{label:e.$t("Email_Address")},{default:(0,a.k6)((()=>[(0,a.bF)(b,{label:"Email_Address",placeholder:e.$t("Enter_email_address"),modelValue:p.employee.email,"onUpdate:modelValue":l[5]||(l[5]=e=>p.employee.email=e)},null,8,["placeholder","modelValue"])])),_:1},8,["label"])])),_:1}),(0,a.bF)(g,{lg:"6",md:"6",sm:"12",class:"mb-2"},{default:(0,a.k6)((()=>[(0,a.bF)(h,{label:e.$t("Country")},{default:(0,a.k6)((()=>[(0,a.bF)(b,{label:"Country",placeholder:e.$t("Enter_Country"),modelValue:p.employee.country,"onUpdate:modelValue":l[6]||(l[6]=e=>p.employee.country=e)},null,8,["placeholder","modelValue"])])),_:1},8,["label"])])),_:1}),(0,a.bF)(g,{lg:"6",md:"6",sm:"12",class:"mb-2"},{default:(0,a.k6)((()=>[(0,a.bF)(h,{label:e.$t("Phone")},{default:(0,a.k6)((()=>[(0,a.bF)(b,{label:"phone",placeholder:e.$t("Enter_Phone_Number"),modelValue:p.employee.phone,"onUpdate:modelValue":l[7]||(l[7]=e=>p.employee.phone=e)},null,8,["placeholder","modelValue"])])),_:1},8,["label"])])),_:1}),(0,a.bF)(g,{lg:"6",md:"6",sm:"12",class:"mb-2"},{default:(0,a.k6)((()=>[(0,a.bF)(h,{label:e.$t("joining_date")},{default:(0,a.k6)((()=>[(0,a.bF)(k,{id:"joining_date",name:"joining_date",placeholder:e.$t("Enter_joining_date"),modelValue:p.employee.joining_date,"onUpdate:modelValue":l[8]||(l[8]=e=>p.employee.joining_date=e),"input-class":"form-control back_important",format:"yyyy-MM-dd",onClosed:l[9]||(l[9]=e=>p.employee.joining_date=_.formatDate(p.employee.joining_date))},null,8,["placeholder","modelValue"])])),_:1},8,["label"])])),_:1}),(0,a.bF)(g,{md:"6",class:"mb-2"},{default:(0,a.k6)((()=>[(0,a.bF)(y,{name:"Company",rules:{required:!0}},{default:(0,a.k6)((()=>[(0,a.bF)(h,{"slot-scope":"{ valid, errors }",label:e.$t("Company")+" *"},{default:(0,a.k6)((()=>[(0,a.bF)(F,{class:(0,i.C4)([{"is-invalid":!!e.errors.length},"required"]),state:!e.errors[0]&&(!!e.valid||null),modelValue:p.employee.company_id,"onUpdate:modelValue":l[10]||(l[10]=e=>p.employee.company_id=e),required:"",onInput:_.Selected_Company,placeholder:e.$t("Choose_Company"),reduce:e=>e.value,options:p.companies.map((e=>({label:e.name,value:e.id})))},null,8,["class","state","modelValue","onInput","placeholder","reduce","options"]),(0,a.bF)(f,null,{default:(0,a.k6)((()=>[(0,a.eW)((0,i.v_)(e.errors[0]),1)])),_:1})])),_:1},8,["label"])])),_:1})])),_:1}),(0,a.bF)(g,{md:"6",class:"mb-2"},{default:(0,a.k6)((()=>[(0,a.bF)(y,{name:"Department",rules:{required:!0}},{default:(0,a.k6)((()=>[(0,a.bF)(h,{"slot-scope":"{ valid, errors }",label:e.$t("Department")+" *"},{default:(0,a.k6)((()=>[(0,a.bF)(F,{class:(0,i.C4)([{"is-invalid":!!e.errors.length},"required"]),state:!e.errors[0]&&(!!e.valid||null),modelValue:p.employee.department_id,"onUpdate:modelValue":l[11]||(l[11]=e=>p.employee.department_id=e),required:"",onInput:_.Selected_Department,placeholder:e.$t("Department"),reduce:e=>e.value,options:p.departments.map((e=>({label:e.department,value:e.id})))},null,8,["class","state","modelValue","onInput","placeholder","reduce","options"]),(0,a.bF)(f,null,{default:(0,a.k6)((()=>[(0,a.eW)((0,i.v_)(e.errors[0]),1)])),_:1})])),_:1},8,["label"])])),_:1})])),_:1}),(0,a.bF)(g,{md:"6",class:"mb-2"},{default:(0,a.k6)((()=>[(0,a.bF)(y,{name:"Designation",rules:{required:!0}},{default:(0,a.k6)((()=>[(0,a.bF)(h,{"slot-scope":"{ valid, errors }",label:e.$t("Designation")+" *"},{default:(0,a.k6)((()=>[(0,a.bF)(F,{class:(0,i.C4)([{"is-invalid":!!e.errors.length},"required"]),state:!e.errors[0]&&(!!e.valid||null),modelValue:p.employee.designation_id,"onUpdate:modelValue":l[12]||(l[12]=e=>p.employee.designation_id=e),required:"",onInput:_.Selected_Designation,placeholder:e.$t("Choose_Designation"),reduce:e=>e.value,options:p.designations.map((e=>({label:e.designation,value:e.id})))},null,8,["class","state","modelValue","onInput","placeholder","reduce","options"]),(0,a.bF)(f,null,{default:(0,a.k6)((()=>[(0,a.eW)((0,i.v_)(e.errors[0]),1)])),_:1})])),_:1},8,["label"])])),_:1})])),_:1}),(0,a.bF)(g,{md:"6",class:"mb-2"},{default:(0,a.k6)((()=>[(0,a.bF)(y,{name:"Office_Shift",rules:{required:!0}},{default:(0,a.k6)((()=>[(0,a.bF)(h,{"slot-scope":"{ valid, errors }",label:e.$t("Office_Shift")+" *"},{default:(0,a.k6)((()=>[(0,a.bF)(F,{class:(0,i.C4)([{"is-invalid":!!e.errors.length},"required"]),state:!e.errors[0]&&(!!e.valid||null),modelValue:p.employee.office_shift_id,"onUpdate:modelValue":l[13]||(l[13]=e=>p.employee.office_shift_id=e),required:"",onInput:_.Selected_Office_shift,placeholder:e.$t("Choose_Office_Shift"),reduce:e=>e.value,options:p.office_shifts.map((e=>({label:e.name,value:e.id})))},null,8,["class","state","modelValue","onInput","placeholder","reduce","options"]),(0,a.bF)(f,null,{default:(0,a.k6)((()=>[(0,a.eW)((0,i.v_)(e.errors[0]),1)])),_:1})])),_:1},8,["label"])])),_:1})])),_:1})])),_:1})])),_:1})])),_:1}),(0,a.bF)(g,{md:"12",class:"mt-3"},{default:(0,a.k6)((()=>[(0,a.bF)($,{variant:"primary",type:"submit",disabled:p.SubmitProcessing},{default:(0,a.k6)((()=>[n,(0,a.eW)(" "+(0,i.v_)(e.$t("submit")),1)])),_:1},8,["disabled"]),l[14]||((0,a.Vq)(-1),l[14]=p.SubmitProcessing?((0,a.uX)(),(0,a.CE)("div",r,u)):(0,a.Q3)("",!0),(0,a.Vq)(1),l[14])])),_:1})])),_:1})])),_:1},8,["onSubmit"])])),_:1},512))])}var _=t(5947),c=t.n(_),b=t(56045);const f={metaInfo:{title:"Create Employee"},components:{Datepicker:b.A},data(){return{isLoading:!0,SubmitProcessing:!1,data:new FormData,companies:[],departments:[],designations:[],office_shifts:[],roles:{},employee:{firstname:"",lastname:"",country:"",email:"",gender:"",phone:"",birth_date:"",department_id:"",designation_id:"",office_shift_id:"",joining_date:"",company_id:""}}},methods:{Submit_Employee(){this.$refs.Create_Employee.validate().then((e=>{e?this.Create_Employee():this.makeToast("danger",this.$t("Please_fill_the_form_correctly"),this.$t("Failed"))}))},makeToast(e,l,t){this.$root.$bvToast.toast(l,{title:t,variant:e,solid:!0})},formatDate(e){var l=e.getMonth()+1,t=l<10?"0"+l:l,a=e.getDate(),o=a<10?"0"+a:a;return[e.getFullYear(),t,o].join("-")},getValidationState({dirty:e,validated:l,valid:t=null}){return e||l?t:null},GetElements(){axios.get("employees/create").then((e=>{this.companies=e.data.companies,this.isLoading=!1})).catch((e=>{setTimeout((()=>{this.isLoading=!1}),500),this.makeToast("danger",this.$t("InvalidData"),this.$t("Failed"))}))},Selected_Company(e){null===e&&(this.employee.company_id="",this.employee.department_id="",this.employee.designation_id="",this.employee.office_shift_id=""),this.departments=[],this.designations=[],this.employee.department_id="",this.employee.designation_id="",this.employee.office_shift_id="",this.Get_departments_by_company(e),this.Get_office_shift_by_company(e)},Selected_Department(e){null===e&&(this.employee.department_id="",this.employee.designation_id=""),this.designations=[],this.employee.designation_id="",this.Get_designations_by_department(e)},Selected_Designation(e){null===e&&(this.employee.designation_id="")},Selected_Office_shift(e){null===e&&(this.employee.office_shift_id="")},Get_departments_by_company(e){axios.get("/core/get_departments_by_company?id="+e).then((({data:e})=>this.departments=e))},Get_designations_by_department(e){axios.get("/core/get_designations_by_department?id="+e).then((({data:e})=>this.designations=e))},Get_office_shift_by_company(e){axios.get("/core/get_office_shift_by_company?id="+e).then((({data:e})=>this.office_shifts=e))},Create_Employee(){c().start(),c().set(.1);var e=this;e.SubmitProcessing=!0,axios.post("/employees",{firstname:e.employee.firstname,lastname:e.employee.lastname,country:e.employee.country,email:e.employee.email,gender:e.employee.gender,phone:e.employee.phone,birth_date:e.employee.birth_date,company_id:e.employee.company_id,department_id:e.employee.department_id,designation_id:e.employee.designation_id,office_shift_id:e.employee.office_shift_id,joining_date:e.employee.joining_date}).then((l=>{c().done(),e.SubmitProcessing=!1,this.$router.push({name:"employees_list"}),this.makeToast("success",this.$t("Successfully_Created"),this.$t("Success"))})).catch((l=>{c().done(),this.makeToast("danger",this.$t("InvalidData"),this.$t("Failed")),e.SubmitProcessing=!1}))}},created:function(){this.GetElements()}};var h=t(66262);const y=(0,h.A)(f,[["render",p]]),g=y}}]);
//# sourceMappingURL=store_employee.17c149f0.js.map