{"version":3,"file":"js/quantity_alerts.bcf2bc8a.js","mappings":"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","sources":["webpack:///./src/views/app/pages/reports/quantity_alerts.vue","webpack:///./src/views/app/pages/reports/quantity_alerts.vue?4309"],"sourcesContent":["<template>\r\n  <div class=\"main-content\">\r\n    <breadcumb :page=\"$t('ProductQuantityAlerts')\" :folder=\"$t('Reports')\"/>\r\n    <div v-if=\"isLoading\" class=\"loading_page spinner spinner-primary mr-3\"></div>\r\n\r\n    <vue-good-table\r\n      v-if=\"!isLoading\"\r\n      mode=\"remote\"\r\n      :columns=\"columns\"\r\n      :totalRows=\"totalRows\"\r\n      :rows=\"products\"\r\n      @on-page-change=\"onPageChange\"\r\n      @on-per-page-change=\"onPerPageChange\"\r\n      :pagination-options=\"{\r\n        enabled: true,\r\n        mode: 'records',\r\n        nextLabel: 'next',\r\n        prevLabel: 'prev',\r\n      }\"\r\n      styleClass=\"table-hover tableOne vgt-table\"\r\n    >\r\n      <div slot=\"table-actions\" class=\"mt-2 mb-3 quantity_alert_warehouse\">\r\n        <!-- warehouse -->\r\n        <b-form-group :label=\"$t('warehouse')\">\r\n          <v-select\r\n            @input=\"Selected_Warehouse\"\r\n            v-model=\"warehouse_id\"\r\n            :reduce=\"label => label.value\"\r\n            :placeholder=\"$t('Choose_Warehouse')\"\r\n            :options=\"warehouses.map(warehouses => ({label: warehouses.name, value: warehouses.id}))\"\r\n          />\r\n        </b-form-group>\r\n      </div>\r\n\r\n      <div slot=\"table-actions\" class=\"mt-2 mb-3\">\r\n        \r\n          <b-button @click=\"stock_alert_PDF()\" size=\"sm\" variant=\"outline-success ripple m-1\">\r\n            <i class=\"i-File-Copy\"></i> PDF\r\n          </b-button>\r\n           <vue-excel-xlsx\r\n              class=\"btn btn-sm btn-outline-danger ripple m-1\"\r\n              :data=\"products\"\r\n              :columns=\"columns\"\r\n              :file-name=\"'Alerts_report'\"\r\n              :file-type=\"'xlsx'\"\r\n              :sheet-name=\"'Alerts_report'\"\r\n              >\r\n              <i class=\"i-File-Excel\"></i> EXCEL\r\n          </vue-excel-xlsx>\r\n        </div>\r\n\r\n      <template slot=\"table-row\" slot-scope=\"props\">\r\n        <div v-if=\"props.column.field == 'stock_alert'\">\r\n          <span class=\"badge badge-outline-danger\">{{props.row.stock_alert}}</span>\r\n        </div>\r\n      </template>\r\n    </vue-good-table>\r\n    <!-- </b-card> -->\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport NProgress from \"nprogress\";\r\nimport jsPDF from \"jspdf\";\r\nimport \"jspdf-autotable\";\r\n\r\nexport default {\r\n  metaInfo: {\r\n    title: \"Products Alert\"\r\n  },\r\n  data() {\r\n    return {\r\n      isLoading: true,\r\n      serverParams: {\r\n        sort: {\r\n          field: \"id\",\r\n          type: \"desc\"\r\n        },\r\n        page: 1,\r\n        perPage: 10\r\n      },\r\n      limit: \"10\",\r\n      totalRows: \"\",\r\n      products: [],\r\n      warehouses: [],\r\n      warehouse_id: \"\"\r\n    };\r\n  },\r\n\r\n  computed: {\r\n    columns() {\r\n      return [\r\n        {\r\n          label: this.$t(\"ProductCode\"),\r\n          field: \"code\",\r\n          tdClass: \"text-left\",\r\n          thClass: \"text-left\",\r\n          sortable: false\r\n        },\r\n        {\r\n          label: this.$t(\"ProductName\"),\r\n          field: \"name\",\r\n          tdClass: \"text-left\",\r\n          thClass: \"text-left\",\r\n          sortable: false\r\n        },\r\n        {\r\n          label: this.$t(\"warehouse\"),\r\n          field: \"warehouse\",\r\n          tdClass: \"text-left\",\r\n          thClass: \"text-left\",\r\n          sortable: false\r\n        },\r\n        {\r\n          label: this.$t(\"Quantity\"),\r\n          field: \"quantity\",\r\n          tdClass: \"text-left\",\r\n          thClass: \"text-left\",\r\n          sortable: false\r\n        },\r\n        {\r\n          label: this.$t(\"AlertQuantity\"),\r\n          field: \"stock_alert\",\r\n          tdClass: \"text-left\",\r\n          thClass: \"text-left\",\r\n          sortable: false\r\n        }\r\n      ];\r\n    }\r\n  },\r\n\r\n  methods: {\r\n\r\n      //----------------------------------- Sales PDF ------------------------------\\\\\r\n    stock_alert_PDF() {\r\n      var self = this;\r\n\r\n      let pdf = new jsPDF(\"p\", \"pt\");\r\n      let columns = [\r\n        { title: \"Code\", dataKey: \"code\" },\r\n        { title: \"name\", dataKey: \"name\" },\r\n        { title: \"Warehouse\", dataKey: \"warehouse\" },\r\n        { title: \"quantity\", dataKey: \"quantity\" },\r\n        { title: \"Stock Alert\", dataKey: \"stock_alert\" },\r\n      ];\r\n      pdf.autoTable(columns, self.products);\r\n      pdf.text(\"Stock Alert report\", 40, 25);\r\n      pdf.save(\"Stock_alert_report.pdf\");\r\n    },\r\n\r\n\r\n    //---- update Params Table\r\n    updateParams(newProps) {\r\n      this.serverParams = Object.assign({}, this.serverParams, newProps);\r\n    },\r\n\r\n    //---- Event Page Change\r\n    onPageChange({ currentPage }) {\r\n      if (this.serverParams.page !== currentPage) {\r\n        this.updateParams({ page: currentPage });\r\n        this.Get_Stock_Alerts(currentPage);\r\n      }\r\n    },\r\n\r\n    //---- Event Per Page Change\r\n    onPerPageChange({ currentPerPage }) {\r\n      if (this.limit !== currentPerPage) {\r\n        this.limit = currentPerPage;\r\n        this.updateParams({ page: 1, perPage: currentPerPage });\r\n        this.Get_Stock_Alerts(1);\r\n      }\r\n    },\r\n\r\n    //---------------------- Event Select Warehouse ------------------------------\\\\\r\n    Selected_Warehouse(value) {\r\n      if (value === null) {\r\n        this.warehouse_id = \"\";\r\n      }\r\n      this.Get_Stock_Alerts(1);\r\n    },\r\n\r\n    //----------------------------- Get Stock Alerts-------------------\\\\\r\n    Get_Stock_Alerts(page) {\r\n      // Start the progress bar.\r\n      NProgress.start();\r\n      NProgress.set(0.1);\r\n      axios\r\n        .get(\r\n          \"get_products_stock_alerts?page=\" +\r\n            page +\r\n            \"&warehouse=\" +\r\n            this.warehouse_id +\r\n            \"&limit=\" +\r\n            this.limit\r\n        )\r\n        .then(response => {\r\n          this.products = response.data.products.data;\r\n          this.warehouses = response.data.warehouses;\r\n          this.totalRows = response.data.products.total;\r\n          // Complete the animation of theprogress bar.\r\n          NProgress.done();\r\n          this.isLoading = false;\r\n        })\r\n        .catch(response => {\r\n          // Complete the animation of theprogress bar.\r\n          NProgress.done();\r\n          setTimeout(() => {\r\n            this.isLoading = false;\r\n          }, 500);\r\n        });\r\n    }\r\n  }, //end Methods\r\n\r\n  //----------------------------- Created function------------------- \\\\\r\n\r\n  created: function() {\r\n    this.Get_Stock_Alerts(1);\r\n  }\r\n};\r\n</script>","import { render } from \"./quantity_alerts.vue?vue&type=template&id=84382e3a\"\nimport script from \"./quantity_alerts.vue?vue&type=script&lang=js\"\nexport * from \"./quantity_alerts.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","slot","page","$t","folder","isLoading","mode","columns","totalRows","rows","products","onPageChange","onPerPageChange","styleClass","label","Selected_Warehouse","warehouse_id","reduce","value","placeholder","options","warehouses","map","name","id","stock_alert_PDF","size","variant","data","props","column","field","row","stock_alert","metaInfo","title","serverParams","sort","type","perPage","limit","computed","this","tdClass","thClass","sortable","methods","self","pdf","dataKey","autoTable","text","save","updateParams","newProps","Object","assign","currentPage","Get_Stock_Alerts","currentPerPage","axios","get","then","response","total","catch","setTimeout","created","__exports__","render"],"sourceRoot":""}